{"version":3,"file":"index.js","mappings":"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","sources":["webpack://@dtci/spellbook/webpack/universalModuleDefinition","webpack://@dtci/spellbook/webpack/bootstrap","webpack://@dtci/spellbook/webpack/runtime/compat get default export","webpack://@dtci/spellbook/webpack/runtime/define property getters","webpack://@dtci/spellbook/webpack/runtime/hasOwnProperty shorthand","webpack://@dtci/spellbook/webpack/runtime/make namespace object","webpack://@dtci/spellbook/external commonjs \"@babel/runtime/helpers/defineProperty\"","webpack://@dtci/spellbook/external commonjs \"@babel/runtime/helpers/slicedToArray\"","webpack://@dtci/spellbook/external commonjs \"@babel/runtime/helpers/objectWithoutProperties\"","webpack://@dtci/spellbook/external commonjs \"react\"","webpack://@dtci/spellbook/external commonjs \"classnames\"","webpack://@dtci/spellbook/external commonjs \"shortid\"","webpack://@dtci/spellbook/external commonjs \"react/jsx-runtime\"","webpack://@dtci/spellbook/./src/CollapsiblePanel/CollapsiblePanel.tsx"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/defineProperty\");","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/slicedToArray\");","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/objectWithoutProperties\");","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"react\");","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"classnames\");","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"shortid\");","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"react/jsx-runtime\");","import {\n  FC,\n  ReactNode,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport classNames from 'classnames';\nimport shortid from 'shortid';\n\n// Styles\nimport './CollapsiblePanel.scss';\n\n// Types\nimport { TestMetadata } from 'types';\n\nexport interface CollapsiblePanelProps {\n  /** Elements to Wrap **/\n  children?: ReactNode;\n  /** Class name **/\n  className?: string;\n  /** Determines if panel is open by default when uncontrolled, ignored if `isOpen` is used **/\n  isOpenByDefault?: boolean;\n  /** Determines if panel is open **/\n  isOpen?: boolean;\n  /** Callback run when changing the open state is requested **/\n  onToggleOpen?: (nextValue: boolean) => void;\n  /** Content element id, will generate a random one if not provided **/\n  contentId?: string;\n  /** Header button element id, will generate a random one if not provided **/\n  headerButtonId?: string;\n  /** remove the border of the component **/\n  borderless?: boolean;\n  /** Element to toggle content  **/\n  toggleBar?: ReactNode;\n  /** Toggle bar location in relation to content - top (default), bottom  **/\n  toggleBarLocation?: 'top' | 'bottom';\n  /** Toggle bar clickable area */\n  toggleBarClick?: 'icon' | 'full';\n  /** toggleBar horizontal alignment alignment - left (default), right, center **/\n  toggleHorizontalAlignment?: 'left' | 'right' | 'center';\n  /** type for button on the collapsible header*/\n  buttonType?: 'button' | 'submit' | 'reset';\n  // Test IDs for sections of CollapsiblePanel\n  testMetadata?: {\n    collapsiblePanel?: TestMetadata;\n    content?: TestMetadata;\n  };\n  /** Function that returns an element to toggle content  **/\n  renderToggleBar?: (isOpen: boolean) => JSX.Element;\n  /** ToggleIcon */\n  toggleIcon?: string;\n  /** toggleClass */\n  toggleClass?: string;\n  /** Selectable */\n  selectable?: boolean;\n  /** Selected */\n  selected?: boolean;\n}\n\nconst CollapsiblePanel: FC<CollapsiblePanelProps> = ({\n  children,\n  className,\n  contentId: maybeContentId,\n  headerButtonId: maybeHeaderButtonId,\n  toggleBar,\n  isOpen: isOpenInput,\n  isOpenByDefault = false,\n  borderless,\n  onToggleOpen,\n  toggleBarLocation = 'top',\n  toggleHorizontalAlignment = 'left',\n  buttonType = 'button',\n  testMetadata,\n  renderToggleBar = () => toggleBar,\n  toggleIcon = 'chevron-right',\n  toggleClass,\n  toggleBarClick = 'full',\n  selectable,\n  selected,\n  ...otherProps\n}) => {\n  const [isOpen, setIsOpen] = useState(\n    typeof isOpenInput === 'undefined' ? isOpenByDefault : isOpenInput,\n  );\n\n  useEffect(() => {\n    if (typeof isOpenInput !== 'undefined') {\n      setIsOpen(isOpenInput);\n    }\n  }, [isOpenInput, setIsOpen]);\n\n  const handleHeaderButtonClick = useCallback(() => {\n    if (typeof isOpenInput === 'undefined') {\n      setIsOpen(!isOpen);\n      if (onToggleOpen) {\n        onToggleOpen(!isOpen);\n      }\n    } else {\n      if (onToggleOpen) {\n        onToggleOpen(!isOpenInput);\n      }\n    }\n  }, [setIsOpen, isOpen, isOpenInput, onToggleOpen]);\n\n  // TODO: change to isomorphic friendly solution when available\n  // https://github.com/reactjs/rfcs/pull/32\n  // headerButtonId is used identify the label for the content (see aria-labelledby)\n  const headerButtonId = useMemo(\n    () => maybeHeaderButtonId || shortid.generate(),\n    [maybeHeaderButtonId],\n  );\n\n  // contentId is used to identify that the button controls the content (see aria-controls)\n  const contentId = useMemo(\n    () => maybeContentId || shortid.generate(),\n    [maybeContentId],\n  );\n\n  const collapsiblePanelClassNames = useMemo(\n    () =>\n      classNames(\n        'sb-collapsible-panel',\n        {\n          'sb-collapsible-panel__borderless': borderless,\n        },\n        className,\n      ),\n    [className, borderless],\n  );\n\n  const collapsiblePanelTitleClassNames = useMemo(\n    () =>\n      classNames('sb-collapsible-panel__title', {\n        'sb-collapsible-panel__title--open': isOpen,\n        'sb-collapsible-panel__title--selectable': selectable,\n        'sb-collapsible-panel__title--selected': selected,\n        'sb-collapsible-panel__toggle-alignment-left':\n          toggleHorizontalAlignment === 'left',\n        'sb-collapsible-panel__toggle-alignment-center':\n          toggleHorizontalAlignment === 'center',\n        'sb-collapsible-panel__toggle-alignment-right':\n          toggleHorizontalAlignment === 'right',\n        'sb-collapsible-panel__title-clickable': toggleBarClick === 'full',\n      }),\n    [isOpen, toggleHorizontalAlignment, toggleBarClick, selectable, selected],\n  );\n\n  const collapsiblePanelIconClassNames = useMemo(\n    () =>\n      classNames(\n        `fas fa-${toggleIcon} sb-collapsible-panel__icon`,\n        {\n          'sb-collapsible-panel__icon--down': isOpen,\n        },\n        toggleClass,\n      ),\n    [toggleIcon, isOpen, toggleClass],\n  );\n\n  const collapsiblePanelContentClassNames = useMemo(\n    () =>\n      classNames('sb-collapsible-panel__content', {\n        'sb-collapsible-panel__content--collapsed': !isOpen,\n      }),\n    [isOpen],\n  );\n\n  const toggleButton =\n    toggleBarClick === 'full' ? (\n      <button\n        className={collapsiblePanelTitleClassNames}\n        onClick={handleHeaderButtonClick}\n        aria-expanded={isOpen}\n        aria-controls={contentId}\n        id={headerButtonId}\n        type={buttonType}\n        // TODO: remove when isomorphic friendly solution is implemented\n        suppressHydrationWarning\n      >\n        <div className={collapsiblePanelIconClassNames} />\n        {renderToggleBar &&\n          typeof renderToggleBar === 'function' &&\n          toggleBarClick === 'full' &&\n          renderToggleBar(isOpen)}\n      </button>\n    ) : (\n      <div\n        className={collapsiblePanelTitleClassNames}\n        aria-controls={contentId}\n      >\n        <button\n          className={classNames('sb-collapsible-panel__button', {\n            'sb-collapsible-panel__button--open': isOpen,\n          })}\n          onClick={handleHeaderButtonClick}\n          aria-expanded={isOpen}\n          id={headerButtonId}\n          type={buttonType}\n          // TODO: remove when isomorphic friendly solution is implemented\n          suppressHydrationWarning\n        >\n          <div className={collapsiblePanelIconClassNames} />\n        </button>\n        {renderToggleBar &&\n          typeof renderToggleBar === 'function' &&\n          toggleBarClick === 'icon' &&\n          renderToggleBar(isOpen)}\n      </div>\n    );\n\n  return (\n    <div\n      {...otherProps}\n      className={collapsiblePanelClassNames}\n      {...testMetadata?.collapsiblePanel}\n    >\n      {toggleBarLocation === 'top' && toggleButton}\n      <div\n        id={contentId}\n        className={collapsiblePanelContentClassNames}\n        role=\"region\"\n        aria-labelledby={headerButtonId}\n        // TODO: remove when isomorphic friendly solution is implemented\n        suppressHydrationWarning\n        {...testMetadata?.content}\n      >\n        <div className=\"sb-collapsible-panel__content-inner\">{children}</div>\n      </div>\n\n      {toggleBarLocation === 'bottom' && toggleButton}\n    </div>\n  );\n};\n\nexport default CollapsiblePanel;\n"],"names":["root","factory","exports","module","define","amd","a","i","this","__webpack_require__","getter","__esModule","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","require","children","className","maybeContentId","contentId","maybeHeaderButtonId","headerButtonId","toggleBar","isOpenInput","isOpen","isOpenByDefault","borderless","onToggleOpen","toggleBarLocation","toggleHorizontalAlignment","buttonType","testMetadata","renderToggleBar","toggleIcon","toggleClass","toggleBarClick","selectable","selected","otherProps","useState","setIsOpen","useEffect","handleHeaderButtonClick","useCallback","useMemo","shortid","collapsiblePanelClassNames","classNames","collapsiblePanelTitleClassNames","collapsiblePanelIconClassNames","collapsiblePanelContentClassNames","toggleButton","onClick","id","type","suppressHydrationWarning","collapsiblePanel","role","content"],"sourceRoot":""}