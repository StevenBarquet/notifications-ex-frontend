!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,(function(){return function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{MultiSelect:function(){return G},MultiSelectPopout:function(){return ee}});var n=require("@babel/runtime/helpers/slicedToArray"),r=e.n(n),o=require("@babel/runtime/helpers/defineProperty"),l=e.n(o),a=require("@babel/runtime/helpers/objectWithoutProperties"),s=e.n(a),i=require("react"),c=require("classnames"),u=e.n(c),d=require("react-select"),p=e.n(d),b=require("react-select/async"),f=e.n(b),m=require("react-select/creatable"),h=e.n(m),v=require("react-select/async-creatable"),O=e.n(v),y=require("react/jsx-runtime"),g=["className","loadText","size","imageUrl","animation","location","testMetadata"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e){var t=e.className,n=e.loadText,r=void 0===n?"Loading...":n,o=e.size,l=void 0===o?"medium":o,a=e.imageUrl,c=e.animation,d=void 0===c?"spin":c,p=e.location,b=void 0===p?"mask":p,f=e.testMetadata,m=s()(e,g),h=(0,i.useMemo)((function(){return u()("sb-spinner_".concat(b),"sb-spinner_animate_".concat(d),"sb-spinner_".concat(l))}),[l,d,b]),v={};return a&&(v="mask"===b?{maskImage:"url(".concat(a,")"),WebkitMaskImage:"url(".concat(a,")")}:{backgroundImage:"url(".concat(a,")")}),(0,y.jsxs)("div",x(x(x({},m),{},{className:u()("sb-spinner",t),role:"alert","aria-live":"assertive"},f),{},{children:[(0,y.jsx)("p",{className:"sb-spinner-load-text",children:r}),(0,y.jsx)("div",{className:h,style:v,"data-testid":"spinner-mask"})]}))},P=["children","className","disabled","href","testMetadata","rel","underline"];function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){var t=e.children,n=e.className,r=e.disabled,o=e.href,l=e.testMetadata,a=e.rel,c=void 0===a?"noopener noreferrer":a,d=e.underline,p=void 0===d?"none":d,b=s()(e,P),f=(0,i.useMemo)((function(){return u()("sb-link","sb-link_underline_".concat(p),{"sb-link_disabled":r},n)}),[n,p,r]);return(0,y.jsx)("a",E(E(E({"aria-disabled":r,className:f,href:o,rel:o&&c},l),b),{},{children:t}))},w=require("@dtci/dash/analytics"),k=["className","labelText","inputRef","type","required","width","testMetadata","isError","flush","bordered","isDisabled","analyticsEventData"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(e){var t=e.className,n=e.labelText,r=e.inputRef,o=e.type,l=void 0===o?"text":o,a=e.required,c=e.width,d=void 0===c?"small":c,p=e.testMetadata,b=e.isError,f=void 0!==b&&b,m=e.flush,h=e.bordered,v=void 0===h||h,O=e.isDisabled,g=e.analyticsEventData,j=s()(e,k),x=(0,i.useMemo)((function(){return u()("sb-input",{"sb-input_error":f,"sb-input__is-required":a,"sb-input__is-disabled":O,"sb-input__size-small":"small"===d,"sb-input__size-medium":"medium"===d,"sb-input__size-large":"large"===d,"sb-input__size-auto":"auto"===d,"sb-input__flush-right":"right"===m,"sb-input__flush":"flush"===m,"sb-input__flush-left":"left"===m,"sb-input__borderless":!v},t)}),[t,a,d,f,m,v,O]),_=(0,i.useContext)(w.AnalyticsContext),P=j.onFocus,C=j.onBlur,E=j.onKeyDown,S=(0,i.useCallback)((function(e){null==P||P(e),(0,w.handleAnalyticsEvent)({analyticsContext:_,analyticsEventData:g,componentType:"Input",actionName:"focus",label:(null==j?void 0:j["aria-label"])||(null==j?void 0:j.name)||n||t||(null==p?void 0:p["data-testid"])||"",value:[{text:e.target.value}]})}),[_,g,t,n,P,j,p]),N=(0,i.useCallback)((function(e){null==C||C(e),(0,w.handleAnalyticsEvent)({analyticsContext:_,analyticsEventData:g,componentType:"Input",actionName:"blur",label:(null==j?void 0:j["aria-label"])||(null==j?void 0:j.name)||n||t||(null==p?void 0:p["data-testid"])||"",value:[{text:e.target.value}]})}),[_,g,t,n,C,j,p]),M=(0,i.useCallback)((function(e){null==E||E(e),"Enter"===e.key&&(0,w.handleAnalyticsEvent)({analyticsContext:_,analyticsEventData:g,componentType:"Input",actionName:"enter",label:(null==j?void 0:j["aria-label"])||(null==j?void 0:j.name)||n||t||(null==p?void 0:p["data-testid"])||"",value:[{text:e.currentTarget.value}]})}),[_,g,t,n,j,p,E]);return(0,y.jsx)("input",L(L({},j),{},{onFocus:S,onBlur:N,onKeyDown:M,className:x,required:a,"aria-required":a,"aria-label":n,ref:r,type:l},p))},D=["className","option","onChange","disabled","checked","defaultChecked","inputProps","inputRef","isError","testMetadata"];function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q,I=function(e){var t=e.className,n=e.option,r=e.onChange,o=e.disabled,l=e.checked,a=e.defaultChecked,c=e.inputProps,d=e.inputRef,p=e.isError,b=void 0!==p&&p,f=e.testMetadata,m=s()(e,D),h=(0,i.useMemo)((function(){return u()("sb-checkbox__input",{"sb-checkbox_error":b},null==c?void 0:c.className)}),[c,b]),v=(0,i.useMemo)((function(){return u()("sb-checkbox",t,{"sb-checkbox_disabled":o})}),[t,o]),O=(0,i.useCallback)((function(){return null==r?void 0:r(n.value)}),[r,n.value]);return(0,y.jsx)("div",T(T({},m),{},{className:v,children:(0,y.jsxs)("label",{htmlFor:String(n.id),className:"sb-checkbox__label",children:[(0,y.jsx)("input",T(T(T({type:"checkbox",name:String(n.name||n.id),id:String(n.id),disabled:o,checked:l,onChange:O,defaultChecked:a,role:"checkbox",ref:d},f),c),{},{className:h})),(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"sb-checkbox__label-text",children:n.label}),n.helpText&&(0,y.jsx)("div",{className:"sb-checkbox__helper",children:n.helpText})]})]})}))},F=["ref"],R=["selectProps"],V=["onChange","className","isFetching","icon","testMetadata","iconContainerClassName","useMenuPortal","isError","customClear","components","flush","creatable","onCreateOption","async","loadOptions","analyticsEventData","showCheckboxes"],z=["children"];function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SELECT_ALL="Select All",e.UNSELECT_ALL="Unselect All",e.SELECT_ALL_VALUE="select_all"}(q||(q={}));var K=function(e){var t=e.innerProps,n=t.ref,r=s()(t,F);return(0,y.jsx)("div",B(B({},r),{},{ref:n,children:(0,y.jsx)("div",{className:"sb-multiselect__clear-indicator",children:"CLEAR ALL"})}))},W=function(){return(0,y.jsx)(_,{className:"sb-select__loading-indicator",size:"small"})},Y=function(e){var t=e.selectProps,n=s()(e,R),r=t.inputRef,o=t.onInputChange,l=t.inputValue,a=t.onMenuInputFocus,i=t.showSelectAllOption,c=t.showInputPopout,u=t.innerListRef;return(0,y.jsxs)("div",{className:"sb-muiltiselect_menu-list-wrapper",ref:u,children:[c&&(0,y.jsx)("div",{className:"sb-multiselect_popout-actions",children:(0,y.jsx)(M,{className:"sb-multiselect_popout-input",inputRef:r,value:l,placeholder:"Search...",width:"auto",onChange:function(e){o&&o(e.currentTarget.value,{action:"input-change"})},onMouseDown:function(e){e.stopPropagation(),e.target.focus()},onTouchEnd:function(e){e.stopPropagation(),e.target.focus()},onFocus:a})}),i&&(0,y.jsx)("div",{className:"sb-multiselect__select-all sb-link sb-link_underline_hover",onClick:t.handleSelectAll,children:(0,y.jsx)(S,{testMetadata:{"data-testid":"selectAllLink","data-qeid":"selectAllLink"},underline:"hover",children:t.selectAllText})}),(0,y.jsx)(d.components.MenuList,B(B({},n),{},{selectProps:t}))]})},G=function(e){var t,n=e.onChange,o=e.className,l=e.isFetching,a=e.icon,c=e.testMetadata,b=e.iconContainerClassName,m=e.useMenuPortal,v=void 0!==m&&m,g=e.isError,j=void 0!==g&&g,x=e.customClear,_=void 0===x||x,P=e.components,C=e.flush,E=e.creatable,S=e.onCreateOption,k=e.async,N=e.loadOptions,L=e.analyticsEventData,M=e.showCheckboxes,D=s()(e,V),A=(0,i.useState)(D.value||[]),T=r()(A,2),F=T[0],R=T[1],U=(0,i.useState)((null==F?void 0:F.length)===(null==D||null===(t=D.options)||void 0===t?void 0:t.length)?q.UNSELECT_ALL:q.SELECT_ALL),G=r()(U,2),H=G[0],J=G[1],Q=(0,i.useContext)(w.AnalyticsContext),X=(0,i.useCallback)((function(e,t){R(e),null==n||n(e,t),(0,w.handleAnalyticsEvent)({analyticsContext:Q,analyticsEventData:L,componentType:"MultiSelect",actionName:"onChange",label:(null==D?void 0:D["aria-label"])||(null==D?void 0:D.name)||o||(null==c?void 0:c["data-testid"])||"",value:null!=e&&Array.from(e)||[]})}),[Q,L,o,n,D,c]),Z=(0,i.useCallback)((function(){var e=D.options,t={action:"select-option"};q.SELECT_ALL===H?X(e,t):X([],t)}),[X,D.options,H]);(0,i.useEffect)((function(){var e;J((null==F?void 0:F.length)===(null==D||null===(e=D.options)||void 0===e?void 0:e.length)?q.UNSELECT_ALL:q.SELECT_ALL)}),[F,D]),(0,i.useEffect)((function(){R(D.value)}),[D.value]);var $=(0,i.useMemo)((function(){return a?function(e){var t=e.children,n=s()(e,z);return(0,y.jsxs)(d.components.ValueContainer,B(B({},n),{},{children:[!!t&&(0,y.jsx)("div",{className:u()("sb-multiselect__icon-container",b),children:a}),(0,y.jsx)("div",{className:"sb-multiselect__value-container-content",children:t})]}))}:d.components.ValueContainer}),[a,b]),ee=B(B({menuPortalTarget:v&&"undefined"!=typeof window?document.body:null},D),{},{isLoading:l,instanceId:D.instanceId||D.id,components:B(B({LoadingIndicator:W,ValueContainer:$,MenuList:Y},_&&{ClearIndicator:K}),P),isMulti:!0,styles:{menu:function(e){return B(B({},e),{},{position:D.expands?"static":"absolute",border:D.borderless?0:e.border,boxShadow:D.borderless?"none":e.boxShadow,"&:hover":{boxShadow:D.borderless?"none":e.boxShadow},zIndex:20})},menuPortal:function(e){return B(B({},e),{},{zIndex:20})}},closeMenuOnSelect:!1,hideSelectedOptions:!1,tabSelectsValue:E||!1,classNamePrefix:"sb-multiselect",className:u()("sb-multiselect",{"sb-multiselect_error":j,"sb-multiselect__flush-right":"right"===C,"sb-multiselect__flush-left":"left"===C,"sb-multiselect__flush":"flush"===C,"sb-multiselect_with-checkboxes":M},o)});if(M){return(0,y.jsx)(p(),B(B(B({},ee),c),{},{components:B(B({},ee.components),{},{Option:function(e){return(0,y.jsx)(d.components.Option,B(B({},e),{},{children:(0,y.jsx)(I,{checked:e.isSelected,option:{id:e.data.id,value:e.data.value,label:e.label}})}))}}),value:F,selectAllText:H,handleSelectAll:Z,onChange:X}))}return E?k&&N?(0,y.jsx)(O(),B(B(B({},ee),c),{},{loadOptions:N,onCreateOption:S,onChange:X,icon:a})):(0,y.jsx)(h(),B(B(B({},ee),c),{},{onCreateOption:S,onChange:X,icon:a})):k&&N?(0,y.jsx)(f(),B(B(B({},ee),c),{},{loadOptions:N,onChange:X,icon:a})):(0,y.jsx)(p(),B(B(B({},ee),c),{},{value:F,selectAllText:H,handleSelectAll:Z,onChange:X,icon:a}))},H=require("@dtci/triton/hooks"),J=["children"],Q=["className","onChange","summary","groupSelected","showCheckboxes","showSelectAllOption","closeMenuOnScroll","closeMenuOnEscape"];function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=function(e){var t=e.children,n=s()(e,J),r=n.selectProps,o=r.hasSummary,l=r.placeholder,a=r.icon,i=n.getValue(),c=Boolean(i.length),p=i.map((function(e){return e.label})).join(", "),b=u()("sb-multiselect_popout_value-container",{"sb-multiselect_popout_value-placeholder":!c});return(0,y.jsxs)(d.components.ValueContainer,Z(Z({},n),{},{children:[(0,y.jsxs)("div",{className:b,children:[a&&(0,y.jsx)(y.Fragment,{children:a}),c&&o&&(0,y.jsxs)(y.Fragment,{children:[i.length," selected"]}),c&&!o&&(0,y.jsx)(y.Fragment,{children:p}),!c&&(0,y.jsx)(y.Fragment,{children:l})]}),t]}))},ee=function(e){var t=e.className,n=e.onChange,o=e.summary,l=e.groupSelected,a=e.showCheckboxes,c=e.showSelectAllOption,d=e.closeMenuOnScroll,p=e.closeMenuOnEscape,b=void 0===p||p,f=s()(e,Q),m=(0,i.useRef)(null),h=(0,i.useRef)(null),v=(0,i.useRef)(null),O=(0,i.useState)(!0),g=r()(O,2),j=g[0],x=g[1],_=(0,i.useState)(!1),P=r()(_,2),C=P[0],E=P[1],S=(0,i.useState)(!1),w=r()(S,2),k=w[0],N=w[1],L=(0,i.useState)(f.value||[]),M=r()(L,2),D=M[0],A=M[1],T=(0,i.useState)(""),q=r()(T,2),I=q[0],F=q[1],R=(0,i.useState)(f.options||[]),V=r()(R,2),z=V[0],U=V[1],B=(0,i.useMemo)((function(){return u()("sb-multiselect-popout__wrapper",{"sb-multiselect-popout--focused":C,"sb-multiselect-popout--should-close":k})}),[C,k]),K=(0,i.useMemo)((function(){return u()("sb-multiselect-popout",{"sb-multiselect-popout__group-selected":l},t)}),[t,l]),W=(0,i.useCallback)((function(e,t){A(e),n&&n(e,t)}),[n]);(0,i.useEffect)((function(){f.options&&U(f.options)}),[f.options]),(0,i.useEffect)((function(){if(l){var e,t,n=f.options;t=n.filter((function(e){return!D||!D.includes(e)})),e=n.filter((function(e){return!!D&&D.includes(e)})),U([{label:"Selected",options:e},{label:"Unselected",options:t}])}}),[l,f.options,D]),(0,i.useEffect)((function(){C&&v.current&&v.current.focus()}),[C]);var Y=function(e){var t=h.current,n=m.current,r=e.target instanceof Element&&e.target.id?null==n?void 0:n.querySelector("#"+e.target.id):null==n?void 0:n.contains(e.target);if(e.target instanceof Element&&(null==t||!t.classList.contains("sb-multiselect-popout--should-close")||r)&&(null!=t&&t.contains(e.target)||r)||"BODY"===e.target.tagName)N(!0);else{x(!0),N(!1),E(!1),F("");var o=document.activeElement;null!=t&&t.contains(o)&&o.blur()}};return(0,i.useEffect)((function(){return document.addEventListener("click",Y,{capture:!0}),document.addEventListener("touchend",Y,{capture:!0}),function(){document.removeEventListener("click",Y,{capture:!0}),document.removeEventListener("touchend",Y,{capture:!0})}}),[]),(0,i.useEffect)((function(){A(f.value)}),[f.value]),(0,H.useClickEscape)((function(){b&&(x(!0),N(!1),E(!1))}),[x,N,E,b]),(0,y.jsx)("div",{ref:h,className:B,"data-testid":"multiSelectPopout",children:(0,y.jsx)(G,Z(Z({},f),{},{isClearable:!("isClearable"in f)||f.isClearable,components:Z(Z({},f.components),{},{ValueContainer:$,Placeholder:function(){return(0,y.jsx)(y.Fragment,{})},MultiValue:function(){return(0,y.jsx)(y.Fragment,{})},MultiValueContainer:function(){return(0,y.jsx)(y.Fragment,{})}}),closeMenuOnScroll:function(e){var t;d&&e.target instanceof Element&&(null===(t=e.target.classList)||void 0===t||!t.contains("select__menu-list"))&&(x(!0),N(!1),E(!1),F(""))},onFocus:function(){j&&E(!0)},onMenuInputFocus:function(){E(!0)},menuIsOpen:C,isSearchable:!1,onChange:function(e,t){"clear"===t.action?x(!1):x(!0),W(e,t),setTimeout((function(){C&&v.current&&v.current.focus()}),0)},value:D,options:z,className:K,showInputPopout:!0,showCheckboxes:a,showSelectAllOption:c,hasSummary:o,inputRef:v,innerListRef:m,inputValue:I,onInputChange:function(e){return F(e)}}))})};return t}()}));
//# sourceMappingURL=index.js.map