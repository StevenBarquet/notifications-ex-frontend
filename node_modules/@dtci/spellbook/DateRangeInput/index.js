!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}(this,(function(){return function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:function(){return A}});var n=require("@babel/runtime/helpers/defineProperty"),a=e.n(n),r=require("@babel/runtime/helpers/slicedToArray"),o=e.n(r),s=require("@babel/runtime/helpers/objectWithoutProperties"),i=e.n(s),l=require("react"),c=require("classnames"),u=e.n(c),d=require("react-datepicker"),b=e.n(d),p=require("@dtci/dash/analytics"),f=require("react/jsx-runtime"),y=["className","loadText","size","imageUrl","animation","location","testMetadata"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){var t=e.className,n=e.loadText,a=void 0===n?"Loading...":n,r=e.size,o=void 0===r?"medium":r,s=e.imageUrl,c=e.animation,d=void 0===c?"spin":c,b=e.location,p=void 0===b?"mask":b,v=e.testMetadata,O=i()(e,y),j=(0,l.useMemo)((function(){return u()("sb-spinner_".concat(p),"sb-spinner_animate_".concat(d),"sb-spinner_".concat(o))}),[o,d,p]),g={};return s&&(g="mask"===p?{maskImage:"url(".concat(s,")"),WebkitMaskImage:"url(".concat(s,")")}:{backgroundImage:"url(".concat(s,")")}),(0,f.jsxs)("div",m(m(m({},O),{},{className:u()("sb-spinner",t),role:"alert","aria-live":"assertive"},v),{},{children:[(0,f.jsx)("p",{className:"sb-spinner-load-text",children:a}),(0,f.jsx)("div",{className:j,style:g,"data-testid":"spinner-mask"})]}))},j=["className","colorType","styleType","labelText","iconType","iconPackage","iconPlacement","sizeType","iconOnly","children","shakeOnDisabledHover","disabled","isFetching","onClick","testMetadata","flush","analyticsEventData"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=(0,l.forwardRef)((function(e,t){var n=e.className,r=e.colorType,o=void 0===r?"primary":r,s=e.styleType,c=void 0===s?"promoted":s,d=e.labelText,b=e.iconType,y=e.iconPackage,v=void 0===y?"fas":y,m=e.iconPlacement,g=void 0===m?"before":m,D=e.sizeType,P=e.iconOnly,x=e.children,_=e.shakeOnDisabledHover,w=e.disabled,C=e.isFetching,k=void 0!==C&&C,N=e.onClick,T=e.testMetadata,E=e.flush,M=e.analyticsEventData,S=i()(e,j),q="stacked"===g,z=(0,l.useContext)(p.AnalyticsContext),A=(0,l.useCallback)((function(e){if(k)return e.preventDefault(),void e.stopPropagation();null==N||N(e),(0,p.handleAnalyticsEvent)({analyticsContext:z,analyticsEventData:M,componentType:"Button",actionName:"click",label:(null==S?void 0:S["aria-label"])||d||(null==x?void 0:x.toString())||(null==b?void 0:b.toString())||""})}),[k,N,z,S,d,x,b,M]),F=(0,l.useMemo)((function(){var e;return u()("sb-button",(e={},a()(e,"sb-button_"+o,o),a()(e,"sb-button_"+c,c),a()(e,"sb-button_"+D,D),a()(e,"sb-button_icon-"+g,b&&g),a()(e,"sb-button_icon-only",P),a()(e,"sb-button_no-icon",!b),a()(e,"sb-button_fetching",k),a()(e,"sb-button_disabled",q&&w),a()(e,"sb-shake-on-disabled",_),a()(e,"sb-button_async",k),a()(e,"sb-button__flush-right","right"===E),a()(e,"sb-button__flush","flush"===E),a()(e,"sb-button__flush-left","left"===E),e),n)}),[o,c,g,P,_,n,w,q,D,k,b,E]),R=(0,l.useMemo)((function(){return u()("sb-stacked-wrapper",{"sb-stacked-wrapper-disabled":w})}),[w]),I=(0,f.jsx)("div",{className:"sb-button_spinner-container",children:(0,f.jsx)(O,{size:"small",className:"sb-button_spinner"})}),B=(0,f.jsx)("span",{className:"sb-button_icon-container",children:"string"==typeof b?(0,f.jsxs)(f.Fragment,{children:[k&&I,(0,f.jsx)("i",{className:"".concat(v," ").concat(b," sb-button_icon"),"data-testid":null!=T&&T["data-testid"]?"button-icon":void 0})]}):(0,f.jsxs)(f.Fragment,{children:[k&&I,(0,f.jsx)("span",{className:"sb-button_icon",children:b})]})});return(0,f.jsxs)(f.Fragment,{children:[!q&&(0,f.jsxs)("button",h(h(h({},S),{},{ref:t,className:F,"aria-label":d,title:d,disabled:w,onClick:A},T),{},{children:[b&&(P||!g||"before"===g)&&B,!P&&(0,f.jsx)("span",{className:"sb-button-text",children:x}),k&&!b&&I,b&&!P&&"after"===g&&B]})),q&&(0,f.jsxs)("button",h(h({},S),{},{disabled:w,"aria-label":d,ref:t,title:d,className:R,onClick:A,children:[(0,f.jsx)("span",{className:F,children:B}),(0,f.jsx)("div",{className:"sb-stacked-label",children:x})]}))]})}));D.displayName="Button";var P=D,x=["className","labelText","inputRef","type","required","width","testMetadata","isError","flush","bordered","isDisabled","analyticsEventData"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){var t=e.className,n=e.labelText,a=e.inputRef,r=e.type,o=void 0===r?"text":r,s=e.required,c=e.width,d=void 0===c?"small":c,b=e.testMetadata,y=e.isError,v=void 0!==y&&y,m=e.flush,O=e.bordered,j=void 0===O||O,g=e.isDisabled,h=e.analyticsEventData,D=i()(e,x),P=(0,l.useMemo)((function(){return u()("sb-input",{"sb-input_error":v,"sb-input__is-required":s,"sb-input__is-disabled":g,"sb-input__size-small":"small"===d,"sb-input__size-medium":"medium"===d,"sb-input__size-large":"large"===d,"sb-input__size-auto":"auto"===d,"sb-input__flush-right":"right"===m,"sb-input__flush":"flush"===m,"sb-input__flush-left":"left"===m,"sb-input__borderless":!j},t)}),[t,s,d,v,m,j,g]),_=(0,l.useContext)(p.AnalyticsContext),C=D.onFocus,k=D.onBlur,N=D.onKeyDown,T=(0,l.useCallback)((function(e){null==C||C(e),(0,p.handleAnalyticsEvent)({analyticsContext:_,analyticsEventData:h,componentType:"Input",actionName:"focus",label:(null==D?void 0:D["aria-label"])||(null==D?void 0:D.name)||n||t||(null==b?void 0:b["data-testid"])||"",value:[{text:e.target.value}]})}),[_,h,t,n,C,D,b]),E=(0,l.useCallback)((function(e){null==k||k(e),(0,p.handleAnalyticsEvent)({analyticsContext:_,analyticsEventData:h,componentType:"Input",actionName:"blur",label:(null==D?void 0:D["aria-label"])||(null==D?void 0:D.name)||n||t||(null==b?void 0:b["data-testid"])||"",value:[{text:e.target.value}]})}),[_,h,t,n,k,D,b]),M=(0,l.useCallback)((function(e){null==N||N(e),"Enter"===e.key&&(0,p.handleAnalyticsEvent)({analyticsContext:_,analyticsEventData:h,componentType:"Input",actionName:"enter",label:(null==D?void 0:D["aria-label"])||(null==D?void 0:D.name)||n||t||(null==b?void 0:b["data-testid"])||"",value:[{text:e.currentTarget.value}]})}),[_,h,t,n,D,b,N]);return(0,f.jsx)("input",w(w({},D),{},{onFocus:T,onBlur:E,onKeyDown:M,className:P,required:s,"aria-required":s,"aria-label":n,ref:a,type:o},b))},k=require("@dtci/triton/hooks"),N=["containerClassName","labelText","selected","closeOnEscape","inputProps","onDateChange","showPopperArrow","isError","testMetadata","reactDatePickerProps"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(e){var t=e.containerClassName,n=e.labelText,a=e.selected,r=e.closeOnEscape,s=e.inputProps,c=e.onDateChange,d=e.showPopperArrow,p=e.isError,y=void 0!==p&&p,v=e.testMetadata,m=e.reactDatePickerProps,O=i()(e,N),j=(0,l.useState)(!1),g=o()(j,2),h=g[0],D=g[1],x=(0,l.createRef)(),_=(0,l.useMemo)((function(){return u()("sb-date-input",{"sb-date-input_error":y,"sb-date-input_disabled":O.disabled,"sb-date-input__control--is-focused":h},t)}),[t,O.disabled,h,y]);(0,k.useClickEscape)((function(){var e;r&&x&&(null===(e=x.current)||void 0===e||e.setOpen(!1))}),[x]);var w=(0,l.useRef)(null);return(0,f.jsxs)("div",E(E({className:_,onClick:function(e){e.preventDefault(),D(!h)}},null==v?void 0:v.wrapper),{},{children:[(0,f.jsx)(b(),E(E(E({},O),{},{popperPlacement:"top",popperModifiers:[{name:"preventOverflow",options:{rootBoundary:"viewport"}}],selected:a,customInput:(0,f.jsx)(C,E(E(E({},s),null==v?void 0:v.input),{},{inputRef:w})),dateFormat:O.dateFormat,showPopperArrow:d},m),{},{onChange:function(e){null==c||c(e)},onCalendarClose:function(){var e;D(!1),null===(e=w.current)||void 0===e||e.blur()},onCalendarOpen:function(){D(h)},"aria-label":n,disabled:O.disabled,disabledKeyboardNavigation:O.disabledKeyboardNavigation,ref:x})),(0,f.jsx)(P,E({iconOnly:!0,iconType:"fa-calendar",labelText:n,styleType:"demoted",sizeType:"small",onClick:function(){var e,t;null===(e=x.current)||void 0===e||e.setOpen(!0),null===(t=w.current)||void 0===t||t.focus()}},null==v?void 0:v.button))]}))},S=["containerClassName","startDatelabelText","endDatelabelText","selectedStartDate","selectedEndDate","onDateChange","enforceValidDateRange","orientation","startDateContainerClassName","endDateContainerClassName","inputDateProps","testMetadata","startDateProps","endDateProps"];function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){var t=e.containerClassName,n=e.startDatelabelText,a=e.endDatelabelText,r=e.selectedStartDate,s=e.selectedEndDate,c=e.onDateChange,d=e.enforceValidDateRange,b=void 0===d||d,p=e.orientation,y=e.startDateContainerClassName,v=e.endDateContainerClassName,m=e.inputDateProps,O=e.testMetadata,j=e.startDateProps,g=e.endDateProps,h=i()(e,S),D=(0,l.useMemo)((function(){return u()("sb-daterange-input",{"sb-daterange-input_inline":"inline"===p,"sb-daterange-input_stacked":"stacked"===p},t)}),[t,p]),P=(0,l.useState)(r),x=o()(P,2),_=x[0],w=x[1],C=(0,l.useState)(s),k=o()(C,2),N=k[0],T=k[1];(0,l.useEffect)((function(){w(r)}),[r]),(0,l.useEffect)((function(){T(s)}),[s]);var E=(0,l.useCallback)((function(e){var t=e,n=N;b&&e&&N&&e.getTime()>N.getTime()&&(n=void 0),w(t),T(n),null==c||c(t,n)}),[N,b,c]),q=(0,l.useCallback)((function(e){T(e),null==c||c(_,e)}),[_,c]);return(0,f.jsxs)("div",z(z({},h),{},{className:D,children:[(0,f.jsx)(M,z(z(z({},m),j),{},{containerClassName:y,selected:_,onDateChange:E,selectsStart:!0,startDate:_,endDate:N,labelText:n,calendarClassName:"daterange-input",testMetadata:z({},null==O?void 0:O.startDate)})),(0,f.jsx)(M,z(z(z({},m),g),{},{containerClassName:v,selected:N,onDateChange:q,selectsEnd:!0,startDate:_,endDate:N,minDate:_,labelText:a,calendarClassName:"daterange-input",testMetadata:z({},null==O?void 0:O.endDate)}))]}))};return t}()}));
//# sourceMappingURL=index.js.map