!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}(this,(function(){return function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:function(){return B}});var n=require("@babel/runtime/helpers/defineProperty"),a=e.n(n),r=require("@babel/runtime/helpers/objectWithoutProperties"),s=e.n(r),o=require("react"),i=require("classnames"),c=e.n(i),l=require("lodash/isEmpty"),u=e.n(l),d=require("lodash/isNull"),b=e.n(d),p=require("@dtci/dash/analytics"),f=require("react/jsx-runtime"),h=["className","labelText","inputRef","type","required","width","testMetadata","isError","flush","bordered","isDisabled","analyticsEventData"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){var t=e.className,n=e.labelText,a=e.inputRef,r=e.type,i=void 0===r?"text":r,l=e.required,u=e.width,d=void 0===u?"small":u,b=e.testMetadata,m=e.isError,y=void 0!==m&&m,j=e.flush,O=e.bordered,g=void 0===O||O,_=e.isDisabled,x=e.analyticsEventData,P=s()(e,h),N=(0,o.useMemo)((function(){return c()("sb-input",{"sb-input_error":y,"sb-input__is-required":l,"sb-input__is-disabled":_,"sb-input__size-small":"small"===d,"sb-input__size-medium":"medium"===d,"sb-input__size-large":"large"===d,"sb-input__size-auto":"auto"===d,"sb-input__flush-right":"right"===j,"sb-input__flush":"flush"===j,"sb-input__flush-left":"left"===j,"sb-input__borderless":!g},t)}),[t,l,d,y,j,g,_]),w=(0,o.useContext)(p.AnalyticsContext),C=P.onFocus,D=P.onBlur,k=P.onKeyDown,T=(0,o.useCallback)((function(e){null==C||C(e),(0,p.handleAnalyticsEvent)({analyticsContext:w,analyticsEventData:x,componentType:"Input",actionName:"focus",label:(null==P?void 0:P["aria-label"])||(null==P?void 0:P.name)||n||t||(null==b?void 0:b["data-testid"])||"",value:[{text:e.target.value}]})}),[w,x,t,n,C,P,b]),E=(0,o.useCallback)((function(e){null==D||D(e),(0,p.handleAnalyticsEvent)({analyticsContext:w,analyticsEventData:x,componentType:"Input",actionName:"blur",label:(null==P?void 0:P["aria-label"])||(null==P?void 0:P.name)||n||t||(null==b?void 0:b["data-testid"])||"",value:[{text:e.target.value}]})}),[w,x,t,n,D,P,b]),M=(0,o.useCallback)((function(e){null==k||k(e),"Enter"===e.key&&(0,p.handleAnalyticsEvent)({analyticsContext:w,analyticsEventData:x,componentType:"Input",actionName:"enter",label:(null==P?void 0:P["aria-label"])||(null==P?void 0:P.name)||n||t||(null==b?void 0:b["data-testid"])||"",value:[{text:e.currentTarget.value}]})}),[w,x,t,n,P,b,k]);return(0,f.jsx)("input",v(v({},P),{},{onFocus:T,onBlur:E,onKeyDown:M,className:N,required:l,"aria-required":l,"aria-label":n,ref:a,type:i},b))},j=require("@babel/runtime/helpers/slicedToArray"),O=e.n(j),g=["className","loadText","size","imageUrl","animation","location","testMetadata"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t=e.className,n=e.loadText,a=void 0===n?"Loading...":n,r=e.size,i=void 0===r?"medium":r,l=e.imageUrl,u=e.animation,d=void 0===u?"spin":u,b=e.location,p=void 0===b?"mask":b,h=e.testMetadata,m=s()(e,g),v=(0,o.useMemo)((function(){return c()("sb-spinner_".concat(p),"sb-spinner_animate_".concat(d),"sb-spinner_".concat(i))}),[i,d,p]),y={};return l&&(y="mask"===p?{maskImage:"url(".concat(l,")"),WebkitMaskImage:"url(".concat(l,")")}:{backgroundImage:"url(".concat(l,")")}),(0,f.jsxs)("div",x(x(x({},m),{},{className:c()("sb-spinner",t),role:"alert","aria-live":"assertive"},h),{},{children:[(0,f.jsx)("p",{className:"sb-spinner-load-text",children:a}),(0,f.jsx)("div",{className:v,style:y,"data-testid":"spinner-mask"})]}))},N=["className","colorType","styleType","labelText","iconType","iconPackage","iconPlacement","sizeType","iconOnly","children","shakeOnDisabledHover","disabled","isFetching","onClick","testMetadata","flush","analyticsEventData"];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=(0,o.forwardRef)((function(e,t){var n=e.className,r=e.colorType,i=void 0===r?"primary":r,l=e.styleType,u=void 0===l?"promoted":l,d=e.labelText,b=e.iconType,h=e.iconPackage,m=void 0===h?"fas":h,v=e.iconPlacement,y=void 0===v?"before":v,j=e.sizeType,O=e.iconOnly,g=e.children,_=e.shakeOnDisabledHover,x=e.disabled,w=e.isFetching,D=void 0!==w&&w,k=e.onClick,T=e.testMetadata,E=e.flush,M=e.analyticsEventData,S=s()(e,N),F="stacked"===y,I=(0,o.useContext)(p.AnalyticsContext),q=(0,o.useCallback)((function(e){if(D)return e.preventDefault(),void e.stopPropagation();null==k||k(e),(0,p.handleAnalyticsEvent)({analyticsContext:I,analyticsEventData:M,componentType:"Button",actionName:"click",label:(null==S?void 0:S["aria-label"])||d||(null==g?void 0:g.toString())||(null==b?void 0:b.toString())||""})}),[D,k,I,S,d,g,b,M]),B=(0,o.useMemo)((function(){var e;return c()("sb-button",(e={},a()(e,"sb-button_"+i,i),a()(e,"sb-button_"+u,u),a()(e,"sb-button_"+j,j),a()(e,"sb-button_icon-"+y,b&&y),a()(e,"sb-button_icon-only",O),a()(e,"sb-button_no-icon",!b),a()(e,"sb-button_fetching",D),a()(e,"sb-button_disabled",F&&x),a()(e,"sb-shake-on-disabled",_),a()(e,"sb-button_async",D),a()(e,"sb-button__flush-right","right"===E),a()(e,"sb-button__flush","flush"===E),a()(e,"sb-button__flush-left","left"===E),e),n)}),[i,u,y,O,_,n,x,F,j,D,b,E]),z=(0,o.useMemo)((function(){return c()("sb-stacked-wrapper",{"sb-stacked-wrapper-disabled":x})}),[x]),K=(0,f.jsx)("div",{className:"sb-button_spinner-container",children:(0,f.jsx)(P,{size:"small",className:"sb-button_spinner"})}),R=(0,f.jsx)("span",{className:"sb-button_icon-container",children:"string"==typeof b?(0,f.jsxs)(f.Fragment,{children:[D&&K,(0,f.jsx)("i",{className:"".concat(m," ").concat(b," sb-button_icon"),"data-testid":null!=T&&T["data-testid"]?"button-icon":void 0})]}):(0,f.jsxs)(f.Fragment,{children:[D&&K,(0,f.jsx)("span",{className:"sb-button_icon",children:b})]})});return(0,f.jsxs)(f.Fragment,{children:[!F&&(0,f.jsxs)("button",C(C(C({},S),{},{ref:t,className:B,"aria-label":d,title:d,disabled:x,onClick:q},T),{},{children:[b&&(O||!y||"before"===y)&&R,!O&&(0,f.jsx)("span",{className:"sb-button-text",children:g}),D&&!b&&K,b&&!O&&"after"===y&&R]})),F&&(0,f.jsxs)("button",C(C({},S),{},{disabled:x,"aria-label":d,ref:t,title:d,className:z,onClick:q,children:[(0,f.jsx)("span",{className:B,children:R}),(0,f.jsx)("div",{className:"sb-stacked-label",children:g})]}))]})}));D.displayName="Button";var k=D,T=["labelText","hasIcon","iconClass","inNavDark","inNavLight","value","showCancelBtn","expandable","onChange","onClear","onCancel","onKeyPress","onFocus","className","inputProps","isFocusOnLoad","width","testMetadata"];function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){var t=e.labelText,n=void 0===t?"Search":t,a=e.hasIcon,r=void 0===a||a,i=e.iconClass,l=void 0===i?"fa-search":i,u=e.inNavDark,d=e.inNavLight,b=e.value,p=e.showCancelBtn,h=void 0===p||p,m=e.expandable,v=void 0!==m&&m,j=e.onChange,g=e.onClear,_=void 0===g?function(){}:g,x=e.onCancel,P=e.onKeyPress,N=e.onFocus,w=void 0===N?function(){}:N,C=e.className,D=e.inputProps,E=void 0===D?{}:D,S=e.isFocusOnLoad,F=void 0!==S&&S,I=e.width,q=e.testMetadata,B=void 0===q?{search:{"data-testid":"search"},searchInput:{"data-testid":"searchInput"},searchButton:{"data-testid":"searchButton"},searchIcon:{"data-testid":"searchIcon"},clearButton:{"data-testid":"clearButton"}}:q,z=s()(e,T),K=(0,o.useMemo)((function(){return c()("sb-search",{"sb-search_in-nav":u||d,"sb-search_in-nav_dark":u,"sb-search_in-nav_light":d,"sb-search_with_icon":r},C)}),[r,u,d,C]),R=(0,o.useState)(v),L=O()(R,2),A=L[0],H=L[1],U=(0,o.useRef)(null);(0,o.useEffect)((function(){var e;F&&U.current&&(null===(e=U.current)||void 0===e||e.focus())}),[U,F]);var V=function(e){U&&U.current&&U.current.focus(),j(""),_(),e.preventDefault(),e.stopPropagation()},W=function(){H((function(e){return!e}))},G=(0,o.useMemo)((function(){return c()("sb-search__field__input",E.className)}),[E.className]);return(0,f.jsx)("div",M(M(M({},z),{},{className:K},null==B?void 0:B.search),{},{children:A?(0,f.jsx)(k,M({type:"button",iconOnly:!0,sizeType:"small",styleType:"promoted",iconType:l,onClick:W,className:"sb-search__button"},null==B?void 0:B.searchButton)):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"sb-search__input-container",children:[(0,f.jsx)(y,M(M({labelText:n,placeholder:n,onChange:function(e){j(e.currentTarget.value)},onKeyPress:P,inputRef:U,value:b,onFocus:w,className:G,autoFocus:v,onBlur:function(){return v&&W()},width:I},null==B?void 0:B.searchInput),E)),r&&(0,f.jsx)("i",M({className:"fas ".concat(l," sb-search__icon")},null==B?void 0:B.searchIcon)),b.length>0&&(0,f.jsx)(k,M({type:"button",iconOnly:!0,styleType:"demoted",iconType:"fa-times-circle",labelText:"Clear",className:c()("sb-search__clear",{"sb-search__clear--shrink":h}),onMouseDown:V,onClick:V},null==B?void 0:B.clearButton))]}),h&&b.length>0&&(0,f.jsx)(k,{type:"button",styleType:"demoted",sizeType:"small",className:"sb-search__cancel",onClick:function(){x&&x(),j(""),_()},children:"Cancel"})]})}))},F=["className","inputProps","searchProps","onOpenResults","isLoading","isShowingViewResults","testMetadata","onChange","value","inputComponent","insetComponent","data","minChars","isInteractive","renderDataFunc","filterDataFunc","onKeyPress"];function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(e){var t=e.className,n=e.inputProps,a=e.searchProps,r=e.onOpenResults,i=e.isLoading,l=e.isShowingViewResults,d=void 0===l?"true":l,p=e.testMetadata,h=void 0===p?{autoComplete:{"data-testid":"autocomplete"},searchIcon:{"data-testid":"searchIcon"}}:p,m=e.onChange,v=e.value,j=e.inputComponent,O=void 0===j?"input":j,g=e.insetComponent,_=e.data,x=e.minChars,P=void 0===x?0:x,N=e.isInteractive,w=void 0===N||N,C=e.renderDataFunc,D=e.filterDataFunc,k=void 0===D?function(){return!0}:D,T=e.onKeyPress,E=void 0===T?function(){}:T,M=s()(e,F),I=(0,o.useMemo)((function(){return c()("sb-autocomplete",t)}),[t]),B=(0,o.useMemo)((function(){return c()("sb-autocomplete__results",{"sb-autocomplete__results_interactive":w},t)}),[t,w]),z=(0,o.useMemo)((function(){return _&&_.filter((function(e){return k(e)}))}),[_,k]),K=(0,o.useCallback)((function(e,t){return C(e,t)}),[C]),R=(0,o.useCallback)((function(e){return m(e.target.value)}),[m]),L=(0,o.useCallback)((function(){return r&&r(v)}),[v,r]),A=v.length>=P;return(0,f.jsxs)("div",q(q(q({},M),null==h?void 0:h.autoComplete),{},{className:I,children:["input"===O&&(0,f.jsx)(y,q({role:"input",onKeyPress:E,value:v,onChange:R},n)),"search"===O&&(0,f.jsx)(S,q({onKeyPress:E,value:v,onChange:m,inputProps:n},a)),"string"!=typeof O?O:null,g,(v||!u()(z))&&(0,f.jsxs)("ul",{className:B,children:[d&&v.length>0&&(0,f.jsxs)("li",{role:"item",onClick:L,className:"sb-autocomplete__echo",children:[(0,f.jsx)("i",q(q({},null==h?void 0:h.searchIcon),{},{className:"fas fa-search sb-autocomplete__echo__search-icon"})),(0,f.jsxs)("span",{className:"sb-autocomplete__echo__search-value",children:['"',(0,f.jsx)("strong",{children:v}),'"']})]}),A&&(0,f.jsxs)(f.Fragment,{children:[z&&z.map(K),!b()(_)&&u()(z)&&(0,f.jsx)("li",{className:"sb-autocomplete__results_msg",children:"No results found"}),i&&b()(_)&&(0,f.jsx)("li",{className:"sb-autocomplete__results_msg",children:"Loading..."})]})]})]}))};return t}()}));
//# sourceMappingURL=index.js.map