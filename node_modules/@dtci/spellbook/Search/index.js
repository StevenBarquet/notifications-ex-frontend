!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}(this,(function(){return function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:function(){return T}});var n=require("@babel/runtime/helpers/defineProperty"),a=e.n(n),r=require("@babel/runtime/helpers/slicedToArray"),s=e.n(r),o=require("@babel/runtime/helpers/objectWithoutProperties"),i=e.n(o),c=require("react"),l=require("classnames"),u=e.n(l),b=require("@dtci/dash/analytics"),d=require("react/jsx-runtime"),p=["className","loadText","size","imageUrl","animation","location","testMetadata"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){var t=e.className,n=e.loadText,a=void 0===n?"Loading...":n,r=e.size,s=void 0===r?"medium":r,o=e.imageUrl,l=e.animation,b=void 0===l?"spin":l,f=e.location,v=void 0===f?"mask":f,h=e.testMetadata,m=i()(e,p),O=(0,c.useMemo)((function(){return u()("sb-spinner_".concat(v),"sb-spinner_animate_".concat(b),"sb-spinner_".concat(s))}),[s,b,v]),j={};return o&&(j="mask"===v?{maskImage:"url(".concat(o,")"),WebkitMaskImage:"url(".concat(o,")")}:{backgroundImage:"url(".concat(o,")")}),(0,d.jsxs)("div",y(y(y({},m),{},{className:u()("sb-spinner",t),role:"alert","aria-live":"assertive"},h),{},{children:[(0,d.jsx)("p",{className:"sb-spinner-load-text",children:a}),(0,d.jsx)("div",{className:O,style:j,"data-testid":"spinner-mask"})]}))},h=["className","colorType","styleType","labelText","iconType","iconPackage","iconPlacement","sizeType","iconOnly","children","shakeOnDisabledHover","disabled","isFetching","onClick","testMetadata","flush","analyticsEventData"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=(0,c.forwardRef)((function(e,t){var n=e.className,r=e.colorType,s=void 0===r?"primary":r,o=e.styleType,l=void 0===o?"promoted":o,p=e.labelText,f=e.iconType,y=e.iconPackage,m=void 0===y?"fas":y,j=e.iconPlacement,g=void 0===j?"before":j,_=e.sizeType,x=e.iconOnly,P=e.children,N=e.shakeOnDisabledHover,w=e.disabled,k=e.isFetching,D=void 0!==k&&k,T=e.onClick,C=e.testMetadata,E=e.flush,M=e.analyticsEventData,S=i()(e,h),F="stacked"===g,I=(0,c.useContext)(b.AnalyticsContext),B=(0,c.useCallback)((function(e){if(D)return e.preventDefault(),void e.stopPropagation();null==T||T(e),(0,b.handleAnalyticsEvent)({analyticsContext:I,analyticsEventData:M,componentType:"Button",actionName:"click",label:(null==S?void 0:S["aria-label"])||p||(null==P?void 0:P.toString())||(null==f?void 0:f.toString())||""})}),[D,T,I,S,p,P,f,M]),q=(0,c.useMemo)((function(){var e;return u()("sb-button",(e={},a()(e,"sb-button_"+s,s),a()(e,"sb-button_"+l,l),a()(e,"sb-button_"+_,_),a()(e,"sb-button_icon-"+g,f&&g),a()(e,"sb-button_icon-only",x),a()(e,"sb-button_no-icon",!f),a()(e,"sb-button_fetching",D),a()(e,"sb-button_disabled",F&&w),a()(e,"sb-shake-on-disabled",N),a()(e,"sb-button_async",D),a()(e,"sb-button__flush-right","right"===E),a()(e,"sb-button__flush","flush"===E),a()(e,"sb-button__flush-left","left"===E),e),n)}),[s,l,g,x,N,n,w,F,_,D,f,E]),z=(0,c.useMemo)((function(){return u()("sb-stacked-wrapper",{"sb-stacked-wrapper-disabled":w})}),[w]),A=(0,d.jsx)("div",{className:"sb-button_spinner-container",children:(0,d.jsx)(v,{size:"small",className:"sb-button_spinner"})}),K=(0,d.jsx)("span",{className:"sb-button_icon-container",children:"string"==typeof f?(0,d.jsxs)(d.Fragment,{children:[D&&A,(0,d.jsx)("i",{className:"".concat(m," ").concat(f," sb-button_icon"),"data-testid":null!=C&&C["data-testid"]?"button-icon":void 0})]}):(0,d.jsxs)(d.Fragment,{children:[D&&A,(0,d.jsx)("span",{className:"sb-button_icon",children:f})]})});return(0,d.jsxs)(d.Fragment,{children:[!F&&(0,d.jsxs)("button",O(O(O({},S),{},{ref:t,className:q,"aria-label":p,title:p,disabled:w,onClick:B},C),{},{children:[f&&(x||!g||"before"===g)&&K,!x&&(0,d.jsx)("span",{className:"sb-button-text",children:P}),D&&!f&&A,f&&!x&&"after"===g&&K]})),F&&(0,d.jsxs)("button",O(O({},S),{},{disabled:w,"aria-label":p,ref:t,title:p,className:z,onClick:B,children:[(0,d.jsx)("span",{className:q,children:K}),(0,d.jsx)("div",{className:"sb-stacked-label",children:P})]}))]})}));j.displayName="Button";var g=j,_=["className","labelText","inputRef","type","required","width","testMetadata","isError","flush","bordered","isDisabled","analyticsEventData"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e){var t=e.className,n=e.labelText,a=e.inputRef,r=e.type,s=void 0===r?"text":r,o=e.required,l=e.width,p=void 0===l?"small":l,f=e.testMetadata,y=e.isError,v=void 0!==y&&y,h=e.flush,m=e.bordered,O=void 0===m||m,j=e.isDisabled,g=e.analyticsEventData,x=i()(e,_),N=(0,c.useMemo)((function(){return u()("sb-input",{"sb-input_error":v,"sb-input__is-required":o,"sb-input__is-disabled":j,"sb-input__size-small":"small"===p,"sb-input__size-medium":"medium"===p,"sb-input__size-large":"large"===p,"sb-input__size-auto":"auto"===p,"sb-input__flush-right":"right"===h,"sb-input__flush":"flush"===h,"sb-input__flush-left":"left"===h,"sb-input__borderless":!O},t)}),[t,o,p,v,h,O,j]),w=(0,c.useContext)(b.AnalyticsContext),k=x.onFocus,D=x.onBlur,T=x.onKeyDown,C=(0,c.useCallback)((function(e){null==k||k(e),(0,b.handleAnalyticsEvent)({analyticsContext:w,analyticsEventData:g,componentType:"Input",actionName:"focus",label:(null==x?void 0:x["aria-label"])||(null==x?void 0:x.name)||n||t||(null==f?void 0:f["data-testid"])||"",value:[{text:e.target.value}]})}),[w,g,t,n,k,x,f]),E=(0,c.useCallback)((function(e){null==D||D(e),(0,b.handleAnalyticsEvent)({analyticsContext:w,analyticsEventData:g,componentType:"Input",actionName:"blur",label:(null==x?void 0:x["aria-label"])||(null==x?void 0:x.name)||n||t||(null==f?void 0:f["data-testid"])||"",value:[{text:e.target.value}]})}),[w,g,t,n,D,x,f]),M=(0,c.useCallback)((function(e){null==T||T(e),"Enter"===e.key&&(0,b.handleAnalyticsEvent)({analyticsContext:w,analyticsEventData:g,componentType:"Input",actionName:"enter",label:(null==x?void 0:x["aria-label"])||(null==x?void 0:x.name)||n||t||(null==f?void 0:f["data-testid"])||"",value:[{text:e.currentTarget.value}]})}),[w,g,t,n,x,f,T]);return(0,d.jsx)("input",P(P({},x),{},{onFocus:C,onBlur:E,onKeyDown:M,className:N,required:o,"aria-required":o,"aria-label":n,ref:a,type:s},f))},w=["labelText","hasIcon","iconClass","inNavDark","inNavLight","value","showCancelBtn","expandable","onChange","onClear","onCancel","onKeyPress","onFocus","className","inputProps","isFocusOnLoad","width","testMetadata"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(e){var t=e.labelText,n=void 0===t?"Search":t,a=e.hasIcon,r=void 0===a||a,o=e.iconClass,l=void 0===o?"fa-search":o,b=e.inNavDark,p=e.inNavLight,f=e.value,y=e.showCancelBtn,v=void 0===y||y,h=e.expandable,m=void 0!==h&&h,O=e.onChange,j=e.onClear,_=void 0===j?function(){}:j,x=e.onCancel,P=e.onKeyPress,k=e.onFocus,T=void 0===k?function(){}:k,C=e.className,E=e.inputProps,M=void 0===E?{}:E,S=e.isFocusOnLoad,F=void 0!==S&&S,I=e.width,B=e.testMetadata,q=void 0===B?{search:{"data-testid":"search"},searchInput:{"data-testid":"searchInput"},searchButton:{"data-testid":"searchButton"},searchIcon:{"data-testid":"searchIcon"},clearButton:{"data-testid":"clearButton"}}:B,z=i()(e,w),A=(0,c.useMemo)((function(){return u()("sb-search",{"sb-search_in-nav":b||p,"sb-search_in-nav_dark":b,"sb-search_in-nav_light":p,"sb-search_with_icon":r},C)}),[r,b,p,C]),K=(0,c.useState)(m),L=s()(K,2),R=L[0],H=L[1],U=(0,c.useRef)(null);(0,c.useEffect)((function(){var e;F&&U.current&&(null===(e=U.current)||void 0===e||e.focus())}),[U,F]);var W=function(e){U&&U.current&&U.current.focus(),O(""),_(),e.preventDefault(),e.stopPropagation()},G=function(){H((function(e){return!e}))},J=(0,c.useMemo)((function(){return u()("sb-search__field__input",M.className)}),[M.className]);return(0,d.jsx)("div",D(D(D({},z),{},{className:A},null==q?void 0:q.search),{},{children:R?(0,d.jsx)(g,D({type:"button",iconOnly:!0,sizeType:"small",styleType:"promoted",iconType:l,onClick:G,className:"sb-search__button"},null==q?void 0:q.searchButton)):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"sb-search__input-container",children:[(0,d.jsx)(N,D(D({labelText:n,placeholder:n,onChange:function(e){O(e.currentTarget.value)},onKeyPress:P,inputRef:U,value:f,onFocus:T,className:J,autoFocus:m,onBlur:function(){return m&&G()},width:I},null==q?void 0:q.searchInput),M)),r&&(0,d.jsx)("i",D({className:"fas ".concat(l," sb-search__icon")},null==q?void 0:q.searchIcon)),f.length>0&&(0,d.jsx)(g,D({type:"button",iconOnly:!0,styleType:"demoted",iconType:"fa-times-circle",labelText:"Clear",className:u()("sb-search__clear",{"sb-search__clear--shrink":v}),onMouseDown:W,onClick:W},null==q?void 0:q.clearButton))]}),v&&f.length>0&&(0,d.jsx)(g,{type:"button",styleType:"demoted",sizeType:"small",className:"sb-search__cancel",onClick:function(){x&&x(),O(""),_()},children:"Cancel"})]})}))};return t}()}));
//# sourceMappingURL=index.js.map