!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,(function(){return function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{SelectButton:function(){return H},default:function(){return N}});var n=require("@babel/runtime/helpers/defineProperty"),r=e.n(n),a=require("@babel/runtime/helpers/objectWithoutProperties"),s=e.n(a),o=require("react"),i=require("classnames"),c=e.n(i),l=require("react-select"),u=e.n(l),d=require("react-select/async"),b=e.n(d),p=require("react-select/creatable"),f=e.n(p),y=require("react-select/async-creatable"),m=e.n(y),v=require("react/jsx-runtime"),h=["className","loadText","size","imageUrl","animation","location","testMetadata"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t=e.className,n=e.loadText,r=void 0===n?"Loading...":n,a=e.size,i=void 0===a?"medium":a,l=e.imageUrl,u=e.animation,d=void 0===u?"spin":u,b=e.location,p=void 0===b?"mask":b,f=e.testMetadata,y=s()(e,h),m=(0,o.useMemo)((function(){return c()("sb-spinner_".concat(p),"sb-spinner_animate_".concat(d),"sb-spinner_".concat(i))}),[i,d,p]),j={};return l&&(j="mask"===p?{maskImage:"url(".concat(l,")"),WebkitMaskImage:"url(".concat(l,")")}:{backgroundImage:"url(".concat(l,")")}),(0,v.jsxs)("div",O(O(O({},y),{},{className:c()("sb-spinner",t),role:"alert","aria-live":"assertive"},f),{},{children:[(0,v.jsx)("p",{className:"sb-spinner-load-text",children:r}),(0,v.jsx)("div",{className:m,style:j,"data-testid":"spinner-mask"})]}))},x=require("@dtci/dash/analytics"),P=["className","components","styles","isFetching","icon","useMenuPortal","iconContainerClassName","isError","testMetadata","flush","creatable","async","loadOptions","analyticsEventData"],_=["children"];function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(){return(0,v.jsx)(g,{className:"sb-select__loading-indicator",size:"small"})},N=function(e){var t=e.className,n=e.components,r=e.styles,a=e.isFetching,i=e.icon,d=e.useMenuPortal,p=void 0!==d&&d,y=e.iconContainerClassName,h=e.isError,j=void 0!==h&&h,O=e.testMetadata,g=e.flush,C=e.creatable,N=e.async,D=e.loadOptions,S=e.analyticsEventData,T=s()(e,P),M=(0,o.useMemo)((function(){return i?function(e){var t=e.children,n=s()(e,_);return(0,v.jsxs)(l.components.ValueContainer,k(k({},n),{},{children:[!!t&&(0,v.jsx)("div",{className:c()("sb-select__icon-container",y),children:i}),(0,v.jsx)("div",{children:t})]}))}:l.components.ValueContainer}),[i,y]),E=(0,o.useMemo)((function(){return k(k({isSearchable:N||C||!1,tabSelectsValue:C||!1,menuPortalTarget:p&&"undefined"!=typeof window?document.body:null},T),{},{isLoading:a,instanceId:T.instanceId||T.id,components:k({LoadingIndicator:w,ValueContainer:M},n),styles:k(k({},r),{},{menu:function(e,t){return k(k({},e),{},{position:T.expands?"static":"absolute",zIndex:20},(null==r?void 0:r.menu)&&r.menu(e,t))},menuPortal:function(e){return k(k({},e),{},{zIndex:20})}}),classNamePrefix:"sb-select",className:c()("sb-select",{"sb-select_error":j,"sb-select__flush-right":"right"===g,"sb-select__flush-left":"left"===g,"sb-select__flush":"flush"===g},t)})}),[N,C,p,T,a,M,n,r,j,g,t]),q=(0,o.useContext)(x.AnalyticsContext),z=(0,o.useCallback)((function(e,n){var r;null==E||null===(r=E.onChange)||void 0===r||r.call(E,e,n),(0,x.handleAnalyticsEvent)({analyticsContext:q,analyticsEventData:S,componentType:"Select",actionName:"onChange",label:(null==T?void 0:T["aria-label"])||(null==T?void 0:T.name)||t||(null==O?void 0:O["data-testid"])||"",value:[e]})}),[q,S,t,T,E,O]);return C?N&&D?(0,v.jsx)(m(),k(k(k({},E),O),{},{loadOptions:D,onChange:z})):(0,v.jsx)(f(),k(k(k({},E),O),{},{onChange:z})):N&&D?(0,v.jsx)(b(),k(k(k({},E),O),{},{loadOptions:D,onChange:z})):(0,v.jsx)(u(),k(k(k({},E),O),{},{onChange:z}))},D=require("@babel/runtime/helpers/slicedToArray"),S=e.n(D),T=["className","colorType","styleType","labelText","iconType","iconPackage","iconPlacement","sizeType","iconOnly","children","shakeOnDisabledHover","disabled","isFetching","onClick","testMetadata","flush","analyticsEventData"];function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=(0,o.forwardRef)((function(e,t){var n=e.className,a=e.colorType,i=void 0===a?"primary":a,l=e.styleType,u=void 0===l?"promoted":l,d=e.labelText,b=e.iconType,p=e.iconPackage,f=void 0===p?"fas":p,y=e.iconPlacement,m=void 0===y?"before":y,h=e.sizeType,j=e.iconOnly,O=e.children,P=e.shakeOnDisabledHover,_=e.disabled,C=e.isFetching,k=void 0!==C&&C,w=e.onClick,N=e.testMetadata,D=e.flush,S=e.analyticsEventData,M=s()(e,T),q="stacked"===m,z=(0,o.useContext)(x.AnalyticsContext),I=(0,o.useCallback)((function(e){if(k)return e.preventDefault(),void e.stopPropagation();null==w||w(e),(0,x.handleAnalyticsEvent)({analyticsContext:z,analyticsEventData:S,componentType:"Button",actionName:"click",label:(null==M?void 0:M["aria-label"])||d||(null==O?void 0:O.toString())||(null==b?void 0:b.toString())||""})}),[k,w,z,M,d,O,b,S]),B=(0,o.useMemo)((function(){var e;return c()("sb-button",(e={},r()(e,"sb-button_"+i,i),r()(e,"sb-button_"+u,u),r()(e,"sb-button_"+h,h),r()(e,"sb-button_icon-"+m,b&&m),r()(e,"sb-button_icon-only",j),r()(e,"sb-button_no-icon",!b),r()(e,"sb-button_fetching",k),r()(e,"sb-button_disabled",q&&_),r()(e,"sb-shake-on-disabled",P),r()(e,"sb-button_async",k),r()(e,"sb-button__flush-right","right"===D),r()(e,"sb-button__flush","flush"===D),r()(e,"sb-button__flush-left","left"===D),e),n)}),[i,u,m,j,P,n,_,q,h,k,b,D]),F=(0,o.useMemo)((function(){return c()("sb-stacked-wrapper",{"sb-stacked-wrapper-disabled":_})}),[_]),A=(0,v.jsx)("div",{className:"sb-button_spinner-container",children:(0,v.jsx)(g,{size:"small",className:"sb-button_spinner"})}),V=(0,v.jsx)("span",{className:"sb-button_icon-container",children:"string"==typeof b?(0,v.jsxs)(v.Fragment,{children:[k&&A,(0,v.jsx)("i",{className:"".concat(f," ").concat(b," sb-button_icon"),"data-testid":null!=N&&N["data-testid"]?"button-icon":void 0})]}):(0,v.jsxs)(v.Fragment,{children:[k&&A,(0,v.jsx)("span",{className:"sb-button_icon",children:b})]})});return(0,v.jsxs)(v.Fragment,{children:[!q&&(0,v.jsxs)("button",E(E(E({},M),{},{ref:t,className:B,"aria-label":d,title:d,disabled:_,onClick:I},N),{},{children:[b&&(j||!m||"before"===m)&&V,!j&&(0,v.jsx)("span",{className:"sb-button-text",children:O}),k&&!b&&A,b&&!j&&"after"===m&&V]})),q&&(0,v.jsxs)("button",E(E({},M),{},{disabled:_,"aria-label":d,ref:t,title:d,className:F,onClick:I,children:[(0,v.jsx)("span",{className:B,children:V}),(0,v.jsx)("div",{className:"sb-stacked-label",children:O})]}))]})}));q.displayName="Button";var z=q,I=require("@dtci/triton/hooks"),B=["className","styles","onChange","iconType","testMetadata"];function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=function(){return(0,v.jsx)("div",{})},L=function(e){var t=e.children,n=e.isOpen,r=e.target,a=e.testMetadata;return(0,v.jsxs)("div",A(A({},a),{},{children:[r,n?(0,v.jsx)("div",{children:t}):null]}))},H=function(e){var t=e.className,n=e.styles,r=e.onChange,a=e.iconType,i=e.testMetadata,l=void 0===i?{selectButtonDiv:{"data-testid":"divSelectButton"},selectButton:{"data-testid":"selectButton"},selectDropdown:{"data-testid":"selectDropdown"}}:i,d=s()(e,B),b=(0,o.useState)(!1),p=S()(b,2),f=p[0],y=p[1],m=(0,o.useState)(d.value),h=S()(m,2),j=h[0],O=h[1];(0,o.useEffect)((function(){O(d.value)}),[d.value]);var g=(0,o.useCallback)((function(){y(!f)}),[y,f]),x=(0,o.useCallback)((function(e,t){O(e),r&&r(e,t),g()}),[r,g]),P=A(A({},d),{},{value:j,isSearchable:!1,components:{Control:V},styles:A(A({},n),{},{menu:function(e){return A(A({},e),{},{position:"absolute",zIndex:9},null==n?void 0:n.menu)}}),menuIsOpen:!0,classNamePrefix:"sb-select",className:c()("sb-select-button",t),onChange:x}),_=(0,o.createRef)();return(0,I.useClickOutside)((function(){f&&g()}),_,[g,_]),(0,I.useClickEscape)((function(){f&&g()}),[g]),(0,v.jsx)("div",A(A({ref:_},null==l?void 0:l.selectButtonDiv),{},{children:(0,v.jsx)(L,{isOpen:f,expands:d.expands,testMetadata:l.selectDropdown,target:(0,v.jsx)(z,A(A({iconPlacement:"before",iconType:a,onClick:g,className:"sb-select-button__button",styleType:"promoted",sizeType:"small"},null==l?void 0:l.selectButton),{},{children:j?j.label:(0,v.jsx)(v.Fragment,{children:" "})})),children:(0,v.jsx)(u(),A({},P))})}))};return t}()}));
//# sourceMappingURL=index.js.map