# Dash - Adobe Analytics

Configuring & Utilizing adobe analytics reporting.

[[_TOC_]]

## Overview

Adobe Analytics is one of many analytics tools available to aggregate client side analytics into reports about the audience and behavior of visitors on your website. This will help breakdown some of the mandatory configuration of the Adobe Analytics UI - as well as some of the reporting we should be looking at as developers.

## Accounts

Adobe analytics can be split across multiple accounts. Currently, the UI Engineering team uses the following accounts:

- ABC
- **ABC B2B** (Use unless directed otherwise)

By default, we should expect to create our properties in the B2B account as we have more access to setup new applications on our own.

## Logging In

Access the adobe through the [experience platform](https://experience.adobe.com).

1. Click Sign In with an Adobe ID.
2. On the Adobe sign-in page, type @disney.com in the email address field, and then click Continue, which will cause the MyID page to display
3. On the MyID sign-in page, enter your normal Disney corporate network credentials (federated email, password)

## Reporting Suite

A reporting suite is comparable to a database where data from your analytics are collected and aggregated. If you use a reporting suite from another application the data will be mingled together and be harder to break down to the application you want to see. Creating a new reporting suite requires admin privillages to the adobe analytics account and is **required** for setting up a new property.

Go to Adobe Analytics then click the Admin tab, then click the reporting suites to add a new reporting suite. Only create one reporting suite, do not create multiple for your different environments.

## Property

In order to start integrating with adobe analytics, you need to create a new property in Adobe Launch. Information you'll need:

- The name of the application
- The domain names of the application environments

You can duplicate an existing property as a basis for your rules and drastically simplify setting up your application.

Everybody should use the prod environment in adobe experience platform. The development and staging environements are only used to test changes. To register different environments from your app, please track by creating different panels for each in the reports and creating a segment in "Segment Builder".

## Elements

First thing to do, is setup some data elements that point to certain pieces of data in your application. Depending on how your application is built it may be able to pull this from document properties, cookies, javascript objects, etc. Some basic ones to include:

- **application** - Hostname of your site
- **route** - The pathname of the current page
- **page** - Unique identifier for your current page (title or page name)
- **visitor** - Unique identifier for the current visitor of your site (should not contain any personal identifying information - no email, name, etc)

## Rules (Optional)

You need to use rules if you will not be triggering analytics events from your application code. Adobe analytics has quite a bit of functionality to automatically trigger events, page views, etc based on what's happening with your current user. The benefits of these is not having to fire or track events within your application. The downside is more manual configuration and some limitations of what you can track.

Some recommended rules:

- **Site Load** - You should trigger a page view / beacon when the site finishes loading
- **Page Load** **(SPA)** - You should track history changes to your URL if you are using a single page application architecture (ex. react-router)

## Variables

The way analytics collects data is through variables. You can set some defaults on the configuration but these should be updated between events. Examples include:

- Page Name - The current page name
- Page URL - The current page URL
- Server **(Highly Recommended)** - This should be set to your hostname to differentiate your environments!
- Visitor ID **(Highly Recommended)** - This should be set to better track your user base! In a MyID application, you can use the GuID - on a JWT token this is token.sub

## Reports

The most basic way of interacting with your site data is through adobe analytics reports. This generates tables and data based off certain types of metrics: page views, browser, country of origin, etc.

These are helpful for analyzing specific pieces of data based on need.

## Workspaces

Workspaces are a more advanced way of interacting with your site data. They allow you to combine reports, graphs, and details in a visual and heirarchical way.

## events & eVars & props, oh my

### Events (events)

These are trackable actions - you should think of them in terms of user workflow. Completing a search, submitting a form, and viewing a notification might all be trackable actions that can be applied to a user.

### Props (props / traffic variables)

Props are traffic variables - and only persist for one row of data. You can only track against other variables in the same visitor hit. A typical example would be "Page Name".

### eVars (variables)

eVars were typically the opposite of props - sticky variables that persist across a session until updated. With the expansion of expiration options, eVars can do everything props can do and more. They are preferred for custom tracking information.

eVars are conversion variablesm - they persist past one row of dataÂ  - (and the duration of this persist period can be configured in the Adobe backend) so unlike props, when a value is set against a Visitor, Adobe (server-side), will hold on to that value until it expires. eVars are used to track against the main conversion events e.g. completing an ecommerce transaction, and also for mini conversions such as completing a registration form. 
eVars should always be coupled with events, think of them as married.

## What do we (developers) care about?

A good question to ask is what information do we care about. What's important to an application in general? What's important to my specific application? Some general information good to track:

- Traffic Times (Behavior) - Day, Hour, etc. Will help to show seasonal usage trends and daily usage trends that might inform outage periods or maintenance times.
- Location (Visitor) - Will help show regional traffic details that might help inform region scaling or availability regions in AWS
- Page Views / Flow - Help track what content is being reached or most important to visitors
- Browser / Screen - Help track what browsers are most important for testing and what screen sizes most important to design against
- Mobile

## What does the business care about?

An important part of creating an application should be to set expectations for trackable activities. What are the main goals of the application? Sales? Downloads? Hits?

Depending on the scale of the application consider following adobe's recommendation for a [Solution Design Document](https://docs.adobe.com/content/help/en/analytics/implementation/prepare/solution-design.html)

## Debugging

- Chrome - [Adobe Experience Cloud Debugger](https://chrome.google.com/webstore/detail/adobe-experience-cloud-de/ocdmogmohccmeicdhlhhgepeaijenapj)

## Adobe Analytics Admins

These users have admin access to the ABC B2B adobe analytics account. You can direct questions or permissions issues to them.

- Bryan Bigelow