# Production Logging Standards

This outlines log message guidelines and standards.

[[_TOC_]]

## Overview

Logging standards for production quality logs are important to help us understand and respond to incidents in our applications. They should follow a few key principles:

- **Human Readable** - A developer should mostly be able to figure out the key details of a logged message at first glance.
- **Searchable** - You should be able to get a unique message, or set of messages, based on key details in the log.
- **Prioritized** - Logs should be separated into distinct logging levels. At a minimum you should distinguish between informational, warning, and error states.
- **Tracable** - You should know roughly what section of code is triggering the issue.
- **Minimalist** - Provides no extroneous information that would make the logs more verbose than absolutely needed to diagose an issue.

## Formatting

You can format your logs in various ways depending on the needs and what the application log stack looks like. Typically, object based messaging provides the greatest amount of computer readability. This is great but is dependent on the system ingesting the logs to process and index those objects properly. If you are unsure if this is happening, or know it is not being done, you should stick to the old fallback of string based log messages.

### String Messages (Recommended)

String based log messages should adhere to a few guiding principles

- Include a timestamp
- Use a common divider to break up pieces of the log message
- Use key/value pairs to help with searching and readability

**Recommendations:**

date=\[date\] | time=\[time\] | source=\[source\] | type=\[id\] | level=\[level\] | \[message\] | \[additional details\]

**Example(s):**

date=2020-07-08 | time=21:10:00 | source=dash | type=AnalyticsNotFound | level=ERROR | Unable to load analytics because application ID {undefined} does not exist 

date=2020-07-05 | time=19:30:00 | source=sarge | type=SessionExpired | level=INFO | Session expired | userid=5 username=Bryan Bigelow

### Object/JSON Messages

The recommendations for object based messaging is essentially the same except the key/value terms are handled for you by the syntax.

```
{
  "timestamp": "2020-07-05 19:30:00",
  "source": "sarge",
  "type": "SessionExpired",
  "level": "INFO",
  "message": "Session expired",
  "attributes": {
    "userid": 5,
    "username": "Bryan Bigelow"
  }
}
```