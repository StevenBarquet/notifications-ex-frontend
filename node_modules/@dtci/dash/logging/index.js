module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=134)}([function(e,t,r){"use strict";var n=r(137),i=r(21).fs;e.exports=new n({name:"newrelic_bootstrap",stream:process.stdout,level:"info"});var o=r(17).getOrCreateInstance();if(o){var s={name:"newrelic",level:o.logging.level,enabled:o.logging.enabled};if(e.exports=new n(s),o.logging.enabled){var a;switch(o.logging.filepath){case"stdout":a=process.stdout;break;case"stderr":a=process.stderr;break;default:(a=i.createWriteStream(o.logging.filepath,{flags:"a+"})).on("error",(function(e){console.error("New Relic failed to open log file "+o.logging.filepath),console.error(e)}))}e.exports.pipe(a)}o.setLogger(e.exports)}},function(e,t){e.exports=require("react")},function(e,t,r){"use strict";const n={PREFIX:"Nodejs/"},i="all",o={PREFIX:"Supportability/",UNINSTRUMENTED:"Supportability/Uninstrumented",EVENTS:"Supportability/Events",API:"Supportability/API",TRANSACTION_API:"Supportability/API/Transaction",UTILIZATION:"Supportability/utilization",DEPENDENCIES:"Supportability/InstalledDependencies",NODEJS:"Supportability/Nodejs",REGISTRATION:"Supportability/Registration",EVENT_HARVEST:"Supportability/EventHarvest",INFINITE_TRACING:"Supportability/InfiniteTracing",FEATURES:"Supportability/Features"},s={PREFIX:"Errors/",ALL:"Errors/all",EXPECTED:"ErrorsExpected/all",WEB:"Errors/allWeb",OTHER:"Errors/allOther"},a={WAIT:"Events/wait",DROPPED:o.PREFIX+"AnalyticsEvents/Discarded",SEEN:o.PREFIX+"AnalyticsEvents/TotalEventsSeen",SENT:o.PREFIX+"AnalyticsEvents/TotalEventsSent"},c={PREFIX:n.PREFIX+"EventLoop/",USAGE:n.PREFIX+"EventLoop/CPU/Usage"},u={PREFIX:"Datastore/",STATEMENT:"Datastore/statement",OPERATION:"Datastore/operation",INSTANCE:"Datastore/instance",ALL:"Datastore/all",WEB:"allWeb",OTHER:"allOther"},l={PREFIX:"External/",ALL:"External/all",WEB:"External/allWeb",OTHER:"External/allOther",APP:"ExternalApp/",TRANSACTION:"ExternalTransaction/"},f={PREFIX:n.PREFIX+"Middleware/"},p={PREFIX:"Memcache",OPERATION:u.OPERATION+"/Memcache/",INSTANCE:u.INSTANCE+"/Memcache/",ALL:u.PREFIX+"Memcache/"+i},d={PREFIX:"MongoDB",STATEMENT:u.STATEMENT+"/MongoDB/",OPERATION:u.OPERATION+"/MongoDB/",INSTANCE:u.INSTANCE+"/MongoDB/"},h={PREFIX:"MySQL",STATEMENT:u.STATEMENT+"/MySQL/",OPERATION:u.OPERATION+"/MySQL/",INSTANCE:u.INSTANCE+"/MySQL/"},g={PREFIX:"Redis",OPERATION:u.OPERATION+"/Redis/",INSTANCE:u.INSTANCE+"/Redis/",ALL:u.PREFIX+"Redis/"+i},m={PREFIX:"Postgres",STATEMENT:u.STATEMENT+"/Postgres/",OPERATION:u.OPERATION+"/Postgres/",INSTANCE:u.INSTANCE+"/Postgres/"},y={PREFIX:"Cassandra",OPERATION:u.OPERATION+"/Cassandra/",STATEMENT:u.STATEMENT+"/Cassandra/",INSTANCE:u.INSTANCE+"/Cassandra/",ALL:u.PREFIX+"Cassandra/"+i},v={PREFIX:"Oracle",STATEMENT:u.STATEMENT+"/Oracle/",OPERATION:u.OPERATION+"/Oracle/",INSTANCE:u.INSTANCE+"/Oracle/"},b={PREFIX:"Expressjs/",MIDDLEWARE:f.PREFIX+"Expressjs/",ERROR_HANDLER:f.PREFIX+"Expressjs/"},E={PREFIX:"Hapi/",MIDDLEWARE:f.PREFIX+"Hapi/"},w={AWS_ERROR:o.UTILIZATION+"/aws/error",PCF_ERROR:o.UTILIZATION+"/pcf/error",AZURE_ERROR:o.UTILIZATION+"/azure/error",GCP_ERROR:o.UTILIZATION+"/gcp/error",DOCKER_ERROR:o.UTILIZATION+"/docker/error",BOOT_ID_ERROR:o.UTILIZATION+"/boot_id/error"},_={PREFIX:o.EVENTS+"/Customer/",DROPPED:o.EVENTS+"/Customer/Dropped",SEEN:o.EVENTS+"/Customer/Seen",SENT:o.EVENTS+"/Customer/Sent",TOO_LARGE:o.EVENTS+"/Customer/TooLarge",FAILED:o.EVENTS+"/Customer/FailedToSend"},A={DROPPED:o.EVENTS+"/TransactionError/Dropped",SEEN:o.EVENTS+"/TransactionError/Seen",SENT:o.EVENTS+"/TransactionError/Sent"},C={REPORT_PERIOD:o.EVENT_HARVEST+"/ReportPeriod",HARVEST_LIMIT:{ANALYTIC:o.EVENT_HARVEST+"/AnalyticEventData/HarvestLimit",CUSTOM:o.EVENT_HARVEST+"/CustomEventData/HarvestLimit",ERROR:o.EVENT_HARVEST+"/ErrorEventData/HarvestLimit",SPAN:o.EVENT_HARVEST+"/SpanEventData/HarvestLimit"}},T={SEEN:o.PREFIX+"SpanEvent/TotalEventsSeen",SENT:o.PREFIX+"SpanEvent/TotalEventsSent",DROPPED:o.PREFIX+"SpanEvent/Discarded"},S={SEEN:o.INFINITE_TRACING+"/Span/Seen",SENT:o.INFINITE_TRACING+"/Span/Sent",DROPPED:o.INFINITE_TRACING+"/Span/Dropped",SPAN_RESPONSE_ERROR:o.INFINITE_TRACING+"/Span/Response/Error",SPAN_RESPONSE_GRPC_UNIMPLEMENTED:o.INFINITE_TRACING+"/Span/gRPC/UNIMPLEMENTED",SPAN_RESPONSE_GRPC_STATUS:o.INFINITE_TRACING+"/Span/gRPC/%s",QUEUE_CAPACITY:o.INFINITE_TRACING+"/Span/QueueCapacity",QUEUE_SIZE:o.INFINITE_TRACING+"/Span/QueueSize",DRAIN_DURATION:o.INFINITE_TRACING+"/Drain/Duration"},I={CERTIFICATES:o.FEATURES+"/Certificates"};e.exports={ACTION_DELIMITER:"/",ALL:i,APDEX:"Apdex",CASSANDRA:y,CLIENT_APPLICATION:"ClientApplication",CONTROLLER:"Controller",CPU:{SYSTEM_TIME:"CPU/System Time",SYSTEM_UTILIZATION:"CPU/System/Utilization",USER_TIME:"CPU/User Time",USER_UTILIZATION:"CPU/User/Utilization"},CUSTOM:"Custom",CUSTOM_EVENTS:_,DB:u,DISTRIBUTED_TRACE:{DURATION:"DurationByCaller",ERRORS:"ErrorsByCaller",TRANSPORT:"TransportDuration"},ERRORS:s,EVENTS:a,EVENT_HARVEST:C,EXPRESS:b,EXTERNAL:l,FEATURES:I,FS:{PREFIX:"Filesystem/"},FUNCTION:{PREFIX:"Function/"},GC:{PREFIX:"GC/",PAUSE_TIME:"GC/System/Pauses"},HAPI:E,HTTP:"HttpDispatcher",INFINITE_TRACING:S,LOOP:c,MEMCACHE:p,MEMORY:{PHYSICAL:"Memory/Physical",FREE_HEAP:"Memory/Heap/Free",USED_HEAP:"Memory/Heap/Used",MAX_HEAP:"Memory/Heap/Max",USED_NONHEAP:"Memory/NonHeap/Used"},MESSAGE_TRANSACTION:{PREFIX:"OtherTransaction/Message",RESPONSE_TIME:"OtherTransaction/Message",TOTAL_TIME:"OtherTransactionTotalTime/Message"},MIDDLEWARE:f,MONGODB:d,MYSQL:h,NODEJS:n,NORMALIZED:"NormalizedUri",ORACLE:v,OTHER_TRANSACTION:{PREFIX:"OtherTransaction",RESPONSE_TIME:"OtherTransaction",TOTAL_TIME:"OtherTransactionTotalTime",MESSAGE:"OtherTransaction/Message"},POSTGRES:m,QUEUETIME:"WebFrontend/QueueTime",REDIS:g,RESTIFY:{PREFIX:"Restify/"},SPAN_EVENTS:T,SUPPORTABILITY:o,TRANSACTION_ERROR:A,TRUNCATED:{PREFIX:"Truncated/"},URI:"Uri",UTILIZATION:w,VIEW:{PREFIX:"View/",RENDER:"/Rendering"},WEB:{RESPONSE_TIME:"WebTransaction",FRAMEWORK_PREFIX:"WebFrameworkUri",TOTAL_TIME:"WebTransactionTotalTime"}}},function(e,t){e.exports=require("util")},function(e,t,r){"use strict";var n,i,o=e.exports=r(14),s=r(110);o.codegen=r(264),o.fetch=r(265),o.path=r(266),o.fs=o.inquire("fs"),o.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},o.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],i=e[r++];void 0!==i&&(t[n]=i)}return t};var a=/\\/g,c=/"/g;o.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},o.safeProp=function(e){return!/^[$\w_]+$/.test(e)||o.isReserved(e)?'["'+e.replace(a,"\\\\").replace(c,'\\"')+'"]':"."+e},o.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var u=/_([a-z])/g;o.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(u,(function(e,t){return t.toUpperCase()}))},o.compareFieldsById=function(e,t){return e.id-t.id},o.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(o.decorateRoot.remove(e.$type),e.$type.name=t,o.decorateRoot.add(e.$type)),e.$type;n||(n=r(59));var i=new n(t||e.name);return o.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var l=0;o.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=r(12));var t=new i("Enum"+l++,e);return o.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},o.setProperty=function(e,t,r){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,r,n){var i=r.shift();if(r.length>0)t[i]=e(t[i]||{},r,n);else{var o=t[i];o&&(n=[].concat(o).concat(n)),t[i]=n}return t}(e,t=t.split("."),r)},Object.defineProperty(o,"decorateRoot",{get:function(){return s.decorated||(s.decorated=new(r(64)))}})},function(e,t,r){"use strict";var n=Object.hasOwnProperty,i=null,o=function(){return i=r(0).child({component:"util-properties"}),o=function(){return i},i};t.hasOwn=function(e,t){return n.call(e,t)},t.isEmpty=function(e){for(var r in e)if(t.hasOwn(e,r))return!1;return!0},t.setInternal=function(e,r,n){if(!e||!r)return o().debug("Not setting property; object or name is missing."),e;try{t.hasOwn(e,r)?e[r]=n:Object.defineProperty(e,r,{enumerable:!1,writable:!0,value:n})}catch(e){o().debug(e,'Failed to set property "%s" to %j',r,n)}return e}},function(e,t,r){"use strict";var n={NONE:0,TRANS_EVENT:1,TRANS_TRACE:2,ERROR_EVENT:4,BROWSER_EVENT:8,SPAN_EVENT:16,TRANS_SEGMENT:32};n.TRANS_SCOPE=n.TRANS_EVENT|n.TRANS_TRACE|n.ERROR_EVENT|n.BROWSER_EVENT,n.SEGMENT_SCOPE=n.SPAN_EVENT|n.TRANS_SEGMENT,n.TRANS_COMMON=n.TRANS_EVENT|n.TRANS_TRACE|n.ERROR_EVENT,n.LIMITED=n.TRANS_TRACE|n.ERROR_EVENT;const i=[{id:n.TRANS_EVENT,key:"TRANS_EVENT",name:"transaction_events"},{id:n.TRANS_TRACE,key:"TRANS_TRACE",name:"transaction_tracer"},{id:n.ERROR_EVENT,key:"ERROR_EVENT",name:"error_collector"},{id:n.BROWSER_EVENT,key:"BROWSER_EVENT",name:"browser_monitoring"}],o=[{id:n.SPAN_EVENT,key:"SPAN_EVENT",name:"span_events"},{id:n.TRANS_SEGMENT,key:"TRANS_SEGMENT",name:"transaction_segments"}],s=[...i,...o];function a(e){this.config=e,this._rules=Object.create(null),this._cache=Object.create(null),this._cachedCount=0,this._enabledDestinations=n.NONE;var t=this.update.bind(this);e.on("attributes.enabled",t),e.on("attributes.include",t),e.on("attributes.exclude",t),this._rules.global=Object.create(null),s.forEach((function(r){e.on(r.name+".attributes.enabled",t),e.on(r.name+".attributes.include",t),e.on(r.name+".attributes.exclude",t),this._rules[r.name]=Object.create(null)}),this),this.update()}function c(e,t,r,n){if(t===1/0)return!1;var i=u(r.exclude,n);if(i===1/0)return!1;if(e===1/0)return!0;var o=u(r.include,n);return o===1/0||(t===-1/0&&e===-1/0&&i===-1/0&&o===-1/0?-1/0:o>i&&o>=t||e>i&&e>t)}function u(e,t){if(e.exact&&e.exact.test(t))return 1/0;var r=e.wildcard;return r?(r.lastIndex=0,r.test(t)?r.lastIndex+1:-1/0):-1/0}function l(e){var t={exact:null,wildcard:null},r=[],n=[];return e.forEach((function(e){"*"===e[e.length-1]?n.push(e):r.push(e)})),r.length&&(t.exact=new RegExp("^"+f(r)+"$")),n.length&&(t.wildcard=new RegExp("^"+f(n),"g")),t}function f(e){return"(?:"+e.sort((function(e,t){return"*"!==e[e.length-1]?-1:"*"!==t[t.length-1]?1:t.length-e.length})).map((function(e){return e.replace(/([.*+?|\\^$()\[\]])/g,(function(e){return"\\"+e})).split(".")})).reduce((function(e,t){return function e(t,r,n){var i=r[n];n!==r.length-1?i+=".":/\\\*$/.test(i)&&(i=i.substr(0,i.length-2));var o=t.findIndex((function(e){return e[0]===i})),s=t[o];-1===o&&(s=[i],t.push(s));n!==r.length-1&&e(s,r,n+1)}(e,t,0),e}),[]).map((function(e){return function e(t){if("string"==typeof t)return t;if(1===t.length)return e(t[0]);return e(t.shift())+"(?:"+t.map(e).join("|")+")"}(e)})).join("|")+")"}e.exports=t=a,t.DESTINATIONS=n,a.prototype.filterTransaction=function(e,t){return this._filter(i,e,t)},a.prototype.filterSegment=function(e,t){return this._filter(o,e,t)},a.prototype.filterAll=function(e,t){return this._filter(s,e,t)},a.prototype._filter=function(e,t,r){if(!this.config.attributes.enabled)return n.NONE;for(var i=null,o=null,s=0;s<e.length;++s){var a=e[s],l=a.id,f=a.name;if(this._enabledDestinations&l){if(void 0===(p=this._cache[f][r])){null===i&&(i=u(this._rules.global.include,r),o=u(this._rules.global.exclude,r));var p=c(i,o,this._rules[f],r);this._cachedCount<this.config.attributes.filter_cache_limit&&(this._cache[f][r]=p,++this._cachedCount)}p===-1/0||(p?t|=l:t&=~l)}else t&=~l}return t},a.prototype.update=function(){this._rules.global.include=l(this.config.attributes.include_enabled?this.config.attributes.include:[]),this._rules.global.exclude=l(this.config.attributes.exclude),this._cache=Object.create(null),this._cachedCount=0,s.forEach((function(e){var t=e.name;this.config[t].attributes.enabled&&(this._enabledDestinations|=e.id,this._rules[t].include=l(this.config.attributes.include_enabled?this.config[t].attributes.include:[]),this._rules[t].exclude=l(this.config[t].attributes.exclude),this._cache[t]=Object.create(null))}),this)}},function(e,t,r){"use strict";var n=r(122),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,i=arguments.length;n<i;n++)u(arguments[n],r);return t},deepMerge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]="object"==typeof r?e({},r):r}for(var n=0,i=arguments.length;n<i;n++)u(arguments[n],r);return t},extend:function(e,t,r){return u(t,(function(t,i){e[i]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("events")},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("url")},function(e,t,r){"use strict";e.exports=s;var n=r(28);((s.prototype=Object.create(n.prototype)).constructor=s).className="Enum";var i=r(37),o=r(4);function s(e,t,r,i,o){if(n.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=o||{},this.reserved=void 0,t)for(var s=Object.keys(t),a=0;a<s.length;++a)"number"==typeof t[s[a]]&&(this.valuesById[this.values[s[a]]=t[s[a]]]=s[a])}s.fromJSON=function(e,t){var r=new s(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},s.prototype.add=function(e,t,r){if(!o.isString(e))throw TypeError("name must be a string");if(!o.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=r||null,this},s.prototype.remove=function(e){if(!o.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},s.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},s.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},function(e,t){function r(e,t){var r=[],n=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+n.slice(0,r.indexOf(t)).join(".")+"]"}),function(i,o){if(r.length>0){var s=r.indexOf(this);~s?r.splice(s+1):r.push(this),~s?n.splice(s,1/0,i):n.push(i),~r.indexOf(o)&&(o=t.call(this,i,o))}else r.push(o);return null==e?o:e.call(this,i,o)}}(e.exports=function(e,t,n,i){return JSON.stringify(e,r(t,i),n)}).getSerialize=r},function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&i(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=r(107),n.base64=r(255),n.EventEmitter=r(256),n.float=r(257),n.inquire=r(108),n.utf8=r(258),n.pool=r(259),n.LongBits=r(260),n.isNode=Boolean("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),n.global=n.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},function(e,t,r){"use strict";const n=r(41);function i(e,t){for(var r=0;r<e.length;r++)e.writeUInt8(e.readUInt8(r)^t.readUInt8(r%t.length),r);return e}function o(e,t){var r=n.createHash("md5");r.update(e+";"+t,"utf8");var i=r.digest();return i instanceof Buffer||(i=Buffer.from(i)),i.slice(i.length-4,i.length).readUInt32BE(0)}const s=Math.random,a=Math.pow(2,32)-1;function c(e){let t=new Uint8Array(4);for(let r=0;r<t.length;r++){let n=255&e;t[r]=n,e=(e-n)/256}return t}const u=[];for(let e=0;e<256;++e)u[e]=(e+256).toString(16).substr(1);t.obfuscateNameUsingKey=function(e,t){return i(Buffer.from(e,"utf-8"),Buffer.from(t)).toString("base64")},t.deobfuscateNameUsingKey=function(e,t){return i(Buffer.from(e,"base64"),Buffer.from(t)).toString("utf-8")},t.calculatePathHash=function(e,t,r){return"string"==typeof r&&(r=parseInt(r,16)),("00000000"+(((r<<1|r>>>31)>>>0^o(e,t))>>>0).toString(16)).substr(-8)},t.getHash=o,t.makeId=function(e=16){const t=Math.ceil(e/2);let r=new Uint8Array(t);const n=Math.ceil(t/4);for(let e=0;e<n;e++){const t=c(Math.floor(s()*a));for(let n=0;n<4;n++)r[4*e+n]=t[n]}let i="";for(let e=0;e<r.length;e++)i+=u[r[e]];return i.substring(0,e)}},function(e,t,r){"use strict";const n={};function i(e,t,r){r||(r=Error);class i extends r{constructor(e,r,n){super(function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(e,r,n))}}i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function o(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map(e=>String(e)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){let n;var i,s;let a;if("string"==typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a=`The ${e} ${n} ${o(t,"type")}`;else{a=`The "${e}" ${function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument"} ${n} ${o(t,"type")}`}return a+=". Received type "+typeof r,a}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t,r){"use strict";(function(t){const n=r(6),i=r(47),o=r(45),s=r(76).config,a=r(9).EventEmitter,c=r(77),u=r(78),l=r(21).fs,f=r(15),p=r(10),d=r(146).parseKey,h=r(8),g=r(48),m=r(13),y=r(3),v=r(148),b=r(149),E=new v,w=new Set(["ignore_messages","expected_messages","labels"]),_=r(151).LASP_MAP,A=r(152),C=r(153),T=l.existsSync||h.existsSync;let S=null,I=null;function N(e){if(null==e)return!1;switch(e.toString().toLowerCase()){case"false":case"f":case"no":case"n":case"disabled":case"0":return!1;default:return!0}}function O(){return[process.env.NEW_RELIC_HOME,process.cwd(),process.env.HOME,h.join(t,"../../../.."),process.mainModule&&process.mainModule.filename?h.dirname(process.mainModule.filename):void 0].filter(Boolean).reduce((e,t)=>{const r=[process.env.NEW_RELIC_CONFIG_FILENAME,"newrelic.js","newrelic.cjs"].filter(Boolean).map(e=>h.join(h.resolve(t),e));return e.concat(r)},[]).find(T)}function R(e){a.call(this);try{Object.assign(this,s())}catch(e){S.warn("Unable to clone the default config, %s: %s",76,e)}if(this.feature_flag=o.shallow(c.prerelease),this.newrelic_home=null,this.config_file_path=null,this.run_id=null,this.account_id=null,this.application_id=null,this.web_transactions_apdex=Object.create(null),this.cross_process_id=null,this.encoding_key=null,this.obfuscatedId=null,this.primary_application_id=null,this.trusted_account_ids=null,this.trusted_account_key=null,this.sampling_target=10,this.sampling_target_period_in_seconds=60,this.max_payload_size_in_bytes=1e6,this.max_trace_segments=900,this.entity_guid=null,this.product_level=0,this.collect_traces=!0,this.collect_errors=!0,this.collect_span_events=!0,this.utilization.logical_processors=null,this.utilization.total_ram_mib=null,this.utilization.billing_hostname=null,this.browser_monitoring.loader="rum",this.browser_monitoring.loader_version="",this.compressed_content_encoding="deflate",this.simple_compression=!1,this.put_for_data_send=!1,this._fromPassed(e),this._fromSpecial(),this._featureFlagsFromEnv(),this._fromEnvironment(),this._canonicalize(),this.version=r(79).version,this.event_harvest_config||(this.event_harvest_config={report_period_ms:6e4,harvest_limits:{analytic_event_data:this.transaction_events.max_samples_stored,custom_event_data:this.custom_insights_events.max_samples_stored,error_event_data:this.error_collector.max_event_samples_stored,span_event_data:1e3}}),this._enforceServerless(e),this.high_security){if(this.security_policies_token)throw new Error("Security Policies and High Security Mode cannot both be present in the agent configuration. If Security Policies have been set for your account, please ensure the security_policies_token is set but high_security is disabled (default).");this._applyHighSecurity()}this.attributeFilter=new n(this)}function M(){var e;return this.getDisplayHost=function(){return e},""===this.process_host.display_name?e=this.getHostnameSafe():Buffer.from(this.process_host.display_name,"utf8").length>255?(S.warn("Custom host display name must be less than 255 bytes"),e=this.getHostnameSafe()):e=this.process_host.display_name}function x(){var e;this.getHostnameSafe=function(){return e};try{return e=p.hostname()}catch(r){var t=this.getIPAddresses();return"6"===this.process_host.ipv_preference&&t.ipv6?e=t.ipv6:t.ipv4?(S.info("Defaulting to ipv4 address for host name"),e=t.ipv4):t.ipv6?(S.info("Defaulting to ipv6 address for host name"),e=t.ipv6):(S.info("No hostname, ipv4, or ipv6 address found for machine"),e="UNKNOWN_BOX"),e}}function D(e){function t(e,t){var r=e.split("-");if(2!==r.length)return S.warn("Failed to parse range %s",e),t;if(""===r[0])return t.push(parseInt(e,10));var n=parseInt(r[0],10),i=parseInt(r[1],10);if(Number.isNaN(n)||Number.isNaN(i))return S.warn("Range must contain two numbers %s",e),t;if(n>i)S.warn("Range must start with lower bound %s",e);else if(n<0||i>1e3)S.warn("Range must be between 0 and 1000 %s",e);else for(var o=n;o<=i;o++)t.push(o);return t}for(var r=[],n=0;n<e.length;n++){var i,o=e[n];"string"==typeof o&&-1!==o.indexOf("-")?t(o,r):(i=parseInt(o,10),Number.isNaN(i)?S.warn("Failed to parse status code %s",o):r.push(i))}return r}function k(e){let t=null;return t=Array.isArray(e)?e.map(()=>"****"):"****",t}function B(e){if(S=r(0),e)return new R(e);if(N(process.env.NEW_RELIC_NO_CONFIG_FILE))return S.info("NEW_RELIC_NO_CONFIG_FILE set, deferring to environment variables."),j(e);var t,n=O();if(!n)return S.info(["Unable to find configuration file.","If a configuration file is desired (common for non-containerized environments),","a base configuration file can be copied from 150",'and renamed to "newrelic.js" in the directory from which you will start',"your application.","Attempting to start agent using environment variables."].join(" ")),j(e);try{t=r(154)(n).config}catch(e){S.error(e),S.warn([`Unable to read existing configuration file "${n}".`,"To allow reading of the file (if desired),","please ensure the application has read access and the file is exporting valid JSON.","Attempting to start agent using enviornment variables."].join(" "))}return t?((e=new R(t)).config_file_path=n,S.debug("Using configuration file %s.",n),e.validateFlags(),e):j(e)}function j(e){return(e=new R(Object.create(null))).newrelic_home&&delete e.newrelic_home,e}y.inherits(R,a),R.prototype.setLogger=function(e){S=e},R.prototype.mergeServerConfig=E,R.prototype.onConnect=function(e,t){if(e=e||Object.create(null),this.high_security&&!0!==t&&!e.high_security)return this.agent_enabled=!1,void this.emit("agent_enabled",!1);0!==Object.keys(e).length&&(Object.keys(e).forEach((function(t){this._fromServer(e,t)}),this),this.emit("change",this))},R.prototype._getMostSecure=function(e,t,r){var n=_[e]&&_[e].filter;return this.security_policies_token&&n?n(t,r):r},R.prototype._fromServer=function(e,t){switch(t){case"messages":break;case"agent_config":this.onConnect(e[t],!0);break;case"agent_run_id":this.run_id=e.agent_run_id;break;case"request_headers_map":this.request_headers_map=e.request_headers_map;break;case"high_security":break;case"cross_process_id":case"encoding_key":this._alwaysUpdateIfChanged(e,t),this.cross_process_id&&this.encoding_key&&(this.obfuscatedId=f.obfuscateNameUsingKey(this.cross_process_id,this.encoding_key));break;case"account_id":case"application_id":case"collect_errors":case"collect_traces":case"primary_application_id":case"product_level":case"max_payload_size_in_bytes":case"sampling_target":case"sampling_target_period_in_seconds":case"trusted_account_ids":case"trusted_account_key":this._alwaysUpdateIfChanged(e,t);break;case"collect_error_events":!1===e.collect_error_events&&this._updateNestedIfChanged(e,this.error_collector,t,"capture_events");break;case"url_rules":case"metric_name_rules":case"transaction_name_rules":case"transaction_segment_terms":this._emitIfSet(e,t);break;case"ssl":N(e.ssl)||S.warn("SSL config key can no longer be disabled, not updating.");break;case"apdex_t":case"web_transactions_apdex":this._updateIfChanged(e,t);break;case"event_harvest_config":const r=e[t];if(!b.isValidHarvestConfig(r)){this.emit(t,null);break}S.info("Valid event_harvest_config received. Updating harvest cycles.",r);const n=Object.keys(r.harvest_limits).reduce((e,t)=>{const n=r.harvest_limits[t];return b.isValidHarvestValue(n)?e[t]=n:S.info(`Omitting limit for ${t} due to invalid value ${n}`),e},{});r.harvest_limits=n,this[t]=r,this.emit(t,r);break;case"collect_analytics_events":!1===e.collect_analytics_events&&(this.transaction_events.enabled=!1);break;case"collect_custom_events":!1===e.collect_custom_events&&(this.custom_insights_events.enabled=!1);break;case"collect_span_events":!1===e.collect_span_events&&(this.span_events.enabled=!1);break;case"allow_all_headers":this._updateIfChanged(e,t),this._canonicalize();break;case"browser_monitoring.loader":this._updateNestedIfChangedRaw(e,this.browser_monitoring,t,"loader");break;case"js_agent_file":case"js_agent_loader_file":case"beacon":case"error_beacon":case"browser_key":case"js_agent_loader":this._updateNestedIfChangedRaw(e,this.browser_monitoring,t,t);break;case"cross_application_tracer.enabled":this._updateNestedIfChanged(e,this.cross_application_tracer,t,"enabled");break;case"error_collector.enabled":this._updateNestedIfChanged(e,this.error_collector,"error_collector.enabled","enabled");break;case"error_collector.ignore_status_codes":this._validateThenUpdateStatusCodes(e,this.error_collector,"error_collector.ignore_status_codes","ignore_status_codes"),this._canonicalize();break;case"error_collector.expected_status_codes":this._validateThenUpdateStatusCodes(e,this.error_collector,"error_collector.expected_status_codes","expected_status_codes"),this._canonicalize();break;case"error_collector.ignore_classes":this._validateThenUpdateErrorClasses(e,this.error_collector,"error_collector.ignore_classes","ignore_classes");break;case"error_collector.expected_classes":this._validateThenUpdateErrorClasses(e,this.error_collector,"error_collector.expected_classes","expected_classes");break;case"error_collector.ignore_messages":this._validateThenUpdateErrorMessages(e,this.error_collector,"error_collector.ignore_messages","ignore_messages");break;case"error_collector.expected_messages":this._validateThenUpdateErrorMessages(e,this.error_collector,"error_collector.expected_messages","expected_messages");break;case"error_collector.capture_events":this._updateNestedIfChanged(e,this.error_collector,"error_collector.capture_events","capture_events");break;case"error_collector.max_event_samples_stored":this._updateNestedIfChanged(e,this.error_collector,"error_collector.max_event_samples_stored","max_event_samples_stored");break;case"slow_sql.enabled":this._updateNestedIfChanged(e,this.slow_sql,t,"enabled");break;case"transaction_events.enabled":this._updateNestedIfChanged(e,this.transaction_events,t,"enabled");break;case"transaction_tracer.enabled":this._updateNestedIfChanged(e,this.transaction_tracer,"transaction_tracer.enabled","enabled");break;case"transaction_tracer.transaction_threshold":this._updateNestedIfChanged(e,this.transaction_tracer,"transaction_tracer.transaction_threshold","transaction_threshold");break;case"entity_guid":this.entity_guid=e[t];break;case"sampling_rate":case"episodes_file":case"episodes_url":case"rum.load_episodes_file":case"attributes.include_enabled":case"strip_exception_messages.enabled":case"transaction_tracer.record_sql":this.logUnsupported(e,t);break;case"attributes.enabled":case"attributes.exclude":case"attributes.include":case"browser_monitoring.attributes.enabled":case"browser_monitoring.attributes.exclude":case"browser_monitoring.attributes.include":case"error_collector.attributes.enabled":case"error_collector.attributes.exclude":case"error_collector.attributes.include":case"transaction_events.attributes.enabled":case"transaction_events.attributes.exclude":case"transaction_events.attributes.include":case"transaction_events.max_samples_stored":case"transaction_tracer.attributes.enabled":case"transaction_tracer.attributes.exclude":case"transaction_tracer.attributes.include":case"serverless_mode.enabled":break;default:this.logUnknown(e,t)}},R.prototype._alwaysUpdateIfChanged=function(e,t){var r=e[t];null!=r&&this[t]!==r&&(Array.isArray(r)&&Array.isArray(this[t])?r.forEach((function(e){-1===this[t].indexOf(e)&&this[t].push(e)}),this):this[t]=r,this.emit(t,r),S.debug("Configuration of %s was changed to %s by New Relic.",t,r))},R.prototype._updateIfChanged=function(e,t){this._updateNestedIfChanged(e,this,t,t)},R.prototype._validateThenUpdateStatusCodes=function(e,t,r,n){let i=e[r];if(!Array.isArray(i))return void S.warn("Saw SSC (ignore|expect)_status_codes that is not an array, will not merge: %s",i);let o=!0;if(i.forEach((function(e){"string"!=typeof e&&"number"!=typeof e&&(S.warn("Saw SSC (ignore|expect)_status_code that is not a number or string,will not merge: %s",e),o=!1)})),!o)return;return this._updateNestedIfChanged(e,t,r,n)},R.prototype._validateThenUpdateErrorClasses=function(e,t,r,n){let i=e[r];if(!Array.isArray(i))return void S.warn("Saw SSC (ignore|expect)_classes that is not an array, will not merge: %s",i);let o=!0;if(Object.keys(i).forEach((function(e){let t=i[e];"string"!=typeof t&&(S.warn("Saw SSC (ignore|expect)_class that is not a string, will not merge: %s",t),o=!1)})),!o)return;return this._updateNestedIfChanged(e,t,r,n)},R.prototype._validateThenUpdateErrorMessages=function(e,t,r,n){let i=e[r];if(Array.isArray(i))return void S.warn("Saw SSC (ignore|expect)_message that is an Array, will not merge: %s",i);if(!i)return void S.warn("SSC ignore|expect_message is null or undefined, will not merge");if("object"!=typeof i)return void S.warn("Saw SSC (ignore|expect)_message that is primitive/scaler, will not merge: %s",i);if(!i)return void S.warn("SSC ignore|expect_message is null or undefined, will not merge");let o=!0;if(Object.keys(i).forEach((function(e){let t=i[e];Array.isArray(t)||(S.warn("Saw SSC message array that is not an array, will not merge: %s",t),o=!1)})),!o)return;return this._updateNestedIfChanged(e,t,r,n)},R.prototype._updateNestedIfChanged=function(e,t,r,n){if(this.high_security&&-1!==C.HIGH_SECURITY_KEYS.indexOf(r))return this.logDisabled(e,r);return this._updateNestedIfChangedRaw(e,t,r,n)},R.prototype._updateNestedIfChangedRaw=function(e,t,r,n){return this.mergeServerConfig.updateNestedIfChanged(this,e,t,r,n,S)},R.prototype._emitIfSet=function(e,t){var r=e[t];null!=r&&this.emit(t,r)},R.prototype.logDisabled=function(e,t){var r=e[t];null!=r&&S.debug("Server-side configuration of %s is currently disabled by local configuration. (Server sent value of %s.)",t,r)},R.prototype.logUnsupported=function(e,t){var r=e[t];null!=r&&(S.debug("Server-side configuration of %s is currently not supported by the Node.js agent. (Server sent value of %s.)",t,r),this.emit(t,r))},R.prototype.logUnknown=function(e,t){var r=e[t];S.debug("New Relic sent unknown configuration parameter %s with value %s.",t,r)},R.prototype.checkAsyncHookStatus=function(){return this.feature_flag.await_support&&(g.satisfies(">=8")||g.prerelease())},R.prototype.getDisplayHost=M,R.prototype.clearDisplayHostCache=function(){this.getDisplayHost=M},R.prototype.getHostnameSafe=x,R.prototype.clearHostnameCache=function(){this.getHostnameSafe=x},R.prototype.getIPAddresses=function(){var e=Object.create(null),t=p.networkInterfaces();for(var r in t)if(!r.match(/^lo/))for(var n=t[r],i=0;i<n.length;i++){var o=n[i];e[o.family.toLowerCase()]=o.address}return e},R.prototype.applications=function(){var e=this.app_name;return Array.isArray(e)&&e.length>0?e:e&&"string"==typeof e?[e]:[]},R.prototype._fromPassed=function(e,t,r){e&&(t||(t=this),Object.keys(e).forEach((function(n){if(r||void 0!==t[n])if("ssl"!==n||N(e.ssl)){try{var i=e[n]}catch(e){return void S.warn("Error thrown on access of user config for key: %s",n)}if("object"!=typeof i||Array.isArray(i))t[n]=i;else{var o=t===this||w.has(n);this._fromPassed(i,t[n],o)}}else S.warn("SSL config key can no longer be disabled, not updating.")}),this))},R.prototype._fromSpecial=function(){var e=this.app_name;if(null==e||""===e||Array.isArray(e)&&0===e.length){var t=process.env.APP_POOL_ID;t&&(this.app_name=t.split(","))}},R.prototype._featureFlagsFromEnv=function(){const e=Object.keys(c.prerelease).concat(c.released),t=this;e.forEach((function(e){const r=process.env["NEW_RELIC_FEATURE_FLAG_"+e.toUpperCase()];r&&(t.feature_flag[e]=N(r))}))},R.prototype._fromEnvironment=function(e,t){e||(e=A.ENV_MAPPING),t||(t=this),Object.keys(e).forEach((function(r){if(void 0!==t[r]){var n=e[r];if("string"==typeof n){var i=process.env[n];if(i)if(S.debug(n+" environment variable set."),A.LIST_VARS.has(n)){let e=A.LIST_VARS_CUSTOM_DELIMITERS[n]||/,/;t[r]=i.split(e).map((function(e){return e.trim()}))}else if(A.OBJECT_LIST_VARS.has(n))t[r]=function(e){try{return JSON.parse("["+e+"]")}catch(e){S.error("New Relic configurator could not deserialize object list:"),S.error(e.stack)}}(i);else if(A.BOOLEAN_VARS.has(n)){if("ssl"===r&&!N(i))return void S.warn("SSL config key can no longer be disabled, not updating.");t[r]=N(i)}else A.FLOAT_VARS.has(n)?t[r]=parseFloat(i,10):A.INT_VARS.has(n)?t[r]=parseInt(i,10):t[r]=i}else t[r]||(t[r]=Object.create(null)),this._fromEnvironment(n,t[r])}}),this)},R.prototype._loggingManuallySet=function(e){const t=e&&e.logging&&e.logging.enabled,r=process.env.NEW_RELIC_LOG_ENABLED;return void 0!==t||void 0!==r},R.prototype._nativeMetricsManuallySet=function(e){const t=e&&e.plugins&&e.plugins.native_metrics&&e.plugins.native_metrics.enabled,r=process.env.NEW_RELIC_NATIVE_METRICS_ENABLED;return void 0!==t||void 0!==r},R.prototype._DTManuallySet=function(e){const t=e&&e.distributed_tracing&&e.distributed_tracing.enabled,r=process.env.NEW_RELIC_DISTRIBUTED_TRACING_ENABLED;return void 0!==t||void 0!==r},R.prototype._enforceServerless=function(e){if(this.serverless_mode.enabled){if(!this.app_name||0===this.app_name.length){const e=process.env.AWS_LAMBDA_FUNCTION_NAME?"process.env.AWS_LAMBDA_FUNCTION_NAME":"DEFAULT",t=process.env.AWS_LAMBDA_FUNCTION_NAME||"Serverless Application";this.app_name=[t],S.info("Auto-naming serverless application to ['%s'] from: %s",t,e)}return this.cross_application_tracer.enabled&&(this.cross_application_tracer.enabled=!1,S.info("Cross application tracing is explicitly disabled in serverless_mode.")),this.infinite_tracing.trace_observer.host&&(this.infinite_tracing.trace_observer.host="",this.infinite_tracing.trace_observer.port="",S.info("Infinite tracing is explicitly disabled in serverless_mode.")),this._loggingManuallySet(e)||(this.logging.enabled=!1,S.info("Logging is disabled by default when serverless_mode is enabled. If desired, enable logging via config file or environment variable and set filepath to a valid path for current environment, stdout or stderr.")),this._nativeMetricsManuallySet(e)&&this.plugins.native_metrics.enabled?S.info("Enabling the native-metrics module when in serverless mode may greatly increase cold-start times. Given the limited benefit of the VM metricsand general lack of control in a serverless environment, we do not recommend this trade-off."):(this.plugins.native_metrics.enabled=!1,S.info("The native-metrics module is disabled by default when serverless_mode is enabled.  If desired, enable the native-metrics module via config file or environment variable.")),this._DTManuallySet(e)||(this.distributed_tracing.enabled=!0),this.account_id?(this.trusted_account_key=this.trusted_account_key||this.account_id,void(this.primary_application_id=this.primary_application_id||"Unknown")):void(this.distributed_tracing.enabled&&(S.warn("Using distributed tracing in serverless mode requires account_id be defined, either in your newrelic.js file or via environment variables. Disabling distributed tracing."),this.distributed_tracing.enabled=!1))}["account_id","primary_application_id","trusted_account_key"].forEach(e=>{this[e]&&(S.warn(e+" was configured locally without enabling serverless_mode. This local value will be ignored and set by the New Relic servers."),this[e]=null)})},R.prototype._canonicalize=function(){var e=this.error_collector&&this.error_collector.ignore_status_codes;e&&(this.error_collector.ignore_status_codes=D(e));const t=this.error_collector&&this.error_collector.expected_status_codes;e&&(this.error_collector.expected_status_codes=D(t));var r=this.logging.level;if(this.logging.level={verbose:"trace",debugging:"debug",warning:"warn",err:"error"}[r]||r,""===this.host){var n=d(this.license_key);this.host=n?"collector."+n+".nr-data.net":"collector.newrelic.com"}N(this.ignore_server_configuration)&&S.warnOnce("IgnoreServerConfigurationWarning","The local config setting `ignore_server_configuration` has been deprecated and removed as of Agent v5. Please review agent documentation or contact New Relic support."),this.serverless_mode.enabled=this.serverless_mode.enabled&&this.feature_flag.serverless_mode,this.license_key&&(this.license_key=this.license_key.trim())},R.prototype._applyHighSecurity=function(){var e=this;function t(e,t,n){Object.keys(n).forEach(r.bind(null,e,t,n))}function r(r,n,i,o){var s=i[o];if(s&&"object"==typeof s&&!(s instanceof Array))return"object"!=typeof n[o]&&(S.warn("High Security Mode: %s should be an object, found %s",o,n[o]),n[o]=Object.create(null)),t(r+o+".",n[o],s);n[o]!==s&&(S.warn("High Security Mode: %s was set to %s, coercing to %s",o,n[o],s),n[o]=s,e.emit(r+o,s))}t("",this,C.HIGH_SECURITY_SETTINGS),this.attributes.exclude.push("request.parameters.*")},R.prototype.applyLasp=function(e,t){var r=this,n=Object.keys(t);if(!r.security_policies_token)return n.length?(S.error("The agent received one or more unexpected security policies and will shut down."),i.fatal(null)):i.success(null);var o=[],s=[],a=n.reduce((function(n,i){var o=t[i],a=_[i];if(a){for(var c=a.path.split("."),u=r[c[0]],l=1;l<c.length-1;++l)u=u[c[l]];var f=c[c.length-1],p=u[f],d=a.allowedValues,h=d[o.enabled?1:0],g=u[f]=r._getMostSecure(i,p,h);o.enabled=1===d.indexOf(g),n[i]=o,!o.enabled&&a.applyAdditionalSettings&&a.applyAdditionalSettings(r),g!==p&&a.clearData(e)}else{if(!o.required)return n;s.push(i)}return n}),Object.create(null));Object.keys(_).forEach((function(e){t[e]||o.push(e)}));let c=null;return o.length?c="The agent did not receive one or more security policies that it expected and will shut down: "+o.join(", ")+".":s.length&&(c="The agent received one or more required security policies that it does not recognize and will shut down: "+s.join(", ")+". Please check if a newer agent version supports these policies or contact support."),c?(S.error(c),i.fatal(null)):i.success(a)},R.prototype.validateFlags=function(){Object.keys(this.feature_flag).forEach((function(e){c.released.indexOf(e)>-1&&S.warn("Feature flag %s has been released",e),c.unreleased.indexOf(e)>-1&&S.warn("Feature flag %s has been deprecated",e)}))},R.prototype.publicSettings=function(){var e=Object.create(null);for(var t in this)if(this.hasOwnProperty(t)&&!P.has(t))if(C.REDACT_BEFORE_SEND.has(t)){const r=this[t];e[t]=k(r)}else C.REMOVE_BEFORE_SEND.has(t)||(e[t]=this[t]);e.browser_monitoring.auto_instrument=e.browser_monitoring.enable;try{return e=m(e),u(Object.create(null),"",JSON.parse(e))}catch(e){S.error(e,"Unable to stringify settings object")}},R.prototype.getAggregatorConfig=function(e){const t=this.event_harvest_config,r=b.isValidHarvestConfig(t),n=t.harvest_limits[e];return r&&b.isValidHarvestValue(n)?{limit:n,periodMs:t.report_period_ms}:null};const P=new Set(["attributeFilter"]);R.initialize=B,R.getOrCreateInstance=function(){if(null===I)try{I=B()}catch(e){console.error("New Relic for Node.js is disabled due to an error:"),console.error(e.stack),I=Object.assign(s(),{agent_enabled:!1}),I.setLogger=R.prototype.setLogger}return I},R.getInstance=function(){return I},R.createInstance=function(e){return I=B(e),I},R.SPAN_EVENT_LIMIT=1e3,e.exports=R}).call(this,"/")},function(e,t,r){"use strict";const n=r(157),i=r(31),o=r(5).hasOwn,s=r(0).child({component:"Shim"}),a=r(8),c=r(85),u=r(3),l=Function.prototype.apply;function f(e,t,r){if(!e||!t)throw new Error("Shim must be initialized with an agent and module name.");this._logger=s.child({module:t}),this._agent=e,this._toExport=null,this._debug=!1,this.defineProperty(this,"moduleName",t);var n=null,i=r||"/";do{n=i,i=a.dirname(n)}while(n.length>1&&!/node_modules(?:\/@[^/]+)?$/.test(i));this._moduleRoot=n}function p(e,t){if(t.parent=t.parent||e.getActiveSegment(),t.parent&&t.parent.opaque)return e.logger.trace(t,"Did not create segment because parent is opaque"),t.parent;var r=e.tracer.createSegment(t.name,t.recorder,t.parent);return r?(r.internal=t.internal,r.opaque=t.opaque,r.shim=e,o(t,"parameters")&&e.copySegmentParameters(r,t.parameters),e.logger.trace(t,"Created segment")):e.logger.debug(t,"Failed to create segment"),r}function d(e){return"function"==typeof e}function h(){for(var e=arguments.length,t=new Array(e),r=0;r<e;++r)t[r]=arguments[r];return t}function g(e,t){return t<0&&(t=e+t),t<0||t>=e?null:t}function m(e,t,r){var n={enumerable:!0,configurable:!0};d(r)?n.get=r:(n.writable=!1,n.value=r),Object.defineProperty(e,t,n)}function y(e,t){for(var r=Object.keys(t),n=0;n<r.length;++n){var i=r[n];m(e,i,t[i])}}function v(e){throw new Error("Declarative specs are not implemented yet.")}function b(e,t,r,i,o){var s=[e,t,r];o&&o.length&&s.push.apply(s,o);var a=i.wrapper.apply(null,s);return a&&a!==t?(i.matchArity&&e.isFunction(a)&&(a=n.fixArity(t,a)),a.__NR_original||e.setInternalProperty(a,"__NR_original",t),e._debug&&e._wrapped.push(a)):a=t,a}function E(e,t,r,n,i){function s(o,s,a){if(e.isFunction(s))s.call(o,e,t,r,i.segment,n);else if(e.isNumber(s)){e.logger.trace("Binding callback %d segment: %j",s,!!i.segment);var c=g(n.length,s);null!==c&&(i.shouldCreateSegment?a.call(e,n,c,i.segment):n[c]=e.bindSegment(n[c],i.segment,!0))}}o(i.spec,"callback")&&null!==i.spec.callback&&s(this,i.spec.callback,e.bindCallbackSegment),o(i.spec,"rowCallback")&&null!==i.spec.rowCallback&&s(this,i.spec.rowCallback,e.bindRowCallbackSegment||e.bindCallbackSegment)}function w(e,t,r,n,i){return class extends t{constructor(){var o=e.argsToArray.apply(e,arguments),s=[e,t,r,o];i.length>0&&s.push.apply(s,i),n.pre&&n.pre.apply(null,s),super(...o),n.post&&n.post.apply(this,s)}}}function _(e,t,r,n,i){function o(){var s=h.apply(e,arguments);if(!(this instanceof o))return s.unshift(o),new(o.bind.apply(o,s));var a=[e,t,r,s];i.length>0&&a.push.apply(a,i),n.pre&&n.pre.apply(null,a),t.apply(this,s),n.post&&n.post.apply(this,a)}return u.inherits(o,t),o.prototype=t.prototype,o}e.exports=f,f.defineProperty=m,f.defineProperties=y,f.prototype.ARG_INDEXES=c.ARG_INDEXES,y(f.prototype,c.ARG_INDEXES),y(f,i.SYMBOLS),y(f.prototype,i.SYMBOLS),y(f.prototype,{agent:function(){return this._agent},tracer:function(){return this._agent.tracer},logger:function(){return this._logger}}),f.prototype.wrap=function(e,t,r,n){if(!e)return this.logger.debug("Not wrapping non-existent nodule."),e;this.isObject(t)&&!this.isArray(t)&&(n=r,r=t,t=null);this.isFunction(r)&&(r={wrapper:r});if(r=this.setDefaults(r,{matchArity:!1}),null==t){const t=this.getName(e);return this.logger.trace("Wrapping nodule itself (%s).",t),b(this,e,t,r,n)}this.isArray(t)||(t=[t]);return this.logger.trace("Wrapping %d properties on nodule.",t.length),t.forEach((function(t){var i=e[t];if(i){var o=b(this,i,t,r,n);o&&o!==i&&(this.logger.trace('Replacing "%s" with wrapped version',t),e[t]=o,this.setInternalProperty(o,"__NR_unwrap",(function(){return e[t]=i,i})))}else this.logger.debug('Not wrapping missing property "%s"',t)}),this),e},f.prototype.bindSegment=function(e,t,r,n){if(!e)return e;this.isObject(t)&&!this.isArray(t)&&(n=r,r=t,t=null);if(null!=r&&!this.isObject(r))return this.logger.debug({segment:r},"Segment is not a segment, not binding."),e;return this.wrap(e,t,(function(e,t){if(!e.isFunction(t))return t;if(!(r=r||e.getSegment()))return t;var i=function(e,t,r,n){return function(){return e.applySegment(t,r,n,this,arguments)}}(e,t,r,n||!1);return e.storeSegment(i,r),i}))},f.prototype.bindPromise=function(e,t){return this.interceptPromise(e,(function(){t.opaque=!1,t.touch()}))},f.prototype.execute=function(e,t){this.isFunction(t)?t(this,e):v(t)(this,e)},f.prototype.wrapReturn=function(e,t,r,n){this.isObject(t)&&!this.isArray(t)&&(n=r,r=t,t=null);this.isFunction(r)||(r=v(r));this.isArray(n)||(n=[]);return this.wrap(e,t,(function(e,t,i){if(!e.isFunction(t))return t;let o=null;return new Proxy(t,{get:function(e,t){return"__NR_original"===t?e:"__NR_unwrap"===t?o:e[t]},defineProperty:function(e,t,r){return"__NR_unwrap"===t?o=r.value:Object.defineProperty(e,t,r),!0},set:function(e,t,r){return"__NR_unwrap"===t?o=r:e[t]=r,!0},construct:function(o,s){let a=new o(...s);const c=[e,t,i,a];n.length>0&&c.push.apply(c,n);const u=r.apply(a,c);return u&&(a=u),a},apply:function(o,s,a){let c=o.apply(s,a);const u=[e,t,i,c];n.length>0&&u.push.apply(u,n);const l=r.apply(s,u);return l&&(c=l),c}})}))},f.prototype.wrapClass=function(e,t,r,n){this.isObject(t)&&!this.isArray(t)&&(n=r,r=t,t=null);this.isFunction(r)?r={pre:null,post:r}:(r.pre=r.pre||null,r.post=r.post||null);this.isArray(n)||(n=[]);return this.wrap(e,t,(function(e,t,i){return!e.isFunction(t)||e.isWrapped(t)?t:(r.es6||/^class /.test(t.toString())?w:_)(e,t,i,r,n)}))},f.prototype.wrapExport=function(e,t){return this._toExport=this.wrap(e,null,t)},f.prototype.record=function(e,t,r){this.isFunction(t)&&(r=t,t=null);return this.wrap(e,t,(function(e,t,n){return e.isFunction(t)?(e.logger.trace('Wrapping "%s" with metric recording.',n),function(){var s,a=h.apply(e,arguments),u=r.call(this,e,t,n,a);if(!u)return e.logger.trace('No segment descriptor for "%s", not recording.',n),l.call(t,this,a);if(!(s=(u=new c.RecorderSpec(u)).parent?u.parent.transaction.isActive()?u.parent:null:e.getActiveSegment()))return e.logger.debug("Not recording function %s, not in a transaction.",n),l.call(t,this,arguments);if(u.callbackRequired&&!i(e,a,u.callback))return l.call(t,this,arguments);var f=!(s.opaque||u.internal&&s.internal&&e===s.shim),d=f?p(e,u):s;return o.call(this,d,a,u,f)}):(e.logger.debug('Not recording non-function "%s".',n),t);function i(e,t,r){if(e.isNumber(r)){const n=g(t.length,r);if(null===n)return!1;const i=t[n];return e.isFunction(i)}return!0}function o(r,i,o,s){E.call(this,e,t,n,i,{spec:o,segment:r,shouldCreateSegment:s});var a=function(r,i,o,s){var a,c=null,u=!1;try{return a=e.applySegment(t,r,!0,i,o,s.inContext),s.after&&s.promise&&e.isPromise(a)?(u=!0,a.then((function(i){return r.touch(),s.after(e,t,n,null,i),i}),(function(i){throw r.touch(),s.after(e,t,n,i,null),i}))):a}catch(e){throw c=e,e}finally{!s.after||!c&&u||s.after(e,t,n,c,a)}}(r,this,i,o);return a&&(o.stream?(e.logger.trace("Binding return value as stream."),function(e,t,r,n){if(!r||!e.isFunction(t.emit))return void e.logger.trace("Not binding stream; have segment=%j; typeof emit=%s",!!r,typeof t.emit);var i=n&&n.event||null,o=n&&n.shouldCreateSegment||!1,s="Event callback: "+i;e.wrap(t,"emit",(function(e,t){var n=r.transaction,a=e.bindSegment(t,r,!0),c=null,u=null,l=0;return o?function(o){var f=a;return o===i&&n.isActive()&&(u||(c=e.createSegment(s,r),u=e.bindSegment(t,c,!0)),c.addAttribute("count",++l),f=u),"end"!==o&&"error"!==o||(r.opaque=!1,r.touch()),f.apply(this,arguments)}:a})),e.wrap(t,["on","addListener"],(function(e,t){return e.isFunction(t)?function(n){if(n!==i&&("end"===n||"error"===n)){var o=h.apply(e,arguments);return e.bindCallbackSegment(o,e.LAST,r),t.apply(this,o)}return t.apply(this,arguments)}:t}))}(e,a,r,{event:e.isString(o.stream)?o.stream:null,shouldCreateSegment:s})):o.promise&&e.isPromise(a)&&(e.logger.trace("Binding return value as Promise."),a=e.bindPromise(a,r))),a}}))},f.prototype.isWrapped=function(e,t){if(t)return!!(e&&e[t]&&e[t].__NR_original);return!(!e||!e.__NR_original)},f.prototype.unwrap=function e(t,r){if(!t)return t;if(this.isArray(r))return r.forEach(e.bind(this,t)),t;this.logger.trace("Unwrapping %s",r||"<nodule>");var n=r?t[r]:t;for(;n&&n.__NR_original;)n=this.isFunction(n.__NR_unwrap)?n.__NR_unwrap():n.__NR_original;return n},f.prototype.unwrapOnce=function e(t,r){if(!t)return t;if(this.isArray(r))return r.forEach(e.bind(this,t)),t;this.logger.trace("Unwrapping %s",r||"<nodule>");var n=r?t[r]:t;n&&n.__NR_original&&(n=this.isFunction(n.__NR_unwrap)?n.__NR_unwrap():n.__NR_original);return n},f.prototype.getOriginal=function(e,t){if(!e)return e;var r=t?e[t]:e;for(;r&&r.__NR_original;)r=r.__NR_original;return r},f.prototype.getSegment=function(e){if(e&&e.__NR_segment)return e.__NR_segment;return this.tracer.getSegment()},f.prototype.getActiveSegment=function(e){var t=this.getSegment(e);if(t&&t.transaction&&t.transaction.isActive())return t;return null},f.prototype.setActiveSegment=function(e){return this.tracer.segment=e},f.prototype.storeSegment=function(e,t){this.setInternalProperty(e,"__NR_segment",t||this.tracer.getSegment())},f.prototype.bindCallbackSegment=function(e,t,r){if(!e)return;if(this.isNumber(t)){var n=g(e.length,t);if(null===n)return void this.logger.debug("Invalid index %d for args of length %d, not binding callback segment",t,e.length);t=n}var i=e[t];if(this.isFunction(i)){var o=r||this.getSegment();e[t]=this.wrap(i,null,(function(e,t,r){return function(){o&&(o.opaque=!1);var t=p(e,new c.SegmentSpec({name:"Callback: "+r,parent:o}));return t&&(t.async=!1),o&&o.touch(),e.applySegment(i,t,!0,this,arguments)}})),this.storeSegment(e[t],o)}},f.prototype.applySegment=function(e,t,r,n,i,o){if(!this.isFunction(e))return;if(!t)return this.logger.trace("No segment to apply to function."),l.call(e,n,i);this.logger.trace("Applying segment %s",t.name);var s=this.tracer,a=s.segment;s.segment=t,r&&t.start();"function"==typeof o&&o();try{return l.call(e,n,i)}catch(e){throw null===a&&null!=process.domain&&(process.domain.__NR_segment=s.segment),e}finally{r&&t.touch(),s.segment=a}},f.prototype.createSegment=function(e,t,r){var n=null;this.isString(e)?(n=new c.SegmentSpec({name:e}),this.isFunction(t)||this.isNull(t)?(n.recorder=t,n.parent=r):n.parent=t):n=e;return p(this,n)},f.prototype.getName=function(e){return String(e&&!0!==e?e.name||"<anonymous>":e)},f.prototype.isObject=function(e){return e instanceof Object},f.prototype.isFunction=d,f.prototype.isPromise=function(e){return e&&"function"==typeof e.then},f.prototype.isString=function(e){return"string"==typeof e},f.prototype.isNumber=function(e){return"number"==typeof e},f.prototype.isBoolean=function(e){return"boolean"==typeof e},f.prototype.isArray=function(e){return e instanceof Array},f.prototype.isNull=function(e){return null===e},f.prototype.toArray=function(e){for(var t=e.length,r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r},f.prototype.argsToArray=h,f.prototype.normalizeIndex=g,f.prototype.once=function(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}},f.prototype.setInternalProperty=function(e,t,r){if(!e||!t)return this.logger.debug("Not setting property; object or name is missing."),e;try{this.agent.config.transaction_tracer.hide_internals?function(e,t,r){o(e,t)?e[t]=r:Object.defineProperty(e,t,{enumerable:!1,writable:!0,value:r})}(e,t,r):e[t]=r}catch(e){this.logger.debug(e,'Failed to set property "%s" to %j',t,r)}return e},f.prototype.defineProperty=m,f.prototype.defineProperties=y,f.prototype.setDefaults=function(e,t){e||(e=Object.create(null));for(var r=Object.keys(t),n=0;n<r.length;++n){var i=r[n];o(e,i)||(e[i]=t[i])}return e},f.prototype.proxy=function(e,t,r){this.isArray(t)||(t=[t]);t.forEach((function(t){Object.defineProperty(r,t,{get:function(){return e[t]},set:function(r){return e[t]=r}})}))},f.prototype.require=function(e){try{return r(158)(a.resolve(this._moduleRoot,e))}catch(t){return this.logger.debug("Failed to load '%s' from module root: '%s'. Stack: %s",e,this._moduleRoot,t.stack),null}},f.prototype.copySegmentParameters=function(e,t){for(var r in t)o(t,r)&&e.addAttribute(r,t[r])},f.prototype.interceptPromise=function(e,t){if(this.isFunction(e.finally))return e.finally(t);return e.then((function(e){return t(),e}),(function(e){throw t(),e}))},f.prototype.fixArity=n.fixArity,f.prototype.getExport=function(e){return this._toExport||e},f.prototype.enableDebug=function(){this.logger.warn("Enabling debug mode for shim!"),this._debug=!0,this._wrapped=[]},f.prototype.__NR_unwrap=function(){this._wrapped&&(this.logger.debug("Unwrapping %d items.",this._wrapped.length),this._wrapped.forEach((function(e){this.unwrap(e)}),this))}},function(e,t,r){"use strict";var n=r(11),i={localhost:!0,"127.0.0.1":!0,"0.0.0.0":!0,"0:0:0:0:0:0:0:1":!0,"::1":!0,"0:0:0:0:0:0:0:0":!0,"::":!0};function o(e,t){var r=[];return e&&e.error_collector&&e.error_collector.ignore_status_codes&&(r=e.error_collector.ignore_status_codes),r.indexOf(parseInt(t,10))>=0}e.exports={LOCALHOST_NAMES:i,isLocalhost:function(e){return null!=i[e]},isError:function(e,t){return t>=400&&!o(e,t)},isIgnoredError:function(e,t){return t>=400&&o(e,t)},isExpectedError:function(e,t){return function(e,t){var r=[];e&&e.error_collector&&e.error_collector.expected_status_codes&&(r=e.error_collector.expected_status_codes);return r.indexOf(parseInt(t,10))>=0}(e,t)},scrub:function(e){"string"==typeof e&&(e=n.parse(e));var t=e.pathname;return t?"/"!==(t=t.split(";")[0])&&"/"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)):t="/",t},parseParameters:function(e){var t=e;"string"==typeof e&&(t=n.parse(e,!0));var r=Object.create(null);if(t.query)for(var i=Object.keys(t.query),o=0,s=i.length;o<s;++o){var a=i[o];""===t.query[a]&&-1===t.path.indexOf(a+"=")?r[a]=!0:r[a]=t.query[a]}return r},scrubAndParseParameters:function(e){return"string"==typeof e&&(e=n.parse(e,!0)),{protocol:e.protocol,path:this.scrub(e),parameters:this.parseParameters(e)}},copyParameters:function(e,t){if(e&&t)for(var r=Object.keys(e),n=0;n<r.length;n++){var i=r[n];i in t||(t[i]=e[i])}},overwriteParameters:function(e,t){for(var r=Object.keys(e),n=0;n<r.length;n++){var i=r[n];t[i]=e[i]}}}},function(e,t,r){"use strict";e.exports=u;var n=r(28);((u.prototype=Object.create(n.prototype)).constructor=u).className="Field";var i,o=r(12),s=r(29),a=r(4),c=/^required|optional|repeated$/;function u(e,t,r,i,o,u,l){if(a.isObject(i)?(l=o,u=i,i=o=void 0):a.isObject(o)&&(l=u,u=o,o=void 0),n.call(this,e,u),!a.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!a.isString(r))throw TypeError("type must be a string");if(void 0!==i&&!c.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==o&&!a.isString(o))throw TypeError("extend must be a string");"proto3_optional"===i&&(i="optional"),this.rule=i&&"optional"!==i?i:void 0,this.type=r,this.id=t,this.extend=o||void 0,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==s.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=l}u.fromJSON=function(e,t){return new u(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(u.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),u.prototype.setOption=function(e,t,r){return"packed"===e&&(this._packed=null),n.prototype.setOption.call(this,e,t,r)},u.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},u.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=s.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof o&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof o)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,e=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,e=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),n.prototype.resolve.call(this)},u.d=function(e,t,r,n){return"function"==typeof t?t=a.decorateType(t).name:t&&"object"==typeof t&&(t=a.decorateEnum(t).name),function(i,o){a.decorateType(i.constructor).add(new u(o,e,t,r,{default:n}))}},u._configure=function(e){i=e}},function(e,t,r){"use strict";var n=r(45),i=r(30);t.fs=n.shallow(i)},function(e,t){e.exports=require("buffer")},function(e,t,r){try{var n=r(3);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(139)}},function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r(69),o=r(73);r(23)(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t,r){"use strict";const n=r(165),i=r(15),o=r(0).child({component:"TransactionShim"}),s=r(18),a=r(89),c=r(3),u=new RegExp("^(?:X-NewRelic-Id|NewRelicID)$","i"),l=new RegExp("^(?:X-NewRelic-Transaction|NewRelicTransaction)$","i"),f=new RegExp("^(?:X-NewRelic-App-Data|NewRelicAppData)$","i"),p=a.TYPES_SET;function d(e,t,r){s.call(this,e,t,r),this._logger=o.child({module:t})}function h(e,t,r,n){return function(){if(!e.agent.canCollectData())return t.apply(this,arguments);var i=e.tracer.getTransaction(),o=e.tracer.segment;return i&&n.type===i.type||(e.logger.trace("Creating new nested %s transaction for %s",n.type,r),(i=new a(e.agent)).type=n.type,o=i.trace.root),e.applySegment(t,o,!1,this,arguments)}}function g(e,t,r,n){return function(){const i=e.tracer.getTransaction();if(!e.agent.canCollectData()||i)return t.apply(this,arguments);e.logger.trace("Creating new %s transaction for %s",n.type,r);var o=new a(e.agent);return o.type=n.type,e.applySegment(t,o.trace.root,!1,this,arguments)}}e.exports=d,c.inherits(d,s),d.TRANSACTION_TYPES=a.TYPES,Object.keys(a.TYPES).forEach((function(e){s.defineProperty(d,e,a.TYPES[e]),s.defineProperty(d.prototype,e,a.TYPES[e])})),s.defineProperty(d,"TRANSPORT_TYPES",a.TRANSPORT_TYPES),s.defineProperty(d.prototype,"TRANSPORT_TYPES",a.TRANSPORT_TYPES),d.prototype.bindCreateTransaction=function(e,t,r){this.isObject(t)&&!this.isArray(t)&&(r=t,t=null);if(!p[r.type])return this.logger.error({stack:(new Error).stack},'Invalid spec type "%s", must be one of %j.',r.type,Object.keys(p)),e;return this.wrap(e,t,(function(e,t,n){return e.isFunction(t)?(r.nest?h:g)(e,t,n,r):(e.logger.debug('Not wrapping "%s" with transaction, not a function.',n),t)}))},d.prototype.pushTransactionName=function(e){var t=this.tracer.getTransaction();t&&t.nameState&&t.nameState.appendPath(e)},d.prototype.popTransactionName=function(e){var t=this.tracer.getTransaction();t&&t.nameState&&t.nameState.popPath(e)},d.prototype.setTransactionName=function(e){var t=this.tracer.getTransaction();t&&t.setPartialName(e)},d.prototype.handleCATHeaders=function(e,t,r){if(!this.agent.config.cross_application_tracer.enabled)return void this.logger.trace("CAT disabled, not extracting header.");if(!this.agent.config.encoding_key)return void this.logger.warn("Missing encoding key, not extracting CAT headers!");if(!e)return void this.logger.debug("No headers to search for CAT within");if(!(t=t||this.getSegment())||!t.transaction.isActive())return void this.logger.trace("Not adding CAT reply header, not in an active transaction.");const o=t.transaction;if(this.agent.config.distributed_tracing.enabled)return void o.acceptDistributedTraceHeaders(r,e);var s=null,a=null,c=null;for(var p in e)if(u.test(p)?s=e[p]:l.test(p)?a=e[p]:f.test(p)&&(c=e[p]),s&&a&&c)break;s&&a&&(n.handleCatHeaders(s,a,this.agent.config.encoding_key,o),o.incomingCatId&&this.logger.trace("Got inbound CAT headers in transaction %s from %s",o.id,o.incomingCatId));c&&function(e,t,r){var n=e.agent.config;try{r=JSON.parse(i.deobfuscateNameUsingKey(r,n.encoding_key))}catch(t){return void e.logger.warn("Unparsable CAT application data header: %s",r)}if(!r.length||!e.isString(r[0]))return void e.logger.trace("Unknown format for CAT application data header.");var o=parseInt(r[0].split("#")[0],10),s=n.trusted_account_ids;if(s&&-1===s.indexOf(o))return void e.logger.trace("CAT headers from untrusted application %s",o);t.catId=r[0],t.catTransaction=r[1],r.length>=6&&t.addAttribute("transaction_guid",r[5]);e.logger.trace("Got inbound response CAT headers for transaction %s from %s",t.transaction.id,r[5])}(this,t,c)},d.prototype.insertCATRequestHeaders=function(e,t){const r=this.agent.config.cross_application_tracer.enabled,n=this.agent.config.distributed_tracing.enabled;if(!n&&!r)return void this.logger.trace("Distributed Tracing and CAT are both disabled, not adding headers.");if(!e)return void this.logger.debug("Missing headers object, not adding headers!");const o=this.tracer.getTransaction();if(!o||!o.isActive())return void this.logger.trace("No active transaction found, not adding headers.");if(n)o.insertDistributedTraceHeaders(e);else{if(!this.agent.config.encoding_key)return void this.logger.warn("Missing encoding key, not adding CAT headers!");let r="X-NewRelic-Transaction",n="X-NewRelic-Id";t&&(n="NewRelicID",r="NewRelicTransaction"),this.agent.config.obfuscatedId&&(e[n]=this.agent.config.obfuscatedId);const s=i.calculatePathHash(this.agent.config.applications()[0],o.getFullName(),o.referringPathHash);o.pushPathHash(s);try{const t=i.obfuscateNameUsingKey(JSON.stringify([o.id,!1,o.tripId||o.id,s]),this.agent.config.encoding_key);t&&(e[r]=t,this.logger.trace("Added CAT headers for transaction %s",o.id))}catch(e){this.logger.warn({error:e.stack},"Failed to serialize CAT header!")}}},d.prototype.insertCATReplyHeader=function(e,t){var r=this.agent.config;if(!r.cross_application_tracer.enabled)return void this.logger.trace("CAT disabled, not adding CAT reply header.");if(r.distributed_tracing.enabled)return void this.logger.warn("Distributed tracing is enabled, not adding CAT reply header.");if(!r.encoding_key)return void this.logger.warn("Missing encoding key, not adding CAT reply header!");if(!e)return void this.logger.debug("Missing headers object, not adding CAT reply header!");var n=this.getSegment();if(!n||!n.transaction.isActive())return void this.logger.trace("Not adding CAT reply header, not in an active transaction.");var o=n.transaction,s=-1;for(var a in e)if("content-length"===a.toLowerCase()){s=e[a];break}var c=null,u=o.getFullName();try{c=i.obfuscateNameUsingKey(JSON.stringify([r.cross_process_id,u,o.queueTime/1e3,o.catResponseTime/1e3,s,o.id,!1]),r.encoding_key)}catch(e){this.logger.warn({error:e.stack},"Failed to serialize CAT data for %s",u)}e[t?"NewRelicAppData":"X-NewRelic-App-Data"]=c,this.logger.trace("Added outbound response CAT headers for transaction %s",o.id)}},function(e,t,r){"use strict";var n=r(189),i=r(35),o=r(0).child({component:"utilization-request"}),s=r(21).fs,a=r(5);const c=r(11);function u(e){if(!e||!e.length||Buffer.byteLength(e)>255)return!1;for(var t=e.length,r=/[0-9a-zA-Z_ ./-]/,n=0;n<t;++n)if(e.charCodeAt(n)<128&&!r.test(e[n]))return!1;return!0}t.checkValueString=u,t.getKeys=function(e,t){if(!e)return null;for(var r=Object.create(null),n=0;n<t.length;++n){var i=t[n];if(!a.hasOwn(e,i)||!e[i])return o.debug("Key %s missing from metadata",i),null;var s=e[i];if("number"==typeof s&&(s=s.toString()),!u(s))return o.debug("Invalid metadata value found: %s -> %s",i,s),null;r[i]=s}return r},t.request=function(e,t,r){"string"==typeof e&&(e=c.parse(e)),e.timeout=e.timeout||1e3;var s=i.get(e,(function(i){i.pipe(n((function(n){if(t.removeListener("errored",a),t.removeListener("stopped",a),t.removeListener("disconnected",a),200!==i.statusCode)return o.debug("Got %d %s from metadata request %j",i.statusCode,i.statusMessage||"<n/a>",e),r(new Error("Request for metadata failed."));if(!n)return o.debug("Got no response data?"),r(new Error("No response data received."));r(null,n.toString("utf8"))})))}));function a(){o.debug("Aborting request for metadata at %j",e),s.abort(),t.removeListener("errored",a),t.removeListener("stopped",a),t.removeListener("disconnected",a)}s.setTimeout(1e3,(function(){s.abort()})),s.on("error",(function(t){if("ECONNRESET"===t.code)return o.debug("Request for metadata %j timed out",e),r(t);o.debug("Message for metadata %j: %s",e,t.message),r(t)})),t.once("errored",a),t.once("stopped",a),t.once("disconnected",a)},t.readProc=function(e,t){s.readFile(e,(function(r,n){r?(o.error(r,"Error when trying to read %s",e),t(r,null)):t(null,n.toString())}))}},function(e,t){e.exports=require("https")},function(e,t,r){"use strict";e.exports=o,o.className="ReflectionObject";var n,i=r(4);function o(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(o.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),o.prototype.toJSON=function(){throw Error()},o.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},o.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},o.prototype.resolve=function(){return this.resolved||this.root instanceof n&&(this.resolved=!0),this},o.prototype.getOption=function(e){if(this.options)return this.options[e]},o.prototype.setOption=function(e,t,r){return r&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},o.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(r){var o=n.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(o){var s=o[e];i.setProperty(s,r,t)}else(o={})[e]=i.setProperty({},r,t),n.push(o)}else{var a={};a[e]=t,n.push(a)}return this},o.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},o.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},o._configure=function(e){n=e}},function(e,t,r){"use strict";var n=t,i=r(4),o=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function s(e,t){var r=0,n={};for(t|=0;r<e.length;)n[o[r+t]]=e[r++];return n}n.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),n.long=s([0,0,0,1,1],7),n.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(e,t){e.exports=require("fs")},function(e,t,r){"use strict";const n={DISABLE_DT:Symbol("Disable distributed tracing")};t.MODULE_TYPE={GENERIC:"generic",CONGLOMERATE:"conglomerate",DATASTORE:"datastore",MESSAGE:"message",PROMISE:"promise",TRANSACTION:"transaction",WEB_FRAMEWORK:"web-framework"},t.SYMBOLS=n},function(e,t){e.exports=require("zlib")},function(e,t,r){"use strict";function n(e,t){return Buffer.byteLength(e,"utf8")<=t}function i(e,t){return Buffer.byteLength(e)-t}e.exports.isValidLength=n,e.exports.compareLength=i,e.exports.truncate=function(e,t){if(n(e=e.substring(0,t),t))return e;for(var r,o=e.length,s=Math.ceil(o/2),a=i(e.substring(0,o),t);a&&(a>0||s>1);)o=a<0?o+s:o-s,a=i(r=e.substring(0,o),t),s=Math.ceil(s/2);return r}},function(e,t,r){"use strict";function n(e,...t){return(...r)=>e(...t,...r)}function i(e){return function(...t){var r=t.pop();return e.call(this,t,r)}}r.r(t),r.d(t,"apply",(function(){return n})),r.d(t,"applyEach",(function(){return M})),r.d(t,"applyEachSeries",(function(){return k})),r.d(t,"asyncify",(function(){return f})),r.d(t,"auto",(function(){return P})),r.d(t,"autoInject",(function(){return Q})),r.d(t,"cargo",(function(){return z})),r.d(t,"cargoQueue",(function(){return H})),r.d(t,"compose",(function(){return X})),r.d(t,"concat",(function(){return $})),r.d(t,"concatLimit",(function(){return K})),r.d(t,"concatSeries",(function(){return ee})),r.d(t,"constant",(function(){return te})),r.d(t,"detect",(function(){return ne})),r.d(t,"detectLimit",(function(){return ie})),r.d(t,"detectSeries",(function(){return oe})),r.d(t,"dir",(function(){return ae})),r.d(t,"doUntil",(function(){return ue})),r.d(t,"doWhilst",(function(){return ce})),r.d(t,"each",(function(){return fe})),r.d(t,"eachLimit",(function(){return pe})),r.d(t,"eachOf",(function(){return O})),r.d(t,"eachOfLimit",(function(){return S})),r.d(t,"eachOfSeries",(function(){return x})),r.d(t,"eachSeries",(function(){return de})),r.d(t,"ensureAsync",(function(){return he})),r.d(t,"every",(function(){return ge})),r.d(t,"everyLimit",(function(){return me})),r.d(t,"everySeries",(function(){return ye})),r.d(t,"filter",(function(){return we})),r.d(t,"filterLimit",(function(){return _e})),r.d(t,"filterSeries",(function(){return Ae})),r.d(t,"forever",(function(){return Ce})),r.d(t,"groupBy",(function(){return Se})),r.d(t,"groupByLimit",(function(){return Te})),r.d(t,"groupBySeries",(function(){return Ie})),r.d(t,"log",(function(){return Ne})),r.d(t,"map",(function(){return R})),r.d(t,"mapLimit",(function(){return Z})),r.d(t,"mapSeries",(function(){return D})),r.d(t,"mapValues",(function(){return Re})),r.d(t,"mapValuesLimit",(function(){return Oe})),r.d(t,"mapValuesSeries",(function(){return Me})),r.d(t,"memoize",(function(){return xe})),r.d(t,"nextTick",(function(){return De})),r.d(t,"parallel",(function(){return Be})),r.d(t,"parallelLimit",(function(){return je})),r.d(t,"priorityQueue",(function(){return Ve})),r.d(t,"queue",(function(){return Pe})),r.d(t,"race",(function(){return Qe})),r.d(t,"reduce",(function(){return q})),r.d(t,"reduceRight",(function(){return Ge})),r.d(t,"reflect",(function(){return We})),r.d(t,"reflectAll",(function(){return Ye})),r.d(t,"reject",(function(){return He})),r.d(t,"rejectLimit",(function(){return qe})),r.d(t,"rejectSeries",(function(){return Je})),r.d(t,"retry",(function(){return Ze})),r.d(t,"retryable",(function(){return $e})),r.d(t,"seq",(function(){return J})),r.d(t,"series",(function(){return et})),r.d(t,"setImmediate",(function(){return l})),r.d(t,"some",(function(){return tt})),r.d(t,"someLimit",(function(){return rt})),r.d(t,"someSeries",(function(){return nt})),r.d(t,"sortBy",(function(){return it})),r.d(t,"timeout",(function(){return ot})),r.d(t,"times",(function(){return at})),r.d(t,"timesLimit",(function(){return st})),r.d(t,"timesSeries",(function(){return ct})),r.d(t,"transform",(function(){return ut})),r.d(t,"tryEach",(function(){return lt})),r.d(t,"unmemoize",(function(){return ft})),r.d(t,"until",(function(){return dt})),r.d(t,"waterfall",(function(){return ht})),r.d(t,"whilst",(function(){return pt})),r.d(t,"all",(function(){return ge})),r.d(t,"allLimit",(function(){return me})),r.d(t,"allSeries",(function(){return ye})),r.d(t,"any",(function(){return tt})),r.d(t,"anyLimit",(function(){return rt})),r.d(t,"anySeries",(function(){return nt})),r.d(t,"find",(function(){return ne})),r.d(t,"findLimit",(function(){return ie})),r.d(t,"findSeries",(function(){return oe})),r.d(t,"flatMap",(function(){return $})),r.d(t,"flatMapLimit",(function(){return K})),r.d(t,"flatMapSeries",(function(){return ee})),r.d(t,"forEach",(function(){return fe})),r.d(t,"forEachSeries",(function(){return de})),r.d(t,"forEachLimit",(function(){return pe})),r.d(t,"forEachOf",(function(){return O})),r.d(t,"forEachOfSeries",(function(){return x})),r.d(t,"forEachOfLimit",(function(){return S})),r.d(t,"inject",(function(){return q})),r.d(t,"foldl",(function(){return q})),r.d(t,"foldr",(function(){return Ge})),r.d(t,"select",(function(){return we})),r.d(t,"selectLimit",(function(){return _e})),r.d(t,"selectSeries",(function(){return Ae})),r.d(t,"wrapSync",(function(){return f})),r.d(t,"during",(function(){return pt})),r.d(t,"doDuring",(function(){return ce}));var o="function"==typeof queueMicrotask&&queueMicrotask,s="function"==typeof setImmediate&&setImmediate,a="object"==typeof process&&"function"==typeof process.nextTick;function c(e){setTimeout(e,0)}function u(e){return(t,...r)=>e(()=>t(...r))}var l=u(o?queueMicrotask:s?setImmediate:a?process.nextTick:c);function f(e){return h(e)?function(...t){const r=t.pop();return p(e.apply(this,t),r)}:i((function(t,r){var n;try{n=e.apply(this,t)}catch(e){return r(e)}if(n&&"function"==typeof n.then)return p(n,r);r(null,n)}))}function p(e,t){return e.then(e=>{d(t,null,e)},e=>{d(t,e&&e.message?e:new Error(e))})}function d(e,t,r){try{e(t,r)}catch(e){l(e=>{throw e},e)}}function h(e){return"AsyncFunction"===e[Symbol.toStringTag]}function g(e){if("function"!=typeof e)throw new Error("expected a function");return h(e)?f(e):e}function m(e,t=e.length){if(!t)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[t-1]?e.apply(this,r):new Promise((n,i)=>{r[t-1]=(e,...t)=>{if(e)return i(e);n(t.length>1?t:t[0])},e.apply(this,r)})}}function y(e){return function(t,...r){return m((function(n){var i=this;return e(t,(e,t)=>{g(e).apply(i,r.concat(t))},n)}))}}function v(e,t,r,n){t=t||[];var i=[],o=0,s=g(r);return e(t,(e,t,r)=>{var n=o++;s(e,(e,t)=>{i[n]=t,r(e)})},e=>{n(e,i)})}function b(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0}const E={};function w(e){function t(...t){if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t}function _(e){if(b(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t,r,n,i,o=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}(e);return o?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(o):(r=(t=e)?Object.keys(t):[],n=-1,i=r.length,function e(){var o=r[++n];return"__proto__"===o?e():n<i?{value:t[o],key:o}:null})}function A(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}}function C(e,t,r,n){let i=!1,o=!1,s=!1,a=0,c=0;function u(){a>=t||s||i||(s=!0,e.next().then(({value:e,done:t})=>{if(!o&&!i){if(s=!1,t)return i=!0,void(a<=0&&n(null));a++,r(e,c,l),c++,u()}}).catch(f))}function l(e,t){if(a-=1,!o)return e?f(e):!1===e?(i=!0,void(o=!0)):t===E||i&&a<=0?(i=!0,n(null)):void u()}function f(e){o||(s=!1,i=!0,n(e))}u()}var T=e=>(t,r,n)=>{if(n=w(n),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return n(null);if("AsyncGenerator"===t[Symbol.toStringTag])return C(t,e,r,n);if(function(e){return"function"==typeof e[Symbol.asyncIterator]}(t))return C(t[Symbol.asyncIterator](),e,r,n);var i=_(t),o=!1,s=!1,a=0,c=!1;function u(e,t){if(!s)if(a-=1,e)o=!0,n(e);else if(!1===e)o=!0,s=!0;else{if(t===E||o&&a<=0)return o=!0,n(null);c||l()}}function l(){for(c=!0;a<e&&!o;){var t=i();if(null===t)return o=!0,void(a<=0&&n(null));a+=1,r(t.value,t.key,A(u))}c=!1}l()};var S=m((function(e,t,r,n){return T(t)(e,g(r),n)}),4);function I(e,t,r){r=w(r);var n=0,i=0,{length:o}=e,s=!1;function a(e,t){!1===e&&(s=!0),!0!==s&&(e?r(e):++i!==o&&t!==E||r(null))}for(0===o&&r(null);n<o;n++)t(e[n],n,A(a))}function N(e,t,r){return S(e,1/0,t,r)}var O=m((function(e,t,r){return(b(e)?I:N)(e,g(t),r)}),3);var R=m((function(e,t,r){return v(O,e,t,r)}),3),M=y(R);var x=m((function(e,t,r){return S(e,1,t,r)}),3);var D=m((function(e,t,r){return v(x,e,t,r)}),3),k=y(D);const B=Symbol("promiseCallback");function j(){let e,t;function r(r,...n){if(r)return t(r);e(n.length>1?n:n[0])}return r[B]=new Promise((r,n)=>{e=r,t=n}),r}function P(e,t,r){"number"!=typeof t&&(r=t,t=null),r=w(r||j());var n=Object.keys(e).length;if(!n)return r(null);t||(t=n);var i={},o=0,s=!1,a=!1,c=Object.create(null),u=[],l=[],f={};function p(e,t){u.push(()=>function(e,t){if(a)return;var n=A((t,...n)=>{if(o--,!1!==t)if(n.length<2&&([n]=n),t){var u={};if(Object.keys(i).forEach(e=>{u[e]=i[e]}),u[e]=n,a=!0,c=Object.create(null),s)return;r(t,u)}else i[e]=n,(c[e]||[]).forEach(e=>e()),d();else s=!0});o++;var u=g(t[t.length-1]);t.length>1?u(i,n):u(n)}(e,t))}function d(){if(!s){if(0===u.length&&0===o)return r(null,i);for(;u.length&&o<t;){u.shift()()}}}function h(t){var r=[];return Object.keys(e).forEach(n=>{const i=e[n];Array.isArray(i)&&i.indexOf(t)>=0&&r.push(n)}),r}return Object.keys(e).forEach(t=>{var r=e[t];if(!Array.isArray(r))return p(t,[r]),void l.push(t);var n=r.slice(0,r.length-1),i=n.length;if(0===i)return p(t,r),void l.push(t);f[t]=i,n.forEach(o=>{if(!e[o])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+o+"` in "+n.join(", "));!function(e,t){var r=c[e];r||(r=c[e]=[]);r.push(t)}(o,()=>{0===--i&&p(t,r)})})}),function(){var e,t=0;for(;l.length;)e=l.pop(),t++,h(e).forEach(e=>{0==--f[e]&&l.push(e)});if(t!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),d(),r[B]}var F=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,L=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,U=/,/,V=/(=.+)?(\s*)$/;function Q(e,t){var r={};return Object.keys(e).forEach(t=>{var n,i=e[t],o=h(i),s=!o&&1===i.length||o&&0===i.length;if(Array.isArray(i))n=[...i],i=n.pop(),r[t]=n.concat(n.length>0?a:i);else if(s)r[t]=i;else{if(n=function(e){const t=function(e){let t="",r=0,n=e.indexOf("*/");for(;r<e.length;)if("/"===e[r]&&"/"===e[r+1]){let t=e.indexOf("\n",r);r=-1===t?e.length:t}else if(-1!==n&&"/"===e[r]&&"*"===e[r+1]){let i=e.indexOf("*/",r);-1!==i?(r=i+2,n=e.indexOf("*/",r)):(t+=e[r],r++)}else t+=e[r],r++;return t}(e.toString());let r=t.match(F);if(r||(r=t.match(L)),!r)throw new Error("could not parse args in autoInject\nSource:\n"+t);let[,n]=r;return n.replace(/\s/g,"").split(U).map(e=>e.replace(V,"").trim())}(i),0===i.length&&!o&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");o||n.pop(),r[t]=n.concat(a)}function a(e,t){var r=n.map(t=>e[t]);r.push(t),g(i)(...r)}}),P(r,t)}class G{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){for(;this.head;)this.shift();return this}insertAfter(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}insertBefore(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):W(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):W(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var e=this.head;e;)yield e.data,e=e.next}remove(e){for(var t=this.head;t;){var{next:r}=t;e(t)&&this.removeLink(t),t=r}return this}}function W(e,t){e.length=1,e.head=e.tail=t}function Y(e,t,r){if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var n=g(e),i=0,o=[];const s={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function a(e,t){return e?t?void(s[e]=s[e].filter(e=>e!==t)):s[e]=[]:Object.keys(s).forEach(e=>s[e]=[])}function c(e,...t){s[e].forEach(e=>e(...t))}var u=!1;function f(e,t,r,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");var i,o;function s(e,...t){return e?r?o(e):i():t.length<=1?i(t[0]):void i(t)}y.started=!0;var a={data:e,callback:r?s:n||s};if(t?y._tasks.unshift(a):y._tasks.push(a),u||(u=!0,l(()=>{u=!1,y.process()})),r||!n)return new Promise((e,t)=>{i=e,o=t})}function p(e){return function(t,...r){i-=1;for(var n=0,s=e.length;n<s;n++){var a=e[n],u=o.indexOf(a);0===u?o.shift():u>0&&o.splice(u,1),a.callback(t,...r),null!=t&&c("error",t,a.data)}i<=y.concurrency-y.buffer&&c("unsaturated"),y.idle()&&c("drain"),y.process()}}function d(e){return!(0!==e.length||!y.idle())&&(l(()=>c("drain")),!0)}const h=e=>t=>{if(!t)return new Promise((t,r)=>{!function(e,t){const r=(...n)=>{a(e,r),t(...n)};s[e].push(r)}(e,(e,n)=>{if(e)return r(e);t(n)})});a(e),function(e,t){s[e].push(t)}(e,t)};var m=!1,y={_tasks:new G,*[Symbol.iterator](){yield*y._tasks[Symbol.iterator]()},concurrency:t,payload:r,buffer:t/4,started:!1,paused:!1,push(e,t){if(Array.isArray(e)){if(d(e))return;return e.map(e=>f(e,!1,!1,t))}return f(e,!1,!1,t)},pushAsync(e,t){if(Array.isArray(e)){if(d(e))return;return e.map(e=>f(e,!1,!0,t))}return f(e,!1,!0,t)},kill(){a(),y._tasks.empty()},unshift(e,t){if(Array.isArray(e)){if(d(e))return;return e.map(e=>f(e,!0,!1,t))}return f(e,!0,!1,t)},unshiftAsync(e,t){if(Array.isArray(e)){if(d(e))return;return e.map(e=>f(e,!0,!0,t))}return f(e,!0,!0,t)},remove(e){y._tasks.remove(e)},process(){if(!m){for(m=!0;!y.paused&&i<y.concurrency&&y._tasks.length;){var e=[],t=[],r=y._tasks.length;y.payload&&(r=Math.min(r,y.payload));for(var s=0;s<r;s++){var a=y._tasks.shift();e.push(a),o.push(a),t.push(a.data)}i+=1,0===y._tasks.length&&c("empty"),i===y.concurrency&&c("saturated");var u=A(p(e));n(t,u)}m=!1}},length:()=>y._tasks.length,running:()=>i,workersList:()=>o,idle:()=>y._tasks.length+i===0,pause(){y.paused=!0},resume(){!1!==y.paused&&(y.paused=!1,l(y.process))}};return Object.defineProperties(y,{saturated:{writable:!1,value:h("saturated")},unsaturated:{writable:!1,value:h("unsaturated")},empty:{writable:!1,value:h("empty")},drain:{writable:!1,value:h("drain")},error:{writable:!1,value:h("error")}}),y}function z(e,t){return Y(e,1,t)}function H(e,t,r){return Y(e,t,r)}var q=m((function(e,t,r,n){n=w(n);var i=g(r);return x(e,(e,r,n)=>{i(t,e,(e,r)=>{t=r,n(e)})},e=>n(e,t))}),4);function J(...e){var t=e.map(g);return function(...e){var r=this,n=e[e.length-1];return"function"==typeof n?e.pop():n=j(),q(t,e,(e,t,n)=>{t.apply(r,e.concat((e,...t)=>{n(e,t)}))},(e,t)=>n(e,...t)),n[B]}}function X(...e){return J(...e.reverse())}var Z=m((function(e,t,r,n){return v(T(t),e,r,n)}),4);var K=m((function(e,t,r,n){var i=g(r);return Z(e,t,(e,t)=>{i(e,(e,...r)=>e?t(e):t(e,r))},(e,t)=>{for(var r=[],i=0;i<t.length;i++)t[i]&&(r=r.concat(...t[i]));return n(e,r)})}),4);var $=m((function(e,t,r){return K(e,1/0,t,r)}),3);var ee=m((function(e,t,r){return K(e,1,t,r)}),3);function te(...e){return function(...t){return t.pop()(null,...e)}}function re(e,t){return(r,n,i,o)=>{var s,a=!1;const c=g(i);r(n,(r,n,i)=>{c(r,(n,o)=>n||!1===n?i(n):e(o)&&!s?(a=!0,s=t(!0,r),i(null,E)):void i())},e=>{if(e)return o(e);o(null,a?s:t(!1))})}}var ne=m((function(e,t,r){return re(e=>e,(e,t)=>t)(O,e,t,r)}),3);var ie=m((function(e,t,r,n){return re(e=>e,(e,t)=>t)(T(t),e,r,n)}),4);var oe=m((function(e,t,r){return re(e=>e,(e,t)=>t)(T(1),e,t,r)}),3);function se(e){return(t,...r)=>g(t)(...r,(t,...r)=>{"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&r.forEach(t=>console[e](t)))})}var ae=se("dir");var ce=m((function(e,t,r){r=A(r);var n,i=g(e),o=g(t);function s(e,...t){if(e)return r(e);!1!==e&&(n=t,o(...t,a))}function a(e,t){return e?r(e):!1!==e?t?void i(s):r(null,...n):void 0}return a(null,!0)}),3);function ue(e,t,r){const n=g(t);return ce(e,(...e)=>{const t=e.pop();n(...e,(e,r)=>t(e,!r))},r)}function le(e){return(t,r,n)=>e(t,n)}var fe=m((function(e,t,r){return O(e,le(g(t)),r)}),3);var pe=m((function(e,t,r,n){return T(t)(e,le(g(r)),n)}),4);var de=m((function(e,t,r){return pe(e,1,t,r)}),3);function he(e){return h(e)?e:function(...t){var r=t.pop(),n=!0;t.push((...e)=>{n?l(()=>r(...e)):r(...e)}),e.apply(this,t),n=!1}}var ge=m((function(e,t,r){return re(e=>!e,e=>!e)(O,e,t,r)}),3);var me=m((function(e,t,r,n){return re(e=>!e,e=>!e)(T(t),e,r,n)}),4);var ye=m((function(e,t,r){return re(e=>!e,e=>!e)(x,e,t,r)}),3);function ve(e,t,r,n){var i=new Array(t.length);e(t,(e,t,n)=>{r(e,(e,r)=>{i[t]=!!r,n(e)})},e=>{if(e)return n(e);for(var r=[],o=0;o<t.length;o++)i[o]&&r.push(t[o]);n(null,r)})}function be(e,t,r,n){var i=[];e(t,(e,t,n)=>{r(e,(r,o)=>{if(r)return n(r);o&&i.push({index:t,value:e}),n(r)})},e=>{if(e)return n(e);n(null,i.sort((e,t)=>e.index-t.index).map(e=>e.value))})}function Ee(e,t,r,n){return(b(t)?ve:be)(e,t,g(r),n)}var we=m((function(e,t,r){return Ee(O,e,t,r)}),3);var _e=m((function(e,t,r,n){return Ee(T(t),e,r,n)}),4);var Ae=m((function(e,t,r){return Ee(x,e,t,r)}),3);var Ce=m((function(e,t){var r=A(t),n=g(he(e));return function e(t){if(t)return r(t);!1!==t&&n(e)}()}),2);var Te=m((function(e,t,r,n){var i=g(r);return Z(e,t,(e,t)=>{i(e,(r,n)=>r?t(r):t(r,{key:n,val:e}))},(e,t)=>{for(var r={},{hasOwnProperty:i}=Object.prototype,o=0;o<t.length;o++)if(t[o]){var{key:s}=t[o],{val:a}=t[o];i.call(r,s)?r[s].push(a):r[s]=[a]}return n(e,r)})}),4);function Se(e,t,r){return Te(e,1/0,t,r)}function Ie(e,t,r){return Te(e,1,t,r)}var Ne=se("log");var Oe=m((function(e,t,r,n){n=w(n);var i={},o=g(r);return T(t)(e,(e,t,r)=>{o(e,t,(e,n)=>{if(e)return r(e);i[t]=n,r(e)})},e=>n(e,i))}),4);function Re(e,t,r){return Oe(e,1/0,t,r)}function Me(e,t,r){return Oe(e,1,t,r)}function xe(e,t=(e=>e)){var r=Object.create(null),n=Object.create(null),o=g(e),s=i((e,i)=>{var s=t(...e);s in r?l(()=>i(null,...r[s])):s in n?n[s].push(i):(n[s]=[i],o(...e,(e,...t)=>{e||(r[s]=t);var i=n[s];delete n[s];for(var o=0,a=i.length;o<a;o++)i[o](e,...t)}))});return s.memo=r,s.unmemoized=e,s}var De=u(a?process.nextTick:s?setImmediate:c),ke=m((e,t,r)=>{var n=b(t)?[]:{};e(t,(e,t,r)=>{g(e)((e,...i)=>{i.length<2&&([i]=i),n[t]=i,r(e)})},e=>r(e,n))},3);function Be(e,t){return ke(O,e,t)}function je(e,t,r){return ke(T(t),e,r)}function Pe(e,t){var r=g(e);return Y((e,t)=>{r(e[0],t)},t,1)}class Fe{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let t;for(;e>0&&Ue(this.heap[e],this.heap[t=Le(e)]);){let r=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=r,e=t}}percDown(e){let t;for(;(t=1+(e<<1))<this.heap.length&&(t+1<this.heap.length&&Ue(this.heap[t+1],this.heap[t])&&(t+=1),!Ue(this.heap[e],this.heap[t]));){let r=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=r,e=t}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let t=0;for(let r=0;r<this.heap.length;r++)e(this.heap[r])||(this.heap[t]=this.heap[r],t++);this.heap.splice(t);for(let e=Le(this.heap.length-1);e>=0;e--)this.percDown(e);return this}}function Le(e){return(e+1>>1)-1}function Ue(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}function Ve(e,t){var r=Pe(e,t),n=!1;return r._tasks=new Fe,r.push=function(e,t=0,i=(()=>{})){if("function"!=typeof i)throw new Error("task callback must be a function");if(r.started=!0,Array.isArray(e)||(e=[e]),0===e.length&&r.idle())return l(()=>r.drain());for(var o=0,s=e.length;o<s;o++){var a={data:e[o],priority:t,callback:i};r._tasks.push(a)}n||(n=!0,l(()=>{n=!1,r.process()}))},delete r.unshift,r}var Qe=m((function(e,t){if(t=w(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var r=0,n=e.length;r<n;r++)g(e[r])(t)}),2);function Ge(e,t,r,n){var i=[...e].reverse();return q(i,t,r,n)}function We(e){var t=g(e);return i((function(e,r){return e.push((e,...t)=>{let n={};if(e&&(n.error=e),t.length>0){var i=t;t.length<=1&&([i]=t),n.value=i}r(null,n)}),t.apply(this,e)}))}function Ye(e){var t;return Array.isArray(e)?t=e.map(We):(t={},Object.keys(e).forEach(r=>{t[r]=We.call(this,e[r])})),t}function ze(e,t,r,n){const i=g(r);return Ee(e,t,(e,t)=>{i(e,(e,r)=>{t(e,!r)})},n)}var He=m((function(e,t,r){return ze(O,e,t,r)}),3);var qe=m((function(e,t,r,n){return ze(T(t),e,r,n)}),4);var Je=m((function(e,t,r){return ze(x,e,t,r)}),3);function Xe(e){return function(){return e}}function Ze(e,t,r){var n={times:5,intervalFunc:Xe(0)};if(arguments.length<3&&"function"==typeof e?(r=t||j(),t=e):(Ke(n,e),r=r||j()),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var i=g(t),o=1;function s(){i((e,...t)=>{!1!==e&&(e&&o++<n.times&&("function"!=typeof n.errorFilter||n.errorFilter(e))?setTimeout(s,n.intervalFunc(o-1)):r(e,...t))})}return s(),r[B]}function Ke(e,t){if("object"==typeof t)e.times=+t.times||5,e.intervalFunc="function"==typeof t.interval?t.interval:Xe(+t.interval||0),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||5}}function $e(e,t){t||(t=e,e=null);let r=e&&e.arity||t.length;h(t)&&(r+=1);var n=g(t);return i((t,i)=>{function o(e){n(...t,e)}return(t.length<r-1||null==i)&&(t.push(i),i=j()),e?Ze(e,o,i):Ze(o,i),i[B]})}function et(e,t){return ke(x,e,t)}var tt=m((function(e,t,r){return re(Boolean,e=>e)(O,e,t,r)}),3);var rt=m((function(e,t,r,n){return re(Boolean,e=>e)(T(t),e,r,n)}),4);var nt=m((function(e,t,r){return re(Boolean,e=>e)(x,e,t,r)}),3);var it=m((function(e,t,r){var n=g(t);return R(e,(e,t)=>{n(e,(r,n)=>{if(r)return t(r);t(r,{value:e,criteria:n})})},(e,t)=>{if(e)return r(e);r(null,t.sort(i).map(e=>e.value))});function i(e,t){var r=e.criteria,n=t.criteria;return r<n?-1:r>n?1:0}}),3);function ot(e,t,r){var n=g(e);return i((i,o)=>{var s,a=!1;i.push((...e)=>{a||(o(...e),clearTimeout(s))}),s=setTimeout((function(){var t=e.name||"anonymous",n=new Error('Callback function "'+t+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),a=!0,o(n)}),t),n(...i)})}function st(e,t,r,n){var i=g(r);return Z(function(e){for(var t=Array(e);e--;)t[e]=e;return t}(e),t,i,n)}function at(e,t,r){return st(e,1/0,t,r)}function ct(e,t,r){return st(e,1,t,r)}function ut(e,t,r,n){arguments.length<=3&&"function"==typeof t&&(n=r,r=t,t=Array.isArray(e)?[]:{}),n=w(n||j());var i=g(r);return O(e,(e,r,n)=>{i(t,e,r,n)},e=>n(e,t)),n[B]}var lt=m((function(e,t){var r,n=null;return de(e,(e,t)=>{g(e)((e,...i)=>{if(!1===e)return t(e);i.length<2?[r]=i:r=i,n=e,t(e?null:{})})},()=>t(n,r))}));function ft(e){return(...t)=>(e.unmemoized||e)(...t)}var pt=m((function(e,t,r){r=A(r);var n=g(t),i=g(e),o=[];function s(e,...t){if(e)return r(e);o=t,!1!==e&&i(a)}function a(e,t){return e?r(e):!1!==e?t?void n(s):r(null,...o):void 0}return i(a)}),3);function dt(e,t,r){const n=g(e);return pt(e=>n((t,r)=>e(t,!r)),t,r)}var ht=m((function(e,t){if(t=w(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;function n(t){g(e[r++])(...t,A(i))}function i(i,...o){if(!1!==i)return i||r===e.length?t(i,...o):void n(o)}n([])})),gt={apply:n,applyEach:M,applyEachSeries:k,asyncify:f,auto:P,autoInject:Q,cargo:z,cargoQueue:H,compose:X,concat:$,concatLimit:K,concatSeries:ee,constant:te,detect:ne,detectLimit:ie,detectSeries:oe,dir:ae,doUntil:ue,doWhilst:ce,each:fe,eachLimit:pe,eachOf:O,eachOfLimit:S,eachOfSeries:x,eachSeries:de,ensureAsync:he,every:ge,everyLimit:me,everySeries:ye,filter:we,filterLimit:_e,filterSeries:Ae,forever:Ce,groupBy:Se,groupByLimit:Te,groupBySeries:Ie,log:Ne,map:R,mapLimit:Z,mapSeries:D,mapValues:Re,mapValuesLimit:Oe,mapValuesSeries:Me,memoize:xe,nextTick:De,parallel:Be,parallelLimit:je,priorityQueue:Ve,queue:Pe,race:Qe,reduce:q,reduceRight:Ge,reflect:We,reflectAll:Ye,reject:He,rejectLimit:qe,rejectSeries:Je,retry:Ze,retryable:$e,seq:J,series:et,setImmediate:l,some:tt,someLimit:rt,someSeries:nt,sortBy:it,timeout:ot,times:at,timesLimit:st,timesSeries:ct,transform:ut,tryEach:lt,unmemoize:ft,until:dt,waterfall:ht,whilst:pt,all:ge,allLimit:me,allSeries:ye,any:tt,anyLimit:rt,anySeries:nt,find:ne,findLimit:ie,findSeries:oe,flatMap:$,flatMapLimit:K,flatMapSeries:ee,forEach:fe,forEachSeries:de,forEachLimit:pe,forEachOf:O,forEachOfSeries:x,forEachOfLimit:S,inject:q,foldl:q,foldr:Ge,select:we,selectLimit:_e,selectSeries:Ae,wrapSync:f,during:pt,doDuring:ce};t.default=gt},function(e,t){e.exports=require("http")},function(e,t,r){"use strict";const n=r(9).EventEmitter,i=r(0).child({component:"base_aggregator"});e.exports=class extends n{constructor(e,t){super(),this.defaultPeriod=this.periodMs=e.periodMs,this.defaultLimit=this.limit=e.limit,this.runId=e.runId,this.isAsync=e.isAsync||!1,this.method=e.method,this.collector=t,this.sendTimer=null}start(){i.trace(this.method+" aggregator started."),this.sendTimer||(this.sendTimer=setInterval(this.send.bind(this),this.periodMs),this.sendTimer.unref())}stop(){this.sendTimer&&(clearInterval(this.sendTimer),this.sendTimer=null,i.trace(this.method+" aggregator stopped."))}_merge(){throw new Error("merge is not implemented")}add(){throw new Error("add is not implemented")}_toPayload(e){try{e(null,this._toPayloadSync())}catch(t){e(t)}}_toPayloadSync(){throw new Error("toPayloadSync is not implemented")}_getMergeData(){throw new Error("getData is not implemented")}clear(){throw new Error("clear not implemented")}_afterSend(){}_runSend(e,t){if(!t)return this._afterSend(!1),void this.emit(`finished ${this.method} data send.`);this.collector[this.method](t,(t,r)=>{r&&r.retainData&&this._merge(e),this._afterSend(!0),this.emit(`finished ${this.method} data send.`)})}send(){i.debug(this.method+" Aggregator data send."),this.emit(`starting ${this.method} data send.`);const e=this._getMergeData();this.isAsync?this._toPayload((t,r)=>{this._runSend(e,r)}):this._runSend(e,this._toPayloadSync()),this.clear()}reconfigure(e){this.runId=e.run_id}}},function(e,t,r){"use strict";e.exports=f;var n=r(28);((f.prototype=Object.create(n.prototype)).constructor=f).className="Namespace";var i,o,s,a=r(20),c=r(38),u=r(4);function l(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function f(e,t){n.call(this,e,t),this.nested=void 0,this._nestedArray=null}function p(e){return e._nestedArray=null,e}f.fromJSON=function(e,t){return new f(e,t.options).addJSON(t.nested)},f.arrayToJSON=l,f.isReservedId=function(e,t){if(e)for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0;return!1},f.isReservedName=function(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(f.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=u.toArray(this.nested))}}),f.prototype.toJSON=function(e){return u.toObject(["options",this.options,"nested",l(this.nestedArray,e)])},f.prototype.addJSON=function(e){if(e)for(var t,r=Object.keys(e),n=0;n<r.length;++n)t=e[r[n]],this.add((void 0!==t.fields?i.fromJSON:void 0!==t.values?s.fromJSON:void 0!==t.methods?o.fromJSON:void 0!==t.id?a.fromJSON:f.fromJSON)(r[n],t));return this},f.prototype.get=function(e){return this.nested&&this.nested[e]||null},f.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof s)return this.nested[e].values;throw Error("no such enum: "+e)},f.prototype.add=function(e){if(!(e instanceof a&&void 0!==e.extend||e instanceof i||e instanceof s||e instanceof o||e instanceof f||e instanceof c))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof f&&e instanceof f)||t instanceof i||t instanceof o)throw Error("duplicate name '"+e.name+"' in "+this);for(var r=t.nestedArray,n=0;n<r.length;++n)e.add(r[n]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),p(this)},f.prototype.remove=function(e){if(!(e instanceof n))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),p(this)},f.prototype.define=function(e,t){if(u.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof f))throw Error("path conflicts with non-namespace objects")}else r.add(r=new f(n))}return t&&r.addJSON(t),r},f.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof f?e[t++].resolveAll():e[t++].resolve();return this.resolve()},f.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),u.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof f&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof f&&(n=this._nestedArray[i].lookup(e,t,!0)))return n;return null===this.parent||r?null:this.parent.lookup(e,t)},f.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},f.prototype.lookupEnum=function(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},f.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,s]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},f.prototype.lookupService=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},f._configure=function(e,t,r){i=e,o=t,s=r}},function(e,t,r){"use strict";e.exports=s;var n=r(28);((s.prototype=Object.create(n.prototype)).constructor=s).className="OneOf";var i=r(20),o=r(4);function s(e,t,r,i){if(Array.isArray(t)||(r=t,t=void 0),n.call(this,e,r),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function a(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}s.fromJSON=function(e,t){return new s(e,t.oneof,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},s.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,a(this),this},s.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},s.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var r=e.get(this.oneof[t]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}a(this)},s.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},s.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){o.decorateType(t.constructor).add(new s(r,e)),Object.defineProperty(t,r,{get:o.oneOfGetter(e),set:o.oneOfSetter(e)})}}},function(e,t,r){e.exports=r(323)()},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("tty")},function(e,t,r){"use strict";const n=r(36),i=r(0).child({component:"event_aggregator"}),o=r(215);e.exports=class extends n{constructor(e,t,r){super(e,t),this._items=new o(e.limit),this._metricNames=e.metricNames,this._metrics=r}get seen(){return this._items.seen}get length(){return this._items.length}get overflow(){return this._items.overflow()}get events(){return this._items}_merge(){return this.mergeEvents.apply(this,arguments)}add(){this._metrics.getOrCreateMetric(this._metricNames.SEEN).incrementCallCount();const e=this.addEvent.apply(this,arguments);return e&&0===this._items.overflow()?this._metrics.getOrCreateMetric(this._metricNames.SENT).incrementCallCount():this._metrics.getOrCreateMetric(this._metricNames.DROPPED).incrementCallCount(),e}_getMergeData(){return this._items}clear(){return this.clearEvents.apply(this,arguments)}getQueue(){return this._items}getEvents(){return this._items.toArray()}clearEvents(){this._items=new o(this._items.limit)}reconfigure(e){super.reconfigure(e);const t=e.getAggregatorConfig(this.method);t?(this.periodMs=t.periodMs,this.limit=t.limit,this._items.setLimit(this.limit)):(this.periodMs=this.defaultPeriod,this.limit=this.defaultLimit)}addEvent(e,t){return this._items.add(e,t)}mergeEvents(e){if(!e)return;const t=Math.min(e.length,this.limit-this.length);i.warn("Merging %d of %d events into %s for next harvest",t,e.length,this.constructor.name);const r=e.length,n=t,o=r-n;this._metrics.getOrCreateMetric(this._metricNames.SEEN).incrementCallCount(r),this._metrics.getOrCreateMetric(this._metricNames.SENT).incrementCallCount(n),o>0&&this._metrics.getOrCreateMetric(this._metricNames.DROPPED).incrementCallCount(o),this._items.merge(e)}}},,function(e,t,r){"use strict";var n=r(5).hasOwn;t.shallow=function(e,t){for(var r in t=t||Object.create(null),e)n(e,r)&&(t[r]=e[r]);return t}},function(e,t,r){"use strict";var n=r(16).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},f=t._readableState&&t._readableState.endEmitted,p=function(){s=!1,f=!0,a||o.call(t)},d=function(e){o.call(t,e)},h=function(){var e;return s&&!f?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},g=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",h),t.req?g():t.on("request",g)),t.on("end",p),t.on("finish",l),!1!==r.error&&t.on("error",d),t.on("close",h),function(){t.removeListener("complete",l),t.removeListener("abort",h),t.removeListener("request",g),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",p),t.removeListener("error",d),t.removeListener("close",h)}}},function(e,t,r){"use strict";const n={SHUTDOWN:Symbol("Shutdown"),PRESERVE:Symbol("Preserve"),RESTART:Symbol("Restart")};class i{constructor(e,t,r,n){this.retainData=e,this.retryAfter=t,this.agentRun=r,this.payload=n}static get AGENT_RUN_BEHAVIOR(){return n}static success(e){return new i(!1,0,n.PRESERVE,e)}static discard(e){return this.success(e)}static error(e){return new i(!0,0,n.PRESERVE,e)}static fatal(e){return new i(!1,0,n.SHUTDOWN,e)}static retry(e,t){return new i(!0,e,n.PRESERVE,t)}static reconnect(e,t){return new i(!1,e,n.RESTART,t)}shouldPreserveRun(){return this.agentRun===n.PRESERVE}shouldShutdownRun(){return this.agentRun===n.SHUTDOWN}shouldRestartRun(){return this.agentRun===n.RESTART}}e.exports=i},function(e,t,r){"use strict";var n=r(147),i=null;function o(){i||(i=r(0).child({component:"util-process-version"})),i.warn.apply(i,arguments)}t.satisfies=function(e){try{return n.satisfies(process.version,e)}catch(e){return o(e,"Bad process version for satisfies check."),!1}},t.prerelease=function(){try{return n.prerelease(process.version)}catch(e){return o(e,"Bad process version for prelease check."),!1}}},function(e,t,r){"use strict";(function(t){var n=r(8),i=r(21).fs,o=r(0).child({component:"shimmer"}),s=r(156)(),a=r(5),c=r(84),u=c.constants.MODULE_TYPE,l={child_process:{type:u.GENERIC,file:"child_process.js"},crypto:{type:u.GENERIC,file:"crypto.js"},dns:{type:u.GENERIC,file:"dns.js"},fs:{type:u.GENERIC,file:"fs.js"},http:{type:u.TRANSACTION,file:"http.js"},https:{type:u.TRANSACTION,file:"http.js"},inspector:{type:u.GENERIC,file:"inspector.js"},net:{type:u.GENERIC,file:"net.js"},timers:{type:u.GENERIC,file:"timers.js"},zlib:{type:u.GENERIC,file:"zlib.js"}};var f=[];function p(e,t,r){e.debug&&(t.enableDebug(),f.push(t),f.push({__NR_unwrap:function(){delete r.__NR_instrumented_errored,delete r.__NR_instrumented,delete r.__NR_shim}}),r.__NR_shim=t)}function d(e,t,s,a,c){var u=n.resolve(t);if(!i.existsSync(t))return o.warn("Tried to load instrumentation from %s, but file does not exist",u);try{return r(54)(t)(e,a,c,s)}catch(e){o.warn(e,"Failed to instrument module %s using %s",n.basename(t,".js"),u)}}function h(e,t,r,n){var i;return i=g.getInstrumentationNameFromModuleName(r),g.registeredInstrumentations[i]?(o.trace("Instrumenting %s.",r),function(e,t,r,n){var i=g.registeredInstrumentations[r];if(a.hasOwn(t,"__NR_instrumented")||a.hasOwn(t,"__NR_instrumented_errored"))return o.trace("Already instrumented or failed to instrument %s, skipping redundant instrumentation",r),t;var s=c.createShimFromType(i.type,e,r,n);p(g,s,t);try{!1!==i.onRequire(s,t,r)&&((t=s.getExport(t)).__NR_instrumented=!0)}catch(e){if(t.__NR_instrumented_errored=!0,i.onError)try{i.onError(e)}catch(t){o.warn(t,e,"Custom instrumentation for %s failed, then the onError handler threw an error",r)}else o.warn(e,"Custom instrumentation for %s failed. Please report this to the maintainers of the custom instrumentation.",r)}return t}(e,t,i,n)):t}var g=e.exports={debug:!1,isWrapped:function(e){return!(!e||!e.__NR_original)},wrapMethod:function(e,t,r,n){if(!r)return o.warn(new Error,"Must include a method name to wrap. Called from:");t||(t="[unknown]"),Array.isArray(r)||(r=[r]),r.forEach((function(r){var i=t+"."+r;if(!e)return o.debug("Can't wrap %s from nonexistent object.",i);if(!n)return o.debug("Can't wrap %s without a wrapper generator.",i);var s=e[r];if(!s)return o.trace("%s not defined, so not wrapping.",i);if(s.__NR_unwrap)return o.debug("%s already wrapped by agent.",i);var a=n(s,r);Object.keys(s).forEach(e=>{a[e]=s[e]}),a.__NR_original=s,a.__NR_unwrap=function(){e[r]=s,o.trace("Removed instrumentation from %s.",i)},e[r]=a,g.debug&&f.push(a),o.trace("Instrumented %s.",i)}))},wrapDeprecated:function(e,t,r,n){if(r){t||(t="[unknown]");var i=t+"."+r;if(e){var s=e[r];if(s){delete e[r];var a={configurable:!0,enumerable:!0};return n.get&&(a.get=n.get),n.set&&(a.set=n.set),Object.defineProperty(e,r,a),o.trace("Instrumented %s.",i),g.debug&&f.push({__NR_unwrap:function(){delete e[r],e[r]=s}}),s}o.trace("%s not defined, so not wrapping.",i)}else o.debug("Can't wrap %s from nonexistent object.",i)}else o.warn(new Error,"Must include a function name to wrap. Called from:")},unwrapMethod:function(e,t,r){if(t||(t="[unknown]"),!r)return o.debug("Must include a method name to unwrap. Called from: %s",(new Error).stack);var n=t+"."+r;if(!e)return o.debug("Can't unwrap %s from nonexistent object.",n);var i=e[r],s=f.indexOf(i);return-1!==s&&f.splice(s,1),i?i.__NR_unwrap?void i.__NR_unwrap():o.debug("%s isn't unwrappable.",n):o.debug("%s not defined, so not unwrapping.",n)},unwrapAll:function(){f.forEach((function(e){e.__NR_unwrap()})),f=[]},patchModule:function(e){o.trace("Wrapping module loader.");var t=r(95),n={};function i(e,r,i){const s=n[e];return!s&&r&&r.loaded?(o.warnOnce("Force Resolution","Unable to retrieve cached path for one or more modules with an already loaded parent. Forcing resolution. This should not occur during normal agent execution. Module resolution performance my be impacted. See trace-level logs for specific modules."),o.traceEnabled()&&o.trace(`No cached path found for ${e}. Forcing resolution.`),t._resolveFilename(e,r,i)):s}g.wrapMethod(t,"Module","_resolveFilename",(function(e){return function(t){const r=e.apply(this,arguments);return n[t]=r,r}})),g.wrapMethod(t,"Module","_load",(function(t){return function(r,n,o){const s=t.apply(this,arguments),a=i(r,n,o);return h(e,s,r,a)}}))},unpatchModule:function(){o.trace("Unwrapping to previous module loader.");var e=r(95);g.unwrapMethod(e,"Module","_resolveFilename"),g.unwrapMethod(e,"Module","_load")},bootstrapInstrumentation:function(e){const i=new c.Shim(e,"globals","globals");p(g,i,global);var a=n.join(t,"instrumentation","core","globals.js");d(e,a,i,global,"globals"),Object.keys(l).forEach((function(i){const s=l[i],a=n.join(t,"instrumentation","core",s.file);let u=null;try{u=r(54)(i)}catch(e){o.trace("Could not load core module %s got error %s",i,e)}const f=c.createShimFromType(s.type,e,i,i);p(g,f,s),d(e,a,f,u,i)})),Object.keys(s).forEach((function(i){var a=s[i];if(a.module)try{r(175)(a.module+"/nr-hooks").forEach(g.registerInstrumentation)}catch(e){return void o.warn("Failed to load instrumentation for "+a.module,e)}else if("amqplib"===i)r(176).selfRegister(g);else{var c=n.join(t,"instrumentation",i+".js");g.registerInstrumentation({moduleName:i,type:a.type,onRequire:d.bind(null,e,c)})}}));var u=n.join(t,"instrumentation/core/domain.js");g.registerInstrumentation({moduleName:"domain",type:null,onRequire:d.bind(null,e,u)})},registerInstrumentation:function(e){g.registeredInstrumentations[e.moduleName]=e},registeredInstrumentations:Object.create(null),reinstrument:function(e,t){return h(e,r(54)(t),t)},getInstrumentationNameFromModuleName:e=>("pg.js"===e&&"pg","mysql2"===e?"mysql":e)}}).call(this,"/")},function(e,t,r){"use strict";e.exports={isExpected:function(e,t,r,n,i){let o=!1;return r&&i.isExpectedError(n,r.statusCode)&&(o=!0),this.isExpectedErrorMessage(n,e,t)||this.isExpectedErrorClass(n,e)||o},isExpectedErrorMessage:function(e,t,r){return!!e.error_collector.expected_messages[t]&&(e.error_collector.expected_messages[t].length>0&&-1!==e.error_collector.expected_messages[t].indexOf(r))},isExpectedErrorClass:function(e,t){return e.error_collector.expected_classes.length>0&&-1!==e.error_collector.expected_classes.indexOf(t)},isExpectedException:function(e,t,r,n){let{type:i,message:o}=this.extractErrorInformation(e,t,r,n);return this.isExpectedErrorClass(r,i)||this.isExpectedErrorMessage(r,i,o)},extractErrorInformation:function(e,t,r,n){let i="Unknown",o="",s="Error";if("string"==typeof t?o=t:null===t||"object"!=typeof t||!t.message||r.high_security||r.strip_exception_messages.enabled?e&&e.statusCode&&n.isError(r,e.statusCode)&&(o="HttpError "+e.statusCode):(o=t.message,t.name?s=t.name:t.constructor&&t.constructor.name&&(s=t.constructor.name)),e){const t=e.getFullName();t&&(i=t)}return{name:i,message:o,type:s}},shouldIgnoreError:function(e,t,r){let n=this.extractErrorInformation(null,t,r,null);return this.shouldIgnoreErrorClass(n,r)||this.shouldIgnoreErrorMessage(n,r)||this.shouldIgnoreStatusCode(e,r)},shouldIgnoreStatusCode:function(e,t){return!!e&&-1!==t.error_collector.ignore_status_codes.indexOf(e.statusCode)},shouldIgnoreErrorClass:function(e,t){return!(t.error_collector.ignore_classes.length<1)&&-1!==t.error_collector.ignore_classes.indexOf(e.type)},shouldIgnoreErrorMessage:function(e,t){let r=t.error_collector.ignore_messages[e.type];return!!r&&(r.length>0&&-1!==r.indexOf(e.message))}}},function(e,t,r){"use strict";function n(e){return 1e3*e[0]+e[1]/1e6}function i(){this.state=1,this.touched=!1,this.hrDuration=null,this.hrstart=null,this.start=null,this.durationInMillis=null}i.prototype.begin=function(){this.state>1||(this.start=Date.now(),this.hrstart=process.hrtime(),this.state=2)},i.prototype.end=function(){this.state>2||(1===this.state&&this.begin(),this.hrDuration=process.hrtime(this.hrstart),this.touched=!0,this.state=3)},i.prototype.touch=function(){this.touched=!0,this.state>2||(1===this.state&&this.begin(),this.hrDuration=process.hrtime(this.hrstart))},i.prototype.softEnd=function(){return!(this.state>2)&&(1===this.state&&this.begin(),this.state=3,!this.touched&&(this.hrDuration=process.hrtime(this.hrstart),this.touched=!0,!0))},i.prototype.isRunning=function(){return 2===this.state},i.prototype.isActive=function(){return this.state<3},i.prototype.hasEnd=function(){return!!this.hrDuration},i.prototype.overwriteDurationInMillis=function(e){this.touched=!0,this.durationInMillis=e,this.state=3},i.prototype.setDurationInMillis=function(e,t){this.state>2||(1!==this.state||t||0===t||this.begin(),this.state=3,this.durationInMillis=e,this.hrstart=[Math.floor(t/1e3),t%1e3*1e6],null!=t&&(this.start=t))},i.prototype.getDurationInMillis=function(){return 1===this.state?0:null!==this.durationInMillis&&this.durationInMillis>=0?this.durationInMillis:this.hrDuration?n(this.hrDuration):n(process.hrtime(this.hrstart))},i.prototype.toRange=function(){return[this.start,this.start+this.getDurationInMillis()]},i.prototype.startedRelativeTo=function(e){return this.hrstart&&e.hrstart?n([this.hrstart[0]-e.hrstart[0],this.hrstart[1]-e.hrstart[1]]):this.start-e.start},i.prototype.endsAfter=function(e){return this.getDurationInMillis()+this.start>e.getDurationInMillis()+e.start},e.exports=i},function(e,t,r){"use strict";const n=r(17),i=r(0).child({component:"attributes"}),o=r(53),s=r(33),a=r(5);e.exports={Attributes:class{constructor(e,t=1/0){this.filter=function(e){const{attributeFilter:t}=n.getInstance();if("transaction"===e)return(e,r)=>t.filterTransaction(e,r);if("segment"===e)return(e,r)=>t.filterSegment(e,r)}(e),this.limit=t,this.attributes=Object.create(null),this.attributeCount=0}isValidLength(e){return"number"==typeof e||s.isValidLength(e,255)}_set(e,t,r,n){this.attributes[t]={value:r,destinations:e,truncateExempt:n}}get(e){const t=Object.create(null);for(let r in this.attributes){const n=this.attributes[r];n.destinations&e&&(t[r]="string"!=typeof n.value||n.truncateExempt?n.value:s.truncate(n.value,255))}return t}has(e){return!!this.attributes[e]}reset(){this.attributes=Object.create(null)}addAttribute(e,t,r,n=!1){if(this.attributeCount+1>this.limit)return i.debug(`Maximum number of custom attributes have been added.\n        Dropping attribute ${t} with ${r} type.`);if(!o(r))return i.debug("Not adding attribute %s with %s value type. This is expected for undefinedattributes and only an issue if an attribute is not expected to be undefinedor not of the type expected.",t,typeof r);if(!this.isValidLength(t))return i.warn("Length limit exceeded for attribute name, not adding: %s",t);const s=this.filter(e,t);s&&(this.attributeCount=this.attributeCount+1,this._set(s,t,r,n))}addAttributes(e,t){for(let r in t)a.hasOwn(t,r)&&this.addAttribute(e,r,t[r])}hasValidDestination(e,t){return!!this.filter(e,t)}},MAXIMUM_CUSTOM_ATTRIBUTES:64}},function(e,t,r){"use strict";const n=new Set(["string","number","boolean"]);e.exports=function(e){return n.has(typeof e)}},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=54},function(e,t){e.exports=require("net")},function(e,t){e.exports=require("assert")},function(e,t,r){"use strict";e.exports=f;var n,i=r(14),o=i.LongBits,s=i.base64,a=i.utf8;function c(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}var p=function(){return i.Buffer?function(){return(f.create=function(){return new n})()}:function(){return new f}};function d(e,t,r){t[r]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function m(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}f.create=p(),f.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(f.alloc=i.pool(f.alloc,i.Array.prototype.subarray)),f.prototype._push=function(e,t,r){return this.tail=this.tail.next=new c(e,t,r),this.len+=t,this},h.prototype=Object.create(c.prototype),h.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(g,10,o.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var t=o.from(e);return this._push(g,t.length(),t)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(g,t.length(),t)},f.prototype.bool=function(e){return this._push(d,1,e?1:0)},f.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var t=o.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var y=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};f.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(i.isString(e)){var r=f.alloc(t=s.length(e));s.decode(e,r,0),e=r}return this.uint32(t)._push(y,t,e)},f.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(d,1,0)},f.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(u,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},f._configure=function(e){n=e,f.create=p(),n._configure()}},function(e,t,r){"use strict";e.exports=c;var n,i=r(14),o=i.LongBits,s=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var u,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},f=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l};function p(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw a(this,8);return new o(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}c.create=f(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return u}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return d(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|d(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},c.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){n=e,c.create=f(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return p.call(this)[t](!1)},uint64:function(){return p.call(this)[t](!0)},sint64:function(){return p.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},function(e,t,r){"use strict";e.exports=v;var n=r(37);((v.prototype=Object.create(n.prototype)).constructor=v).className="Type";var i=r(12),o=r(38),s=r(20),a=r(60),c=r(61),u=r(63),l=r(58),f=r(57),p=r(4),d=r(111),h=r(112),g=r(113),m=r(114),y=r(115);function v(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(v.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=p.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=p.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=v.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof u||((e.prototype=new u).constructor=e,p.merge(e.prototype,t)),e.$type=e.prototype.$type=this,p.merge(e,u,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:p.oneOfGetter(this._oneofsArray[r].oneof),set:p.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),v.generateConstructor=function(e){for(var t,r=p.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r("this%s={}",p.safeProp(t.name)):t.repeated&&r("this%s=[]",p.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},v.fromJSON=function(e,t){var r=new v(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var u=Object.keys(t.fields),l=0;l<u.length;++l)r.add((void 0!==t.fields[u[l]].keyType?a.fromJSON:s.fromJSON)(u[l],t.fields[u[l]]));if(t.oneofs)for(u=Object.keys(t.oneofs),l=0;l<u.length;++l)r.add(o.fromJSON(u[l],t.oneofs[u[l]]));if(t.nested)for(u=Object.keys(t.nested),l=0;l<u.length;++l){var f=t.nested[u[l]];r.add((void 0!==f.id?s.fromJSON:void 0!==f.fields?v.fromJSON:void 0!==f.values?i.fromJSON:void 0!==f.methods?c.fromJSON:n.fromJSON)(u[l],f))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},v.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return p.toObject(["options",t&&t.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},v.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return n.prototype.resolveAll.call(this)},v.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},v.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof s&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),b(this)}return e instanceof o?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),b(this)):n.prototype.add.call(this,e)},v.prototype.remove=function(e){if(e instanceof s&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),b(this)}if(e instanceof o){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),b(this)}return n.prototype.remove.call(this,e)},v.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},v.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},v.prototype.create=function(e){return new this.ctor(e)},v.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=d(this)({Writer:f,types:t,util:p}),this.decode=h(this)({Reader:l,types:t,util:p}),this.verify=g(this)({types:t,util:p}),this.fromObject=m.fromObject(this)({types:t,util:p}),this.toObject=m.toObject(this)({types:t,util:p});var n=y[e];if(n){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(i),i.toObject=this.toObject,this.toObject=n.toObject.bind(i)}return this},v.prototype.encode=function(e,t){return this.setup().encode(e,t)},v.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},v.prototype.decode=function(e,t){return this.setup().decode(e,t)},v.prototype.decodeDelimited=function(e){return e instanceof l||(e=l.create(e)),this.decode(e,e.uint32())},v.prototype.verify=function(e){return this.setup().verify(e)},v.prototype.fromObject=function(e){return this.setup().fromObject(e)},v.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},v.d=function(e){return function(t){p.decorateType(t,e)}}},function(e,t,r){"use strict";e.exports=s;var n=r(20);((s.prototype=Object.create(n.prototype)).constructor=s).className="MapField";var i=r(29),o=r(4);function s(e,t,r,i,s,a){if(n.call(this,e,t,i,void 0,void 0,s,a),!o.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}s.fromJSON=function(e,t){return new s(e,t.id,t.keyType,t.type,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},s.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},s.d=function(e,t,r){return"function"==typeof r?r=o.decorateType(r).name:r&&"object"==typeof r&&(r=o.decorateEnum(r).name),function(n,i){o.decorateType(n.constructor).add(new s(i,e,t,r))}}},function(e,t,r){"use strict";e.exports=a;var n=r(37);((a.prototype=Object.create(n.prototype)).constructor=a).className="Service";var i=r(62),o=r(4),s=r(109);function a(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}a.fromJSON=function(e,t){var r=new a(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),o=0;o<n.length;++o)r.add(i.fromJSON(n[o],t.methods[n[o]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},a.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return o.toObject(["options",t&&t.options||void 0,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=o.toArray(this.methods))}}),a.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},a.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return n.prototype.resolve.call(this)},a.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,c(this)):n.prototype.add.call(this,e)},a.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,c(this)}return n.prototype.remove.call(this,e)},a.prototype.create=function(e,t,r){for(var n,i=new s.Service(e,t,r),a=0;a<this.methodsArray.length;++a){var c=o.lcFirst((n=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");i[c]=o.codegen(["r","c"],o.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return i}},function(e,t,r){"use strict";e.exports=o;var n=r(28);((o.prototype=Object.create(n.prototype)).constructor=o).className="Method";var i=r(4);function o(e,t,r,o,s,a,c,u,l){if(i.isObject(s)?(c=s,s=a=void 0):i.isObject(a)&&(c=a,a=void 0),void 0!==t&&!i.isString(t))throw TypeError("type must be a string");if(!i.isString(r))throw TypeError("requestType must be a string");if(!i.isString(o))throw TypeError("responseType must be a string");n.call(this,e,c),this.type=t||"rpc",this.requestType=r,this.requestStream=!!s||void 0,this.responseType=o,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=u,this.parsedOptions=l}o.fromJSON=function(e,t){return new o(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},o.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},function(e,t,r){"use strict";e.exports=i;var n=r(14);function i(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},function(e,t,r){"use strict";e.exports=f;var n=r(37);((f.prototype=Object.create(n.prototype)).constructor=f).className="Root";var i,o,s,a=r(20),c=r(12),u=r(38),l=r(4);function f(e){n.call(this,"",e),this.deferred=[],this.files=[]}function p(){}f.fromJSON=function(e,t){return t||(t=new f),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},f.prototype.resolvePath=l.path.resolve,f.prototype.fetch=l.fetch,f.prototype.load=function e(t,r,n){"function"==typeof r&&(n=r,r=void 0);var i=this;if(!n)return l.asPromise(e,i,t,r);var a=n===p;function c(e,t){if(n){var r=n;if(n=null,a)throw e;r(e,t)}}function u(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in s)return r}return null}function f(e,t){try{if(l.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),l.isString(t)){o.filename=e;var n,s=o(t,i,r),f=0;if(s.imports)for(;f<s.imports.length;++f)(n=u(s.imports[f])||i.resolvePath(e,s.imports[f]))&&d(n);if(s.weakImports)for(f=0;f<s.weakImports.length;++f)(n=u(s.weakImports[f])||i.resolvePath(e,s.weakImports[f]))&&d(n,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(e){c(e)}a||h||c(null,i)}function d(e,t){if(!(i.files.indexOf(e)>-1))if(i.files.push(e),e in s)a?f(e,s[e]):(++h,setTimeout((function(){--h,f(e,s[e])})));else if(a){var r;try{r=l.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||c(e))}f(e,r)}else++h,i.fetch(e,(function(r,o){--h,n&&(r?t?h||c(null,i):c(r):f(e,o))}))}var h=0;l.isString(t)&&(t=[t]);for(var g,m=0;m<t.length;++m)(g=i.resolvePath("",t[m]))&&d(g);if(a)return i;h||c(null,i)},f.prototype.loadSync=function(e,t){if(!l.isNode)throw Error("not supported");return this.load(e,t,p)},f.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return n.prototype.resolveAll.call(this)};var d=/^[A-Z]/;function h(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new a(t.fullName,t.id,t.type,t.rule,void 0,t.options);return n.declaringField=t,t.extensionField=n,r.add(n),!0}return!1}f.prototype._handleAdd=function(e){if(e instanceof a)void 0===e.extend||e.extensionField||h(0,e)||this.deferred.push(e);else if(e instanceof c)d.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof u)){if(e instanceof i)for(var t=0;t<this.deferred.length;)h(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);d.test(e.name)&&(e.parent[e.name]=e)}},f.prototype._handleRemove=function(e){if(e instanceof a){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof c)d.test(e.name)&&delete e.parent[e.name];else if(e instanceof n){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);d.test(e.name)&&delete e.parent[e.name]}},f._configure=function(e,t,r){i=e,o=t,s=r}},function(e,t,r){"use strict";var n=r(7);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,r){"use strict";var n=r(126);e.exports=function(e,t,r,i,o){var s=new Error(e);return n(s,t,r,i,o)}},function(e,t,r){var n=r(325);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return a(o(e,t),t)},e.exports.tokensToFunction=a,e.exports.tokensToRegExp=p;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var r,n=[],o=0,s=0,a="",l=t&&t.delimiter||"/";null!=(r=i.exec(e));){var f=r[0],p=r[1],d=r.index;if(a+=e.slice(s,d),s=d+f.length,p)a+=p[1];else{var h=e[s],g=r[2],m=r[3],y=r[4],v=r[5],b=r[6],E=r[7];a&&(n.push(a),a="");var w=null!=g&&null!=h&&h!==g,_="+"===b||"*"===b,A="?"===b||"*"===b,C=r[2]||l,T=y||v;n.push({name:m||o++,prefix:g||"",delimiter:C,optional:A,repeat:_,partial:w,asterisk:!!E,pattern:T?u(T):E?".*":"[^"+c(C)+"]+?"})}}return s<e.length&&(a+=e.substr(s)),a&&n.push(a),n}function s(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function a(e,t){for(var r=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(r[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",a=t||{},c=(i||{}).pretty?s:encodeURIComponent,u=0;u<e.length;u++){var l=e[u];if("string"!=typeof l){var f,p=a[l.name];if(null==p){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(n(p)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<p.length;d++){if(f=c(p[d]),!r[u].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(p),!r[u].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function p(e,t,r){n(t)||(r=t||r,t=[]);for(var i=(r=r||{}).strict,o=!1!==r.end,s="",a=0;a<e.length;a++){var u=e[a];if("string"==typeof u)s+=c(u);else{var p=c(u.prefix),d="(?:"+u.pattern+")";t.push(u),u.repeat&&(d+="(?:"+p+d+")*"),s+=d=u.optional?u.partial?p+"("+d+")?":"(?:"+p+"("+d+"))?":p+"("+d+")"}}var h=c(r.delimiter||"/"),g=s.slice(-h.length)===h;return i||(s=(g?s.slice(0,-h.length):s)+"(?:"+h+"(?=$))?"),s+=o?"$":i&&g?"":"(?="+h+"|$)",l(new RegExp("^"+s,f(r)),t)}function d(e,t,r){return n(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?function(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):n(e)?function(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(d(e[i],t,r).source);return l(new RegExp("(?:"+n.join("|")+")",f(r)),t)}(e,t,r):function(e,t,r){return p(o(e,r),t,r)}(e,t,r)}},function(e,t,r){var n=r(40);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(69)).Stream=n||t,t.Readable=t,t.Writable=r(73),t.Duplex=r(24),t.Transform=r(75),t.PassThrough=r(144),t.finished=r(46),t.pipeline=r(145))},function(e,t,r){"use strict";var n;e.exports=C,C.ReadableState=A;r(9).EventEmitter;var i=function(e,t){return e.listeners(t).length},o=r(70),s=r(22).Buffer,a=global.Uint8Array||function(){};var c,u=r(3);c=u&&u.debuglog?u.debuglog("stream"):function(){};var l,f,p,d=r(138),h=r(71),g=r(72).getHighWaterMark,m=r(16).codes,y=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,b=m.ERR_METHOD_NOT_IMPLEMENTED,E=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(23)(C,o);var w=h.errorOrDestroy,_=["error","close","destroy","pause","resume"];function A(e,t,i){n=n||r(24),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(74).StringDecoder),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function C(e){if(n=n||r(24),!(this instanceof C))return new C(e);var t=this instanceof n;this._readableState=new A(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function T(e,t,r,n,i){c("readableAddChunk",t);var o,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?N(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,O(e)))}(e,u);else if(i||(o=function(e,t){var r;n=t,s.isBuffer(n)||n instanceof a||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(u,t)),o)w(e,o);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)u.endEmitted?w(e,new E):S(e,u,t,!0);else if(u.ended)w(e,new v);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?S(e,u,t,!1):R(e,u)):S(e,u,t,!1)}else n||(u.reading=!1,R(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function S(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&N(e)),R(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=h.destroy,C.prototype._undestroy=h.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),T(this,e,t,!1,r)},C.prototype.unshift=function(e){return T(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){l||(l=r(74).StringDecoder);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function N(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(O,e))}function O(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function R(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(M,e,t))}function M(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function x(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function D(e){c("readable nexttick read 0"),e.read(0)}function k(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function P(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(F,t,e))}function F(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function L(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}C.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?P(this):N(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&P(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(r,t))),null===(n=e>0?j(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&P(this)),null!==n&&this.emit("data",n),n},C.prototype._read=function(e){w(this,new b("_read()"))},C.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:g;function s(t,i){c("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("drain",u),e.removeListener("error",p),e.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",g),r.removeListener("data",f),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function a(){c("onend"),e.end()}n.endEmitted?process.nextTick(o):r.once("end",o),e.on("unpipe",s);var u=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,B(e))}}(r);e.on("drain",u);var l=!1;function f(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==L(n.pipes,e))&&!l&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function p(t){c("onerror",t),g(),e.removeListener("error",p),0===i(e,"error")&&w(e,t)}function d(){e.removeListener("finish",h),g()}function h(){c("onfinish"),e.removeListener("close",d),g()}function g(){c("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",p),e.once("close",d),e.once("finish",h),e.emit("pipe",r),n.flowing||(c("pipe resume"),r.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=L(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},C.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?N(this):n.reading||process.nextTick(D,this))),r},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(x,this),r},C.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(x,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(k,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<_.length;o++)e.on(_[o],this.emit.bind(this,_[o]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=r(142)),f(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=j,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(e,t){return void 0===p&&(p=r(143)),p(C,e,t)})},function(e,t,r){e.exports=r(40)},function(e,t,r){"use strict";function n(e,t){o(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(o,this,e)):process.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?process.nextTick(i,r):(r._writableState.errorEmitted=!0,process.nextTick(n,r,e)):process.nextTick(n,r,e):t?(process.nextTick(i,r),t(e)):process.nextTick(i,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},function(e,t,r){"use strict";var n=r(16).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,r){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=C,C.WritableState=A;var o={deprecate:r(140)},s=r(70),a=r(22).Buffer,c=global.Uint8Array||function(){};var u,l=r(71),f=r(72).getHighWaterMark,p=r(16).codes,d=p.ERR_INVALID_ARG_TYPE,h=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,m=p.ERR_STREAM_CANNOT_PIPE,y=p.ERR_STREAM_DESTROYED,v=p.ERR_STREAM_NULL_VALUES,b=p.ERR_STREAM_WRITE_AFTER_END,E=p.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;function _(){}function A(e,t,o){i=i||r(24),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(R,e,t),e._writableState.errorEmitted=!0,w(e,n)):(i(n),e._writableState.errorEmitted=!0,w(e,n),R(e,t))}(e,r,n,t,i);else{var o=N(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||I(e,r),n?process.nextTick(S,e,r,o,i):S(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function C(e){var t=this instanceof(i=i||r(24));if(!t&&!u.call(C,this))return new C(e);this._writableState=new A(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function T(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function S(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),R(e,t)}function I(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,T(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,f=r.callback;if(T(e,t,!1,t.objectMode?1:u.length,u,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function N(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function O(e,t){e._final((function(r){t.pendingcb--,r&&w(e,r),t.prefinished=!0,e.emit("prefinish"),R(e,t)}))}function R(e,t){var r=N(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(O,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(23)(C,s),A.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(A.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===C&&(e&&e._writableState instanceof A)}})):u=function(e){return e instanceof this},C.prototype.pipe=function(){w(this,new m)},C.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=e,a.isBuffer(n)||n instanceof c);return s&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=_),i.ending?function(e,t){var r=new b;w(e,r),process.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i;return null===r?i=new v:"string"==typeof r||t.objectMode||(i=new d("chunk",["string","Buffer"],r)),!i||(w(e,i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,c,n,i,o);return u}(this,i,s,e,t,r)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||I(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,r){r(new h("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,R(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=l.destroy,C.prototype._undestroy=l.undestroy,C.prototype._destroy=function(e,t){t(e)}},function(e,t,r){"use strict";var n=r(141).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=p,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";e.exports=l;var n=r(16).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(24);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?p(this,null,null):this._flush((function(t,r){p(e,t,r)}))}function p(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(23)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,r){"use strict";t.config=()=>({app_name:[],license_key:"",security_policies_token:"",host:"",port:443,ssl:!0,proxy:"",proxy_host:"",proxy_port:"",proxy_user:"",proxy_pass:"",trusted_account_key:null,primary_application_id:null,account_id:null,certificates:[],agent_enabled:!0,apdex_t:.1,allow_all_headers:!1,attributes:{enabled:!0,exclude:[],include:[],include_enabled:!0,filter_cache_limit:1e3},logging:{level:"info",filepath:r(8).join(process.cwd(),"newrelic_agent.log"),enabled:!0,diagnostics:!1},audit_log:{enabled:!1,endpoints:[]},error_collector:{attributes:{enabled:!0,exclude:[],include:[]},enabled:!0,ignore_status_codes:[404],capture_events:!0,max_event_samples_stored:100,expected_classes:[],expected_messages:{},expected_status_codes:[],ignore_classes:[],ignore_messages:{}},strip_exception_messages:{enabled:!1},utilization:{detect_aws:!0,detect_pcf:!0,detect_azure:!0,detect_docker:!0,detect_gcp:!0,detect_kubernetes:!0},transaction_tracer:{attributes:{enabled:!0,exclude:[],include:[]},enabled:!0,transaction_threshold:"apdex_f",top_n:20,record_sql:"off",explain_threshold:500,hide_internals:!0},rules:{name:[],ignore:["^/socket.io/.*/xhr-polling/"]},enforce_backstop:!0,browser_monitoring:{attributes:{enabled:!1,exclude:[],include:[]},enable:!0,debug:!1},api:{custom_attributes_enabled:!0,custom_events_enabled:!0,notice_error_enabled:!0},transaction_events:{attributes:{enabled:!0,exclude:[],include:[]},enabled:!0,max_samples_stored:1e4},custom_insights_events:{enabled:!0,max_samples_stored:1e3},process_host:{display_name:"",ipv_preference:"4"},high_security:!1,labels:{},slow_sql:{enabled:!1,max_samples:10},datastore_tracer:{instance_reporting:{enabled:!0},database_name_reporting:{enabled:!0}},span_events:{enabled:!0,attributes:{enabled:!0,exclude:[],include:[]}},transaction_segments:{attributes:{enabled:!0,exclude:[],include:[]}},distributed_tracing:{enabled:!1,exclude_newrelic_header:!1},cross_application_tracer:{enabled:!0},message_tracer:{segment_parameters:{enabled:!0}},infinite_tracing:{trace_observer:{host:"",port:"443"},span_events:{queue_size:1e4}},serverless_mode:{enabled:null!=process.env.AWS_LAMBDA_FUNCTION_NAME},plugins:{native_metrics:{enabled:!0}}})},function(e,t,r){"use strict";t.prerelease={express5:!1,await_support:!0,serverless_mode:!0,promise_segments:!1,reverse_naming_rules:!1,fastify_instrumentation:!1,certificate_bundle:!0,new_promise_tracking:!1},t.released=["released","cat","custom_instrumentation","custom_metrics","express_segments","native_metrics","protocol_17","send_request_uri_attribute","synthetics","dt_format_w3c"],t.unreleased=["unreleased"]},function(e,t,r){"use strict";(e.exports=function e(t,r,n,i){for(var o in(i=i||[]).push(n),n)i.indexOf(n[o])>-1||(n[o]instanceof Object?e(t,r+o+".",n[o],i):t[r+o]=n[o]);return t}).keys=function(e,t,r){var n=[],i=[];return function e(t,o){for(var s in i.push(o),o)-1===i.indexOf(o[s])&&(o[s]instanceof Object&&(r||!Array.isArray(o[s]))?e(t+s+".",o[s]):n.push(t+s))}(t||"",e),n}},function(e){e.exports=JSON.parse('{"_args":[["newrelic@7.5.2","/builds/dtci-bp-software-solutions/ui/dash"]],"_development":true,"_from":"newrelic@7.5.2","_id":"newrelic@7.5.2","_inBundle":false,"_integrity":"sha512-hCprBt1GWnZ4e0Ks3xjb9HfMR/Fhuqr7m5p6U2Q4r+v9q91WRJLuqrZbe19qJ75wDi3RTV8izvOEw/rzQ5jyLg==","_location":"/newrelic","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"newrelic@7.5.2","name":"newrelic","escapedName":"newrelic","rawSpec":"7.5.2","saveSpec":null,"fetchSpec":"7.5.2"},"_requiredBy":["#DEV:/"],"_resolved":"https://nexus.dtci.co/repository/npm-proxy-all/newrelic/-/newrelic-7.5.2.tgz","_spec":"7.5.2","_where":"/builds/dtci-bp-software-solutions/ui/dash","author":{"name":"New Relic Node.js agent team","email":"nodejs@newrelic.com"},"bin":{"newrelic-naming-rules":"bin/test-naming-rules.js"},"bugs":{"url":"https://github.com/newrelic/node-newrelic/issues"},"contributors":[{"name":"Saxon D\'Aubin","email":"saxon@newrelic.com","url":"http://newrelic.com"},{"name":"Forrest L Norvell","email":"forrest@newrelic.com","url":"http://newrelic.com/"},{"name":"Jacob Groundwater","email":"jacob@newrelic.com","url":"https://newrelic.com"},{"name":"Wraithan","email":"wmcdonald@newrelic.com","url":"Chris McDonald"},{"name":"Michael Hayes","email":"mhayes@newrelic.com","url":"https://newrelic.com"},{"name":"Bryan Clement","email":"bclement@newrelic.com","url":"https://newrelic.com"},{"name":"Jeff Olfert","email":"jolfert@newrelic.com","url":"https://newrelic.com"},{"name":"Wilson Bilkovich","email":"wbilkovich@newrelic.com","url":"https://newrelic.com"},{"name":"Jonathan Merrill","email":"jmerrill@newrelic.com","url":"https://newrelic.com"},{"name":"Martin Kuba","email":"mkuba@newrelic.com","url":"https://newrelic.com"},{"name":"Tim Krajcar","email":"tkrajcar@newrelic.com","url":"https://newrelic.com"},{"name":"Eric Wang","email":"ewang@newrelic.com","url":"https://newrelic.com"},{"name":"Natalie Wolfe","email":"nwolfe@newrelic.com","url":"https://newrelic.com"},{"name":"Seth Shober","email":"sshober@newrelic.com","url":"https://newrelic.com"},{"name":"Peter Svetlichny","email":"psvetlichny@newrelic.com","url":"https://newrelic.com"},{"name":"Michael Goin","email":"mgoin@newrelic.com","url":"https://newrelic.com"},{"name":"Alan Storm","email":"astorm@newrelic.com","url":"https://newrelic.com"},{"name":"Carlo Pearson","email":"cpearson@newrelic.com","url":"https://newrelic.com"},{"name":"Nick Tzaperas","email":"ntzaperas@newrelic.com","url":"https://newrelic.com"}],"dependencies":{"@grpc/grpc-js":"^1.2.11","@grpc/proto-loader":"^0.5.6","@newrelic/aws-sdk":"^3.1.0","@newrelic/koa":"^5.0.0","@newrelic/native-metrics":"^6.0.0","@newrelic/superagent":"^4.0.0","@tyriar/fibonacci-heap":"^2.0.7","async":"^3.2.0","concat-stream":"^2.0.0","https-proxy-agent":"^4.0.0","json-stringify-safe":"^5.0.0","readable-stream":"^3.6.0","semver":"^5.3.0"},"description":"New Relic agent","devDependencies":{"@newrelic/proxy":"^2.0.0","@newrelic/test-utilities":"^5.1.0","@octokit/rest":"^18.0.15","JSV":"~4.0.2","architect":"*","benchmark":"^2.1.4","bluebird":"^3.4.7","chai":"^4.1.2","commander":"^7.0.0","eslint":"^6.8.0","express":"*","fastify":"^2.15.3","generic-pool":"^3.6.1","glob":"^7.1.2","got":"^8.0.1","http-errors":"^1.7.3","husky":"^6.0.0","jsdoc":"^3.6.3","lint-staged":"^11.0.0","memcached":">=0.2.8","minami":"^1.1.1","mongodb":"^3.3.3","mysql":"*","nock":"11.8.0","proxyquire":"^1.8.0","q":"*","redis":"^1.0.0","request":"^2.88.0","restify":"^8.4.0","rimraf":"^2.6.3","should":"*","sinon":"^4.5.0","tap":"^14.10.8","temp":"^0.8.1","through":"^2.3.6","when":"*"},"directories":{"lib":"lib"},"engines":{"node":">=10.0.0","npm":">=3.0.0"},"files":["index.js","api.js","stub_api.js","newrelic.js","README.md","LICENSE","NEWS.md","THIRD_PARTY_NOTICES.md","lib/","bin/tracetractor","bin/test-naming-rules.js"],"homepage":"http://github.com/newrelic/node-newrelic","keywords":["apm","performance","monitoring","instrumentation","debugging","profiling"],"license":"Apache-2.0","name":"newrelic","optionalDependencies":{"@newrelic/native-metrics":"^6.0.0"},"repository":{"type":"git","url":"git+https://github.com/newrelic/node-newrelic.git"},"scripts":{"bench":"node ./bin/run-bench.js","ca-gen":"./bin/update-ca-bundle.sh","docker-env":"./bin/docker-env-vars.sh","docs":"npm ci && jsdoc -c ./jsdoc-conf.json --private -r .","integration":"npm run prepare-test && npm run sub-install && time tap --no-esm test/integration/**/**/*.tap.js --timeout=180 --no-coverage","lint":"eslint ./*.js lib test bin","prepare":"husky install","prepare-test":"npm run ca-gen && npm run ssl && npm run docker-env","public-docs":"npm ci && jsdoc -c ./jsdoc-conf.json --tutorials examples/shim api.js lib/shim/ lib/transaction/handle.js && cp examples/shim/*.png out/","publish-docs":"./bin/publish-docs.sh","services":"./bin/docker-services.sh","smoke":"npm run ssl && time tap test/smoke/**/**/*.tap.js --timeout=180 --no-coverage","ssl":"./bin/ssl.sh","sub-install":"node test/bin/install_sub_deps","test":"npm run integration && npm run unit","unit":"rm -f newrelic_agent.log && time tap --test-regex=\'(\\\\/|^test\\\\/unit\\\\/.*\\\\.test\\\\.js)$\' --timeout=180 --no-coverage","update-changelog-version":"node ./bin/update-changelog-version","update-cross-agent-tests":"./bin/update-cats.sh","versioned":"npm run prepare-test && time ./bin/run-versioned-tests.sh","versioned-tests":"./bin/run-versioned-tests.sh"},"version":"7.5.2"}')},function(e,t,r){"use strict";const n=r(3),i=r(0).child({component:"api"}),o=r(81),s=r(83),a=r(155),c=r(15),u=r(5),l=r(13),f=r(49),p=r(84),d=r(53),h=r(25),g=r(96),m=r(177),y=r(6).DESTINATIONS,v=r(31).MODULE_TYPE,b=r(2),E=["NREUM: no browser monitoring headers generated; disabled","NREUM: transaction missing or ignored while generating browser monitoring headers","NREUM: config.browser_monitoring missing, something is probably wrong","NREUM: browser_monitoring headers need a transaction name","NREUM: browser_monitoring requires valid application_id","NREUM: browser_monitoring requires valid browser_key","NREUM: browser_monitoring requires js_agent_loader script","NREUM: browser_monitoring disabled by browser_monitoring.loader config"],w=new Set(["nr_flatten_leading"]),_=/^[a-zA-Z0-9:_ ]+$/;function A(e){this.agent=e,this.shim=new h(e,"NewRelicAPI"),this.awsLambda=new m(e)}function C(e,t,r){const n=e.agent;if(t.waitForIdle&&n.activeTransactions)return t.waitForIdle=!1,void n.on("transactionFinished",(function(){0===n.activeTransactions&&setImmediate(C,e,t,r)}));function o(e){e&&i.error(e,"An error occurred while running last harvest before shutdown."),n.stop(r)}t.collectPendingData&&"started"!==n._state?("number"==typeof t.timeout?setTimeout((function(){n.stop(r)}),t.timeout).unref():t.timeout&&i.warn('options.timeout should be of type "number". Got %s',typeof t.timeout),n.on("started",(function(){n.forceHarvestAll(o)})),n.on("errored",(function(e){n.stop(r),e&&i.error(e,"The agent encountered an error after calling shutdown.")}))):t.collectPendingData?n.forceHarvestAll(o):n.stop(r)}function T(e,t){const r=Object.create(null);return Object.keys(e).forEach(n=>{d(e[n])?r[n]=e[n]:i.info(`Omitting attribute ${n} from ${t} call, type must be boolean, number, or string`)}),r}A.prototype.setTransactionName=function(e){this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/setTransactionName").incrementCallCount();var t=this.agent.tracer.getTransaction();if(!t)return i.warn("No transaction found when setting name to '%s'.",e);e?(i.trace("Setting transaction %s name to %s",t.id,e),t.forceName=b.CUSTOM+"/"+e):t&&t.url?i.error("Must include name in setTransactionName call for URL %s.",t.url):i.error("Must include name in setTransactionName call.")},A.prototype.getTransaction=function(){this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/getTransaction").incrementCallCount();var e=this.agent.tracer.getTransaction();return e?(e.handledExternally=!0,new g(e,this.agent.metrics)):(i.debug("No transaction found when calling API#getTransaction"),new g.Stub)},A.prototype.getLinkingMetadata=function(e){if(!0!==e){this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/getLinkingMetadata").incrementCallCount()}const t=this.agent,r=t.tracer.getSegment(),n=t.config,o={"entity.name":n.applications()[0],"entity.type":"SERVICE",hostname:n.getHostnameSafe()};if(n.distributed_tracing.enabled&&r){o["trace.id"]=r.transaction.traceId;const e=r.getSpanId();e&&(o["span.id"]=e)}else i.debug("getLinkingMetadata with no active transaction");return n.entity_guid&&(o["entity.guid"]=n.entity_guid),o},A.prototype.setDispatcher=function(e,t){this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/setDispatcher").incrementCallCount(),e&&"string"==typeof e?(t&&"object"!=typeof t?t=String(t):(i.info("setDispatcher was called with an object as the version parameter"),t=null),this.agent.environment.setDispatcher(e,t,!0)):i.error("setDispatcher must be called with a name, and name must be a string.")},A.prototype.setControllerName=function(e,t){this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/setControllerName").incrementCallCount();var r=this.agent.tracer.getTransaction();if(!r)return i.warn("No transaction found when setting controller to %s.",e);e?(t=t||r.verb||"GET",r.forceName=b.CONTROLLER+"/"+e+"/"+t):r&&r.url?i.error("Must include name in setControllerName call for URL %s.",r.url):i.error("Must include name in setControllerName call.")},A.prototype.addCustomAttribute=function(e,t){if(this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/addCustomAttribute").incrementCallCount(),this.agent.config.high_security)return i.warnOnce("Custom attributes","Custom attributes are disabled by high security mode."),!1;if(!this.agent.config.api.custom_attributes_enabled)return i.debug("Config.api.custom_attributes_enabled set to false, not collecting value"),!1;const r=this.agent.tracer.getTransaction();if(!r)return i.warn("No transaction found for custom attributes."),!1;const n=r.trace;if(!n.custom)return i.warn("Could not add attribute %s to nonexistent custom attributes.",e),!1;if(w.has(e))return i.warn("Not overwriting value of NR-only attribute %s.",e),!1;n.addCustomAttribute(e,t);const o=this.agent.tracer.getSpanContext();o?o.addCustomAttribute(e,t,o.ATTRIBUTE_PRIORITY.LOW):i.debug("No span found for custom attributes.")},A.prototype.addCustomAttributes=function(e){var t=this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/addCustomAttributes");for(var r in t.incrementCallCount(),e)u.hasOwn(e,r)&&this.addCustomAttribute(r,e[r])},A.prototype.addCustomSpanAttributes=function(e){this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/addCustomSpanAttributes").incrementCallCount();for(let t in e)u.hasOwn(e,t)&&this.addCustomSpanAttribute(t,e[t])},A.prototype.addCustomSpanAttribute=function(e,t){if(this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/addCustomSpanAttribute").incrementCallCount(),this.agent.config.high_security)return i.warnOnce("Custom span attributes","Custom span attributes are disabled by high security mode."),!1;if(!this.agent.config.api.custom_attributes_enabled)return i.debug("Config.api.custom_attributes_enabled set to false, not collecting value"),!1;const r=this.agent.tracer.getSpanContext();return r?w.has(e)?(i.warn("Not overwriting value of NR-only attribute %s.",e),!1):void r.addCustomAttribute(e,t):(i.debug("Could not add attribute %s. No available span.",e),!1)},A.prototype.noticeError=function(e,t){if(this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/noticeError").incrementCallCount(),!this.agent.config.api.notice_error_enabled)return i.debug("Config.api.notice_error_enabled set to false, not collecting error"),!1;this.agent.config.high_security?i.debug("Passing custom attributes to notice error API is disabled in high security mode."):this.agent.config.api.custom_attributes_enabled||i.debug("Config.api.custom_attributes_enabled set to false, ignoring custom error attributes."),"string"==typeof e&&(e=new Error(e));let r=t;t&&(r=T(t,"noticeError"));const n=this.agent.tracer.getTransaction();this.agent.errors.addUserError(n,e,r)},A.prototype.addNamingRule=function(e,t){if(this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/addNamingRule").incrementCallCount(),!t)return i.error("Simple naming rules require a replacement name.");this.agent.userNormalizer.addSimple(e,"/"+t)},A.prototype.addIgnoringRule=function(e){if(this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/addIgnoringRule").incrementCallCount(),!e)return i.error("Must include a URL pattern to ignore.");this.agent.userNormalizer.addSimple(e,null)},A.prototype.getBrowserTimingHeader=function(e){this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/getBrowserTimingHeader").incrementCallCount();var t=this.agent.config;function r(e,t){return t?i.debug(E[e]):i.warn(E[e]),"\x3c!-- NREUM: ("+e+") --\x3e"}var o=t.browser_monitoring;if(!o)return r(2);if(!o.enable)return r(0,!0);var s=this.agent.getTransaction();if(!s||s.isIgnored())return r(1);var a=s.getFullName();if(!a)return r(3);var l=s.timer.getDurationInMillis(),f=t.license_key.substr(0,13),p=t.application_id;if(!p)return r(4);var d=o.browser_key;if(!d)return r(5);var h=o.js_agent_loader;if(!h)return r(6);if("none"===o.loader)return r(7);var g={agent:o.js_agent_file,beacon:o.beacon,errorBeacon:o.error_beacon,licenseKey:d,applicationID:p,applicationTime:l,transactionName:c.obfuscateNameUsingKey(a,f),queueTime:s.queueTime,ttGuid:s.id,agentToken:null},m=Object.create(null);const v=s.trace.custom.get(y.BROWSER_EVENT);u.isEmpty(v)||(m.u=v);const w=s.trace.attributes.get(y.BROWSER_EVENT);u.isEmpty(w)||(m.a=w),u.isEmpty(m)||(g.atts=c.obfuscateNameUsingKey(JSON.stringify(m),f));var _=t.browser_monitoring.debug?2:0,A=JSON.stringify(g,null,_),C=e&&e.nonce?'nonce="'+e.nonce+'"':"",T=n.format("<script type='text/javascript' %s>window.NREUM||(NREUM={});NREUM.info = %s; %s<\/script>",C,A,h);return i.trace("generating RUM header",T),T},A.prototype.startSegment=function(e,t,r,n){return this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/startSegment").incrementCallCount(),e&&"function"==typeof r?n&&"function"!=typeof n?(i.warn("If using callback, it must be a function"),r(n)):this.shim.getActiveSegment()?this.shim.record(r,(function(r){return{name:e,recorder:t?a:null,callback:n?r.FIRST:null,promise:!n}}))(n):(i.debug("startSegment(%j) called outside of a transaction, not recording.",e),r(n)):(i.warn("Name and handler function are both required for startSegment"),"function"==typeof r?r(n):void 0)},A.prototype.startWebTransaction=function(e,t){if(this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/startWebTransaction").incrementCallCount(),"function"!=typeof t)return i.warn("startWebTransaction called with a handle arg that is not a function"),null;if(!e)return i.warn("startWebTransaction called without a url, transaction not started"),t();i.debug("starting web transaction %s (%s).",e,t&&t.name);var r=this.shim,n=this.agent.tracer,s=n.getTransaction();return n.transactionNestProxy("web",(function(){var a=n.getTransaction();if(!a)return t.apply(this,arguments);if(a===s)return i.debug("not creating nested transaction %s using transaction %s",e,a.id),n.addSegment(e,null,null,!0,t);i.debug("creating web transaction %s (%s) with transaction id: %s",e,t&&t.name,a.id),a.nameState.setName(b.CUSTOM,null,b.ACTION_DELIMITER,e),a.url=e,a.applyUserNamingRules(a.url),a.baseSegment=n.createSegment(e,o),a.baseSegment.start();var c=n.bindFunction(t,a.baseSegment),u=c.call(this);return u&&r.isPromise(u)?u=r.interceptPromise(u,a.end.bind(a)):a.handledExternally||(i.debug("Ending unhandled web transaction immediately."),a.end()),u}))()},A.prototype.startBackgroundTransaction=function(e,t,r){this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/startBackgroundTransaction").incrementCallCount(),void 0===r&&"function"==typeof t&&(r=t,t="Nodejs");if("function"!=typeof r)return i.warn("startBackgroundTransaction called with a handle that is not a function"),null;if(!e)return i.warn("startBackgroundTransaction called without a name"),r();i.debug("starting background transaction %s:%s (%s)",e,t,r&&r.name);var n=this.agent.tracer,o=this.shim,a=t+"/"+e,c=n.getTransaction();return n.transactionNestProxy("bg",(function(){var u=n.getTransaction();if(!u)return r.apply(this,arguments);if(u===c)return i.debug("not creating nested transaction %s using transaction %s",a,u.id),n.addSegment(a,null,null,!0,r);i.debug("creating background transaction %s:%s (%s) with transaction id: %s",e,t,r&&r.name,u.id),u._partialName=a,u.baseSegment=n.createSegment(e,s),u.baseSegment.partialName=t,u.baseSegment.start();var l=n.bindFunction(r,u.baseSegment),f=l.call(this);return f&&o.isPromise(f)?f=o.interceptPromise(f,u.end.bind(u)):u.handledExternally||(i.debug("Ending unhandled background transaction immediately."),u.end()),f}))()},A.prototype.endTransaction=function(){this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/endTransaction").incrementCallCount();var e=this.agent.tracer.getTransaction();e?(e.baseSegment&&("web"===e.type&&e.finalizeNameFromUri(e.url,0),e.baseSegment.end()),e.end(),i.debug("ended transaction with id: %s and name: %s",e.id,e.name)):i.debug("endTransaction() called while not in a transaction.")},A.prototype.recordMetric=function(e,t){if(this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/recordMetric").incrementCallCount(),"string"!=typeof e)return void i.warn("Metric name must be a string");const r=b.CUSTOM+b.ACTION_DELIMITER+e,n=this.agent.metrics.getOrCreateMetric(r);if("number"==typeof t)return void n.recordValue(t);if("object"!=typeof t)return void i.warn("Metric value must be either a number, or a metric object");const o=Object.create(null),s=["count","total","min","max","sumOfSquares"],a={count:"callCount"};for(let e=0,r=s.length;e<r;++e){if("number"!=typeof t[s[e]])return void i.warn("Metric object must include %s as a number",s[e]);o[a[s[e]]||s[e]]=t[s[e]]}"number"==typeof t.totalExclusive?o.totalExclusive=t.totalExclusive:o.totalExclusive=t.total,n.merge(o)},A.prototype.incrementMetric=function(e,t){this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/incrementMetric").incrementCallCount(),t||0===t||(t=1),"number"==typeof t&&t%1==0?this.recordMetric(e,{count:t,total:0,min:0,max:0,sumOfSquares:0}):i.warn("Metric Increment value must be an integer")},A.prototype.recordCustomEvent=function(e,t){if(this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/recordCustomEvent").incrementCallCount(),this.agent.config.high_security)return i.warnOnce("Custom Event","Custom events are disabled by high security mode."),!1;if(!this.agent.config.api.custom_events_enabled)return i.debug("Config.api.custom_events_enabled set to false, not collecting value"),!1;if(!this.agent.config.custom_insights_events.enabled)return;var r=!1;if(e&&"string"==typeof e?_.test(e)?e.length>255&&(i.warn("recordCustomEvent eventType must have a length less than 256, got %s (%s)",e,e.length),r=!0):(i.warn("recordCustomEvent eventType of %s is invalid, it must match /%s/",e,_.source),r=!0):(i.warn("recordCustomEvent requires a string for its first argument, got %s (%s)",l(e),typeof e),r=!0),!t||"object"!=typeof t||Array.isArray(t)?(i.warn("recordCustomEvent requires an object for its second argument, got %s (%s)",l(t),typeof t),r=!0):function(e,t){for(var r=Object.keys(e),n=!1,o=r.length,s="",a=0;a<o;a++)(s=r[a]).length>t&&(i.warn("recordCustomEvent requires keys to be less than 256 chars got %s (%s)",s,s.length),n=!0);return n}(t,255)&&(r=!0),r)return;const n=T(t,e+" custom event");var o={type:e,timestamp:Date.now()},s=this.agent.getTransaction(),a=s&&s.priority||Math.random();this.agent.customEventAggregator.add([o,n],a)},A.prototype.instrument=function(e,t,r){this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/instrument").incrementCallCount();var n=e;"string"==typeof n&&(n={moduleName:e,onRequire:t,onError:r}),n.type=v.GENERIC,f.registerInstrumentation(n)},A.prototype.instrumentConglomerate=function(e,t,r){this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/instrumentConglomerate").incrementCallCount();let n=e;"string"==typeof n&&(n={moduleName:e,onRequire:t,onError:r}),n.type=v.CONGLOMERATE,f.registerInstrumentation(n)},A.prototype.instrumentDatastore=function(e,t,r){this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/instrumentDatastore").incrementCallCount();var n=e;"string"==typeof n&&(n={moduleName:e,onRequire:t,onError:r}),n.type=v.DATASTORE,f.registerInstrumentation(n)},A.prototype.instrumentLoadedModule=function(e,t){this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/instrumentLoadedModule").incrementCallCount();try{const n=f.getInstrumentationNameFromModuleName(e);if(!f.registeredInstrumentations[n])return i.warn("No instrumentation registered for '%s'.",n),!1;const o=f.registeredInstrumentations[n];if(!o.onRequire)return i.warn("No onRequire function registered for '%s'.",n),!1;const s=r(182).resolve(e),a=p.createShimFromType(o.type,this.agent,e,s);return o.onRequire(a,t,e),!0}catch(e){i.error("instrumentLoadedModule encountered an error, module not instrumentend: %s",e)}},A.prototype.instrumentWebframework=function(e,t,r){this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/instrumentWebframework").incrementCallCount();var n=e;"string"==typeof n&&(n={moduleName:e,onRequire:t,onError:r}),n.type=v.WEB_FRAMEWORK,f.registerInstrumentation(n)},A.prototype.instrumentMessages=function(e,t,r){this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/instrumentMessages").incrementCallCount();var n=e;"string"==typeof n&&(n={moduleName:e,onRequire:t,onError:r}),n.type=v.MESSAGE,f.registerInstrumentation(n)},A.prototype.getTraceMetadata=function(){this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/getTraceMetadata").incrementCallCount();const e={},t=this.agent.tracer.getSegment();if(t)if(this.agent.config.distributed_tracing.enabled){e.traceId=t.transaction.traceId;const r=t.getSpanId();r&&(e.spanId=r)}else i.debug("Distributed tracing disabled when calling API#getTraceMetadata");else i.debug("No transaction found when calling API#getTraceMetadata");return e},A.prototype.shutdown=function(e,t){this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/shutdown").incrementCallCount();let r=t;"function"==typeof e?(r=e,e={}):"function"!=typeof r&&(r=()=>{}),e||(e={}),C(this,e,r)},A.prototype.setLambdaHandler=function(e){return this.agent.metrics.getOrCreateMetric(b.SUPPORTABILITY.API+"/setLambdaHandler").incrementCallCount(),this.awsLambda.patchLambdaHandler(e)},e.exports=A},function(e,t,r){"use strict";const n=r(2),i=r(82);e.exports=function(e,t){if(t){var r=e.transaction;if("web"!==r.type||!r.baseSegment||e===r.baseSegment){var o=e.getDurationInMillis(),s=r.trace.getTotalTimeDurationInMillis(),a=e.getExclusiveDurationInMillis(),c=e.partialName,u=e.transaction.agent.config,l=1e3*u.web_transactions_apdex[t]||0;r.measure(n.WEB.RESPONSE_TIME,null,o,a),r.measure(n.WEB.TOTAL_TIME,null,s,a),r.measure(n.HTTP,null,o,a),r.measure(t,null,o,a),r.measure(n.WEB.TOTAL_TIME+"/"+c,null,s,a),r.queueTime>0&&r.measure(n.QUEUETIME,null,r.queueTime),u.distributed_tracing.enabled?i(r,"Web",o,a):r.incomingCatId&&r.measure(n.CLIENT_APPLICATION+"/"+r.incomingCatId+"/all",null,r.catResponseTime),r._setApdex(n.APDEX+"/"+c,o,l),r._setApdex(n.APDEX,o,l)}}}},function(e,t,r){"use strict";const n=r(2);e.exports=function(e,t,r,i){const o=!!e.acceptedDistributedTrace,s=[e.parentType||"Unknown",e.parentAcct||"Unknown",e.parentApp||"Unknown",e.parentTransportType||"Unknown","all"].join("/");["",t].forEach((function(t){e.measure(`${n.DISTRIBUTED_TRACE.DURATION}/${s}${t}`,null,r,i),e.hasErrors()&&e.measure(`${n.DISTRIBUTED_TRACE.ERRORS}/${s}${t}`,null,r,i),o&&e.measure(`${n.DISTRIBUTED_TRACE.TRANSPORT}/${s}${t}`,null,r,i)}))}},function(e,t,r){"use strict";const n=r(2),i=r(82);e.exports=function(e,t){var r=e.transaction;if("bg"!==r.type||!r.baseSegment||e===r.baseSegment){var o=e.getDurationInMillis(),s=e.getExclusiveDurationInMillis(),a=e.transaction.trace.getTotalTimeDurationInMillis(),c=e.partialName;t&&(r.measure(t,null,o,s),r.measure(n.OTHER_TRANSACTION.TOTAL_TIME+"/"+c,null,a,s)),r.measure(n.OTHER_TRANSACTION.RESPONSE_TIME+"/all",null,o,s),r.measure(n.OTHER_TRANSACTION.TOTAL_TIME,null,a,s),r.agent.config.distributed_tracing.enabled&&i(r,"Other",o,s)}}},function(e,t,r){"use strict";const n=r(31),i=r(18),o=r(159),s=r(86),a=r(87),c=r(93),u=r(25),l=r(94),f=r(5);var p=Object.create(null);p[n.MODULE_TYPE.GENERIC]=i,p[n.MODULE_TYPE.CONGLOMERATE]=o,p[n.MODULE_TYPE.DATASTORE]=s,p[n.MODULE_TYPE.MESSAGE]=a,p[n.MODULE_TYPE.PROMISE]=c,p[n.MODULE_TYPE.TRANSACTION]=u,p[n.MODULE_TYPE.WEB_FRAMEWORK]=l,t.constants=n,t.Shim=i,t.ConglomerateShim=o,t.DatastoreShim=s,t.MessageShim=a,t.PromiseShim=c,t.TransactionShim=u,t.WebFrameworkShim=l,t.createShimFromType=function(e,t,r,n){return f.hasOwn(p,e)?new(0,p[e])(t,r,n):new i(t,r,n)}},function(e,t,r){"use strict";var n=r(5).hasOwn,i=r(3),o={FIRST:0,SECOND:1,THIRD:2,FOURTH:3,LAST:-1};function s(e){this.name=n(e,"name")?e.name:null,this.recorder=n(e,"recorder")?e.recorder:null,this.inContext=n(e,"inContext")?e.inContext:null,this.parent=n(e,"parent")?e.parent:null,this.parameters=n(e,"parameters")?e.parameters:null,this.internal=!!n(e,"internal")&&e.internal,this.opaque=!!n(e,"opaque")&&e.opaque}function a(e){s.call(this,e),this.stream=n(e,"stream")?e.stream:null,this.promise=n(e,"promise")?e.promise:null,this.callback=n(e,"callback")?e.callback:null,this.rowCallback=n(e,"rowCallback")?e.rowCallback:null,this.after=n(e,"after")?e.after:null,this.callbackRequired=n(e,"callbackRequired")?e.callbackRequired:null}function c(e){a.call(this,e),this.req=n(e,"req")?e.req:o.FIRST,this.res=n(e,"res")?e.res:o.SECOND,this.next=n(e,"next")?e.next:o.THIRD,this.type=n(e,"type")?e.type:"MIDDLEWARE",this.route=n(e,"route")?e.route:null,this.params=n(e,"params")?e.params:u,this.appendPath=!n(e,"appendPath")||e.appendPath}function u(e,t,r,n,i){return i&&i.params}t.ARG_INDEXES=o,t.cast=function(e,t){return t instanceof e?t:new e(t)},t.MiddlewareSpec=c,t.RecorderSpec=a,t.SegmentSpec=s,t.WrapSpec=function(e){this.wrapper="function"==typeof e?e:e.wrapper,this.matchArity=!!n(e,"matchArity")&&e.matchArity},i.inherits(a,s),i.inherits(c,a)},function(e,t,r){"use strict";const n=r(160),i=r(5).hasOwn,o=r(0).child({component:"DatastoreShim"}),s=r(2),a=r(161),c=r(163),u=r(18),l=r(19),f=r(3),p={CASSANDRA:"Cassandra",DYNAMODB:"DynamoDB",MEMCACHED:"Memcache",MONGODB:"MongoDB",MYSQL:"MySQL",NEPTUNE:"Neptune",POSTGRES:"Postgres",REDIS:"Redis"},d={SQL:a},h={SQL_PARSER:"SQL"};function g(e,t,r,n){u.call(this,e,t,r),this._logger=o.child({module:t}),n&&this.setDatastore(n),this.queryParser=d[this.SQL_PARSER]}function m(e,t,r,n){return this.isObject(r)&&!this.isArray(r)&&(n=r,r=null),n?this.record(t,r,(function(t,r,o,s){t.logger.trace("Determining query information for %j",o);var a=n;if(t.isFunction(n)&&(a=n.call(this,t,r,o,s)),i(a,"record")&&!1===a.record){var c=b.call(t,a.parameters||Object.create(null));return{name:a.name||o,parameters:c,callback:"callback"in a?a.callback:null,rowCallback:"rowCallback"in a?a.rowCallback:null,stream:"stream"in a?a.stream:null,after:"after"in a?a.after:null,promise:"promise"in a?a.promise:null,internal:"internal"in a&&a.internal,opaque:"opaque"in a&&a.opaque}}var u=v.call(t,r,o,a,this,s);if(!t.isString(u))return null;var l=t.parseQuery(u,this),f=(l.collection||"other")+"/"+l.operation+e;t.logger.trace("Found and parsed query %s -> %s",l.type,f);c=b.call(t,a.parameters||Object.create(null));return{name:t._metrics.STATEMENT+f,parameters:c,callback:"callback"in a?a.callback:null,rowCallback:"rowCallback"in a?a.rowCallback:null,stream:"stream"in a?a.stream:null,after:"after"in a?a.after:null,promise:"promise"in a?a.promise:null,internal:!("internal"in a)||a.internal,opaque:"opaque"in a&&a.opaque,recorder:function(e,t){e&&l.recordMetrics(e,t)}}})):(this.logger.debug("Missing query spec for recordQuery, not wrapping."),t)}function y(e,t){if(!e)return;var r=e.getDurationInMillis(),n=e.getExclusiveDurationInMillis(),i=e.transaction,o=i.isWeb()?"allWeb":"allOther",a=e.name;t&&i.measure(a,t,r,n),i.measure(a,null,r,n),i.measure(s.DB.PREFIX+o,null,r,n),i.measure(s.DB.ALL,null,r,n),i.measure(this._metrics.ALL,null,r,n),i.measure(s.DB.PREFIX+this._metrics.PREFIX+"/"+o,null,r,n);const c=e.getAttributes();if(c.host&&c.port_path_or_id){const e=[s.DB.INSTANCE,this._metrics.PREFIX,c.host,c.port_path_or_id].join("/");i.measure(e,null,r,n)}}function v(e,t,r,n,i){var o=r.query;if(this.isNumber(o)){var s=this.normalizeIndex(i.length,o);if(null===s)return this.logger.debug("Invalid query index %d of %d",o,i.length),null;o=i[s]}else this.isFunction(o)&&(o=o.call(n,this,e,t,i));return o}function b(e){e=e||Object.create(null);var t=this.agent.config,r=t.datastore_tracer;return e.product=e.product||this._datastore,r.database_name_reporting.enabled?i(e,"database_name")&&!1!==e.database_name&&(e.database_name="number"==typeof e.database_name?String(e.database_name):e.database_name||"unknown"):delete e.database_name,r.instance_reporting.enabled?(i(e,"port_path_or_id")&&(e.port_path_or_id=String(e.port_path_or_id||"unknown")),i(e,"host")&&(e.host&&l.isLocalhost(e.host)&&(e.host=t.getHostnameSafe(e.host)),e.host&&"UNKNOWN_BOX"!==e.host||(e.host="unknown"))):(delete e.host,delete e.port_path_or_id),e}e.exports=g,f.inherits(g,u),g.DATASTORE_NAMES=p,Object.keys(p).forEach((function(e){u.defineProperty(g,e,p[e]),u.defineProperty(g.prototype,e,p[e])})),g.QUERY_PARSERS=h,Object.keys(h).forEach((function(e){u.defineProperty(g,e,h[e]),u.defineProperty(g.prototype,e,h[e])})),g.prototype.setDatastore=function(e){this._metrics={PREFIX:e,STATEMENT:s.DB.STATEMENT+"/"+e+"/",OPERATION:s.DB.OPERATION+"/"+e+"/",INSTANCE:s.DB.INSTANCE+"/"+e+"/",ALL:s.DB.PREFIX+e+"/"+s.ALL},this._datastore=e,this._logger=this._logger.child({datastore:this._metrics.PREFIX}),this.logger.trace({metrics:this._metrics},"Datastore metric names set")},g.prototype.recordOperation=function(e,t,r){this.isObject(t)&&!this.isArray(t)&&(r=t,t=null);r||(r=Object.create(null));return this.record(e,t,(function(e,t,n,o){e.logger.trace('Recording datastore operation "%s"',n);var s=null;return s=e.isFunction(r)?r.call(this,e,t,n,o):{name:r.name||n||"other",parameters:r.parameters,callback:r.callback,after:"after"in r?r.after:null,promise:"promise"in r?r.promise:null,record:r.record,opaque:r.opaque||!1},i(s,"parameters")&&b.call(e,s.parameters),i(s,"record")&&!1===s.record||(s.name=e._metrics.OPERATION+s.name,s.recorder=y.bind(e),s.internal=!0),s}))},g.prototype.recordQuery=function(e,t,r){return m.call(this,"",e,t,r)},g.prototype.recordBatchQuery=function(e,t,r){return m.call(this,"/batch",e,t,r)},g.prototype.parseQuery=function(e,t){var r=this.queryParser.call(t,e),n=r.collection;"string"==typeof n&&n.length>2&&(/^[\[{'"`]/.test(n)&&(n=n.substr(1)),/[\]}'"`]$/.test(n)&&(n=n.substr(0,n.length-1)));var i="raw"===this.agent.config.transaction_tracer.record_sql||"obfuscated"===this.agent.config.transaction_tracer.record_sql;return new c(this._metrics.PREFIX,r.operation,n,i?r.query:null)},g.prototype.setParser=function(e){if(this.isString(e)){var t=d[e];t?this.queryParser=t:this.logger.debug("Attempted to set the query parser to invalid parser %s, not setting new parser",e)}else this.isFunction(e)?this.queryParser=e:this.logger.trace("Received invalid parser (%s)",e)},g.prototype.bindRowCallbackSegment=function(e,t,r){var n=this.normalizeIndex(e.length,t);if(null===n)return void this.logger.debug("Not binding row callback, invalid cbIdx %s",t);var i=e[n];if(!this.isFunction(i))return this.logger.debug("Argument %d is not a function, not binding row callback",t),i;this.logger.trace("Wrapping argument %d as a row callback.",t);var o=0,s=null,a="Callback: "+this.getName(i),c=this,u=this.bindSegment((function(){if(1==++o){var e=r||c.getSegment();e&&e.touch(),(s=c.createSegment(a,e))&&(s.async=!1)}return s&&s.addAttribute("count",o),c.applySegment(i,s,!0,this,arguments)}),r);this.setInternalProperty(u,"__NR_original",i),e[n]=u},g.prototype.captureInstanceAttributes=function(e,t,r){var n=this.getSegment();if(!n||n.shim!==this)return void this.logger.trace("Not adding db instance metric attributes to segment %j",n&&n.name);this.logger.trace("Adding db instance attributes to segment %j",n.name);var i=b.call(this,{host:e,port_path_or_id:t,database_name:r});for(let e in i)i[e]&&n.addAttribute(e,i[e])},g.prototype.getDatabaseNameFromUseQuery=function(e){return n.extractDatabaseChangeFromUse(e)}},function(e,t,r){"use strict";var n=r(45),i=r(88),o=r(0).child({component:"MessageShim"}),s=r(164),a=r(5),c=r(25),u=r(18),l=r(3),f=r(6).DESTINATIONS;const p={IRONMQ:"IronMQ",KAFKA:"Kafka",RABBITMQ:"RabbitMQ",SNS:"SNS",SQS:"SQS"},d={AMQP:c.TRANSPORT_TYPES.AMQP,IronMQ:c.TRANSPORT_TYPES.IRONMQ,Kafka:c.TRANSPORT_TYPES.KAFKA,RabbitMQ:c.TRANSPORT_TYPES.AMQP},h={EXCHANGE:"Exchange",QUEUE:"Queue",TOPIC:"Topic"};function g(e,t,r){c.call(this,e,t,r),this._logger=o.child({module:t}),this._metrics=null,this._transportType=c.TRANSPORT_TYPES.UNKNOWN}function m(e,t,r){var n=e._metrics.PREFIX+e._metrics.LIBRARY+"/"+(t.destinationType||e.EXCHANGE)+"/"+r;return t.destinationName?n+=e._metrics.NAMED+t.destinationName:n+=e._metrics.TEMP,n}function y(e,t){var r=e._metrics.LIBRARY+"/"+(t.destinationType||e.EXCHANGE)+"/";return t.destinationName?r+=e._metrics.NAMED+t.destinationName:r+=e._metrics.TEMP,r}e.exports=g,l.inherits(g,c),g.LIBRARY_NAMES=p,Object.keys(p).forEach((function(e){u.defineProperty(g,e,p[e]),u.defineProperty(g.prototype,e,p[e])})),g.DESTINATION_TYPES=h,Object.keys(h).forEach((function(e){u.defineProperty(g,e,h[e]),u.defineProperty(g.prototype,e,h[e])})),g.prototype.setLibrary=function(e){this._metrics={PREFIX:"MessageBroker/",LIBRARY:e,PRODUCE:"Produce/",CONSUME:"Consume/",PURGE:"Purge/",NAMED:"Named/",TEMP:"Temp"},d[e]&&(this._transportType=d[e]);this._logger=this._logger.child({library:e}),this.logger.trace({metrics:this._metrics},"Library metric names set")},g.prototype.recordProduce=function(e,t,r){this.isFunction(t)&&(r=t,t=null);return this.record(e,t,(function(e){var t=r.apply(this,arguments);if(!t)return null;var n=m(e,t,e._metrics.PRODUCE);return e.agent.config.message_tracer.segment_parameters.enabled?t.routingKey&&(t.parameters=e.setDefaults(t.parameters,{routing_key:t.routingKey})):delete t.parameters,{name:n,promise:t.promise||!1,callback:t.callback||null,recorder:i,inContext:function(){t.headers&&e.insertCATRequestHeaders(t.headers,!0)},parameters:t.parameters||null,opaque:t.opaque||!1}}))},g.prototype.recordConsume=function(e,t,r){this.isObject(t)&&!this.isArray(t)&&(r=t,t=null);var n={destinationName:null,promise:!1,callback:null,messageHandler:null};this.isFunction(r)||(r=this.setDefaults(r,n));return this.wrap(e,t,(function(e,t,o){return e.isFunction(t)?function(){var s=e.getSegment();if(!s||!s.transaction.isActive())return e.logger.trace("Not recording consume, no active transaction."),t.apply(this,arguments);var a=e.argsToArray.apply(e,arguments),c=null;if(e.isFunction(r))c=r.call(this,e,t,o,a),e.setDefaults(c,n);else{c={destinationName:null,callback:r.callback,promise:r.promise,messageHandler:r.messageHandler};var u=e.normalizeIndex(a.length,r.destinationName);null!==u&&(c.destinationName=a[u])}if(!c)return e.logger.trace("Not recording consume, no message descriptor."),t.apply(this,a);const l=m(e,c,e._metrics.CONSUME);c.name=l,c.recorder=i,c.parent=s;var f=e.createSegment(c),p=e.agent.config.message_tracer.segment_parameters.enabled,d=e.isFunction(c.messageHandler)?c.messageHandler:null,h=e.normalizeIndex(a.length,c.callback);null!==h&&(e.bindCallbackSegment(a,h,f),d&&e.wrap(a,h,(function(e,t,r){if(e.isFunction(t))return function(){var n=e.argsToArray.apply(e,arguments),i=d.call(this,e,t,r,n);return p&&i&&i.parameters&&e.copySegmentParameters(f,i.parameters),t.apply(this,arguments)}})));var g=e.applySegment(t,f,!0,this,a);return d&&g&&c.promise&&e.isPromise(g)&&(g=g.then((function(r){var n=d.call(this,e,t,o,r);return p&&n&&n.parameters&&e.copySegmentParameters(f,n.parameters),r}))),g}:(e.logger.debug("Not wrapping %s (%s) as consume",t,o),t)}))},g.prototype.recordPurgeQueue=function(e,t,r){if(!e)return this.logger.debug("Not wrapping non-existent nodule."),e;this.isString(t)||this.isArray(t)||(r=t,t=null);var n=this.isFunction(r);n||(r=this.setDefaults(r,{queue:null,callback:null,promise:!1,internal:!1}));return this.record(e,t,(function(e,t,o,s){var a=r;n&&(a=r.apply(this,arguments));var c=a.queue;if(e.isNumber(c)){var u=e.normalizeIndex(s.length,a.queue);c=s[u]}return{name:m(e,{destinationType:e.QUEUE,destinationName:c},e._metrics.PURGE),recorder:i,callback:a.callback,promise:a.promise,internal:a.internal}}))},g.prototype.recordSubscribedConsume=function(e,t,r){if(!e)return this.logger.debug("Not wrapping non-existent nodule."),e;this.isObject(t)&&!this.isArray(t)&&(r=t,t=null);if(r=this.setDefaults(r,{name:null,destinationName:null,destinationType:null,consumer:null,callback:null,messageHandler:null,promise:!1}),!this.isFunction(r.messageHandler))return this.logger.debug("spec.messageHandler should be a function"),e;if(!this.isNumber(r.consumer))return this.logger.debug("spec.consumer is required for recordSubscribedConsume"),e;var i=this.isNumber(r.destinationName),o=this.wrap(e,t,(function(e,t){return e.isFunction(t)?function(){var n=e.argsToArray.apply(e,arguments),o=e.normalizeIndex(n.length,r.queue),s=e.normalizeIndex(n.length,r.consumer),a=null===o?null:n[o],u=null;if(i){var l=e.normalizeIndex(n.length,r.destinationName);null!==l&&(u=n[l])}return null!==s&&(n[s]=e.wrap(n[s],c(a,u))),t.apply(this,n)}:t}));return this.record(o,t,(function(e,t,n,i){var o=e.normalizeIndex(i.length,r.consumer),s=e.normalizeIndex(i.length,r.callback);return s===o&&(s=null),{name:r.name||n,callback:s,promise:r.promise,stream:!1,internal:!1}}));function c(e,t){var o=n.shallow(r);return i&&null!=t&&(o.destinationName=t),null!=e&&(o.queue=e),function(e,t,n){return e.isFunction(t)?e.bindCreateTransaction((function(){var i=e.argsToArray.apply(e,arguments),c=e.tracer.getTransaction();if(!c||c.baseSegment)return e.logger.debug({transaction:!!c},"Failed to start message transaction."),t.apply(this,i);var u=r.messageHandler.call(this,e,t,n,i);if(!u)return e.logger.debug("No description for message, cancelling transaction."),c.setForceIgnore(!0),c.end(),t.apply(this,i);e.setDefaults(u,o);var l=y(e,u);for(var p in c.setPartialName(l),c.baseSegment=e.createSegment({name:c.getFullName(),recorder:s}),u.parameters)a.hasOwn(u.parameters,p)&&(c.trace.attributes.addAttribute(f.NONE,"message.parameters."+p,u.parameters[p]),c.baseSegment.attributes.addAttribute(f.NONE,"message.parameters."+p,u.parameters[p]));e.agent.config.high_security||(u.routingKey&&(c.trace.attributes.addAttribute(f.TRANS_COMMON,"message.routingKey",u.routingKey),c.baseSegment.addSpanAttribute("message.routingKey",u.routingKey)),e.isString(u.queue)&&(c.trace.attributes.addAttribute(f.TRANS_COMMON,"message.queueName",u.queue),c.baseSegment.addSpanAttribute("message.queueName",u.queue))),u.headers&&e.handleCATHeaders(u.headers,c.baseSegment,e._transportType),e.logger.trace("Started message transaction %s named %s",c.id,l);var d=null;try{d=e.applySegment(t,c.baseSegment,!0,this,i)}finally{e.isPromise(d)?(e.logger.trace("Got a promise, attaching tx %s ending to promise",c.id),d=e.interceptPromise(d,h)):c.handledExternally||(e.logger.trace("Immediately ending message tx %s",c.id),setImmediate(h))}return d;function h(){c.finalizeName(null),c.end()}}),{type:e.MESSAGE,nest:!0}):t}}}},function(e,t,r){"use strict";e.exports=function(e,t){var r=e.getDurationInMillis(),n=e.getExclusiveDurationInMillis(),i=e.transaction;t&&i.measure(e.name,t,r,n),i.measure(e.name,null,r,n)}},function(e,t,r){"use strict";const n=r(50);var i=r(15),o=r(0).child({component:"transaction"}),s=r(90),a=r(2),c=r(167),u=r(5),l=r(51),f=r(168),p=r(11),d=r(19);const h=r(173).TraceContext,g=r(6).DESTINATIONS,m={WEB:"web",BG:"bg",MESSAGE:"message"},y=T(m),v={web:a.WEB.RESPONSE_TIME,bg:a.OTHER_TRANSACTION.RESPONSE_TIME,message:a.OTHER_TRANSACTION.MESSAGE},b={AMQP:"AMQP",HTTP:"HTTP",HTTPS:"HTTPS",IRONMQ:"IronMQ",JMS:"JMS",KAFKA:"Kafka",OTHER:"Other",QUEUE:"Queue",UNKNOWN:"Unknown"},E=T(b),w=["ty","ac","ap","tr","ti"],_=r(174),A=_.Stub;function C(e){if(!e)throw new Error("every transaction must be bound to the agent");this.traceFlag=!1,e.config.logging.diagnostics?this.traceStacks=[]:this.traceStacks=null,this.agent=e,this.metrics=new s(e.config.apdex_t,e.mapper,e.metricNameNormalizer),++e.activeTransactions,this.numSegments=0,this.id=i.makeId(16),this.trace=new f(this),this.exceptions=[],this.userErrors=[],this.timer=new l,this.timer.begin(),this._recorders=[],this._intrinsicAttributes=Object.create(null),this._partialName=null,this.handledExternally=!1,this.catResponseTime=0,this.error=null,this.forceIgnore=null,this.forceName=null,this.ignore=!1,this.incomingCatId=null,this.name=null,this.nameState=new c(null,null,null,null),this.pathHashes=[],this.queueTime=0,this.referringPathHash=null,this.referringTransactionGuid=null,this.invalidIncomingExternalTransaction=!1,this.statusCode=null,this.syntheticsHeader=null,this.syntheticsData=null,this.url=null,this.parsedUrl=null,this.verb=null,this.baseSegment=null,this.type=m.WEB,this.parentId=null,this.parentType=null,this.parentApp=null,this.parentAcct=null,this.parentTransportType=null,this.parentTransportDuration=null,this._traceId=null,Object.defineProperty(this,"traceId",{get(){return null===this._traceId&&(this._traceId=i.makeId(32)),this._traceId},set(e){this._traceId=e}}),this.parentSpanId=null,this.isDistributedTrace=null,this.acceptedDistributedTrace=null,this.priority=null,this.sampled=null,this.traceContext=new h(this),e.emit("transactionStarted",this),this.probe("Transaction created",{id:this.id})}function T(e){return Object.keys(e).map(t=>e[t]).reduce((function(e,t){return e[t]=!0,e}),Object.create(null))}C.TYPES=m,C.TYPES_SET=y,C.TRANSPORT_TYPES=b,C.TRANSPORT_TYPES_SET=E,C.TRACE_CONTEXT_PARENT_HEADER="traceparent",C.prototype.probe=function(e,t){this.traceStacks&&this.traceStacks.push({stack:new Error(e).stack.split("\n"),extra:t})},C.prototype.isWeb=function(){return this.type===m.WEB},C.prototype.isActive=function(){return this.timer.isActive()},C.prototype.end=function(){if(this.timer.isActive())return this.traceFlag&&o.warn({segment:{name:this.name,stacks:this.traceStacks}},"Flagged transaction ended."),this.name||this.finalizeName(null),this.baseSegment&&this.baseSegment.touch(),this.agent.recordSupportability("Nodejs/Transactions/Segments",this.numSegments),this._calculatePriority(),this.trace.end(),this.timer.end(),this.ignore||(this.record(),this.trace.generateSpanEvents()),this.agent.emit("transactionFinished",this),this._cleanUneededReferences(),this},C.prototype._cleanUneededReferences=function(){this.userErrors=null,this.exceptions=null},C.prototype.getResponseTimeInMillis=function(){return this.isWeb()?this.timer.getDurationInMillis():this.trace.getDurationInMillis()},C.prototype._runUserNamingRules=function(e){var t=this.agent.userNormalizer.normalize(e);if(t.matched){var r=this.agent.urlNormalizer.normalize(t.value);r.ignore&&(t.ignore=!0),r.matched?t.value=r.value:t.value=a.NORMALIZED+t.value}return t},C.prototype.applyUserNamingRules=function(e){var t=this._runUserNamingRules(e);t.ignore&&(this.ignore=t.ignore),t.matched&&(this._partialName=t.value)},C.prototype.setPartialName=function(e){this._partialName=e},C.prototype._partialNameFromUri=function(e,t){var r=d.scrub(e),n=this._partialName,i=!1;this.nameState.isEmpty()||(n=this.nameState.getFullName());null!==this.forceName&&(n=this.forceName);var o=this._runUserNamingRules(r);i=i||o.ignore,o.matched&&(n=o.value);if(!n){const e=this.nameState.getStatusName(t);if(e)n=e;else{var s=this.agent.urlNormalizer.normalize(r);i=i||s.ignore,n=s.value}}return{ignore:i,value:n}},C.prototype.setForceIgnore=function(e){null!=e?this.forceIgnore=e:o.debug("Transaction#setForceIgnore called with null value")},C.prototype.isIgnored=function(){return this.ignore||this.forceIgnore},C.prototype.finalizeNameFromUri=function(e,t){o.traceEnabled()&&o.trace({requestURL:e,statusCode:t,transactionId:this.id,transactionName:this.name},"Setting transaction name");this.url=d.scrub(e),this.statusCode=t;var r=this._partialNameFromUri(e,t);this._partialName=r.value,r.ignore&&(this.ignore=!0);!this.nameState.isEmpty()&&this.baseSegment&&this.nameState.forEachParams((function(e){for(var t in e)if(u.hasOwn(e,t)){this.trace.attributes.addAttribute(g.NONE,"request.parameters."+t,e[t]);const r=this.agent.tracer.getSegment();r?r.attributes.addAttribute(g.NONE,"request.parameters."+t,e[t]):o.trace("Active segment not available, not adding request.parameters attribute for %s",t)}}),this);var n=v[this.type]+"/"+this._partialName,i=this.agent.transactionNameNormalizer.normalize(n);i.ignore&&(this.ignore=!0);this.name=i.value,this.name=this.agent.txSegmentNormalizer.normalize(this.name).value,null!==this.forceIgnore&&(this.ignore=this.forceIgnore);this.baseSegment&&this._markAsWeb(e),this._copyNameToActiveSpan(this.name),o.traceEnabled()&&o.trace({transactionId:this.id,transactionName:this.name,ignore:this.ignore},"Finished setting transaction name from Uri")},C.prototype._copyNameToActiveSpan=function(e){const t=this.agent.tracer.getSpanContext();t?t.addIntrinsicAttribute("transaction.name",e):o.trace("Span context not available, not adding transaction.name attribute for %s",e)},C.prototype._markAsWeb=function(e){var t=d.parseParameters(e);for(var r in t)if(u.hasOwn(t,r)){this.trace.attributes.addAttribute(g.NONE,"request.parameters."+r,t[r]);const e=this.agent.tracer.getSegment();e?e.attributes.addAttribute(g.NONE,"request.parameters."+r,t[r]):o.trace("Active segment not available, not adding request.parameters span attribute for %s",r)}this.baseSegment.markAsWeb()},C.prototype.finalizeName=function(e){if(null==e&&"web"===this.type&&this.url)return this.finalizeNameFromUri(this.url,this.statusCode);if(this._partialName=this.forceName||e||this._partialName,this._partialName){var t=v[this.type]+"/"+this._partialName,r=this.agent.transactionNameNormalizer.normalize(t);r.ignore&&(this.ignore=!0),this.name=r.value,null!==this.forceIgnore&&(this.ignore=this.forceIgnore),this.baseSegment&&this.baseSegment.setNameFromTransaction(),this._copyNameToActiveSpan(this.name),o.traceEnabled()&&o.trace({transactionId:this.id,transactionName:this.name,ignore:this.ignore},"Finished setting transaction name from string")}else o.debug("No name for transaction %s, not finalizing.",this.id)},C.prototype.getName=function(){return this.isWeb()&&this.url?this._partialNameFromUri(this.url,this.statusCode).value:this._partialName},C.prototype.getFullName=function(){var e=null;if(this.forceName)e=this.forceName;else{if(this.name)return this.name;e=this.getName()}if(!e)return null;var t=v[this.type]+"/"+e;return this.agent.transactionNameNormalizer.normalize(t).value},C.prototype.getScrubbedUrl=function(){if(this.isWeb()){if(this._scrubbedUrl)return this._scrubbedUrl;if(!this.parsedUrl){if(!this.url)return;this.parsedUrl=p.parse(this.url)}var e=Object.assign(Object.create(null),this.parsedUrl);return e.search=null,e.query=null,e.href=null,e.path=null,e.hash=null,this._scrubbedUrl=p.format(e),this._scrubbedUrl}},C.prototype.addRecorder=function(e){this._recorders.push(e)},C.prototype.record=function(){for(var e=this.name,t=0,r=this._recorders.length;t<r;++t)this._recorders[t](e)},C.prototype.measure=function(e,t,r,n){this.metrics.measureMilliseconds(e,t,r,n)},C.prototype._setApdex=function(e,t,r){var n=this.metrics.getOrCreateApdexMetric(e,null,r);!d.isError(this.agent.config,this.statusCode)||d.isExpectedError(this.agent.config,this.statusCode)||this.hasOnlyExpectedErrors()?n.recordValueInMillis(t,r):n.incrementFrustrating()},C.prototype.pushPathHash=function(e){this.pathHashes.length>=10||-1!==this.pathHashes.indexOf(e)||this.pathHashes.unshift(e)},C.prototype.includesOutboundRequests=function(){return this.pathHashes.length>0},C.prototype.alternatePathHashes=function(){var e=i.calculatePathHash(this.agent.config.applications()[0],this.getFullName(),this.referringPathHash),t=this.pathHashes.slice(),r=t.indexOf(e);return-1!==r&&t.splice(r,1),0===t.length?null:t.sort().join(",")},C.prototype._linkExceptionToSegment=function(e){const t=this.agent.tracer.getSegment();if(!t)return;const r=t.getSpanContext();if(r){const t=this.agent.config,n=e.getErrorDetails(t);r.setError(n)}e.agentAttributes.spanId=t.id},C.prototype.addException=function(e){if(!this.isActive())return void o.trace("Transaction is not active. Not capturing error: ",e);this._linkExceptionToSegment(e),this.exceptions.push(e)},C.prototype.addUserError=function(e){if(!this.isActive())return void o.trace("Transaction is not active. Not capturing user error: ",e);this._linkExceptionToSegment(e),this.userErrors.push(e)},C.prototype.hasIgnoredErrorStatusCode=function(){return d.isIgnoredError(this.agent.config,this.statusCode)},C.prototype.hasErrors=function(){var e=d.isError(this.agent.config,this.statusCode),t=this.exceptions.length>0,r=this.userErrors.length>0;return t||r||e},C.prototype.hasOnlyExpectedErrors=function(){if(0===this.exceptions.length)return!1;for(let e=0;e<this.exceptions.length;e++){const t=this.exceptions[e];if(!(n.isExpectedException(this,t.error,this.agent.config,d)||n.shouldIgnoreError(this,t.error,this.agent.config)))return!1}return!0},C.prototype.getIntrinsicAttributes=function(){if(!this._intrinsicAttributes.totalTime){var e=this.agent.config;this._intrinsicAttributes.totalTime=.001*this.trace.getTotalTimeDurationInMillis(),e.distributed_tracing.enabled?this.addDistributedTraceIntrinsics(this._intrinsicAttributes):e.cross_application_tracer.enabled&&(this._intrinsicAttributes.path_hash=i.calculatePathHash(e.applications()[0],this.name||this._partialName,this.referringPathHash),this._intrinsicAttributes.trip_id=this.tripId||this.id,this.referringTransactionGuid&&(this._intrinsicAttributes.referring_transaction_guid=this.referringTransactionGuid),this.incomingCatId&&(this._intrinsicAttributes.client_cross_process_id=this.incomingCatId)),this.syntheticsData&&(this._intrinsicAttributes.synthetics_resource_id=this.syntheticsData.resourceId,this._intrinsicAttributes.synthetics_job_id=this.syntheticsData.jobId,this._intrinsicAttributes.synthetics_monitor_id=this.syntheticsData.monitorId)}return Object.assign(Object.create(null),this._intrinsicAttributes)},C.prototype.acceptDistributedTraceHeaders=function(e,t){if(null==t||"object"!=typeof t)return void o.trace("Ignoring distributed trace headers for transaction %s. Headers not passed in as object.",this.id);const r=E[e]?e:b.UNKNOWN,n=t.traceparent;if(n){o.trace("Accepting trace context DT payload for transaction %s",this.id);const e=t.tracestate;this.acceptTraceContextPayload(n,e,r)}else if("newrelic"in t){o.trace("Accepting newrelic DT payload for transaction %s",this.id);const e=t.newrelic;this._acceptDistributedTracePayload(e,r)}},C.prototype.insertDistributedTraceHeaders=function(e){if(!e)return void o.trace("insertDistributedTraceHeaders called without headers.");if(function(e){const t=e.traceparent,r=e.newrelic;(t||r)&&o.trace("insertDistributedTraceHeaders called on headers object that already contains distributed trace data. These may be overwritten. traceparent? '%s', newrelic? '%s'.",t,r)}(e),this._calculatePriority(),this.traceContext.addTraceContextHeaders(e),this.isDistributedTrace=!0,o.trace("Added outbound request w3c trace context headers in transaction %s",this.id),this.agent.config.distributed_tracing.exclude_newrelic_header)return void o.trace("Excluding newrelic header due to exclude_newrelic_header: true");try{const t=this._createDistributedTracePayload().httpSafe();e.newrelic=t,o.trace("Added outbound request distributed tracing headers in transaction %s",this.id)}catch(e){o.trace(e,"Failed to create distributed trace payload")}},C.prototype.acceptTraceContextPayload=function(e,t,r){if(this.isDistributedTrace)return o.warn("Already accepted or created a distributed trace payload for transaction %s, ignoring call",this.id),void(this.acceptedDistributedTrace?this.agent.recordSupportability("TraceContext/Accept/Ignored/Multiple"):this.agent.recordSupportability("TraceContext/Accept/Ignored/CreateBeforeAccept"));const n=this.traceContext.acceptTraceContextPayload(e,t);n.acceptedTraceparent&&(this.acceptedDistributedTrace=!0,this.isDistributedTrace=!0,this.traceId=n.traceId,this.parentSpanId=n.parentSpanId,this.parentTransportDuration=n.transportDuration,this.parentTransportType=r,n.acceptedTracestate&&(this.parentType=n.parentType,this.parentAcct=n.accountId,this.parentApp=n.appId,this.parentId=n.transactionId,this.sampled=n.sampled,this.priority=n.priority))},C.prototype._acceptDistributedTracePayload=function(e,t){if(!e)return void this.agent.recordSupportability("DistributedTrace/AcceptPayload/Ignored/Null");if(this.isDistributedTrace)return o.warn("Already accepted or created a distributed trace payload for transaction %s, ignoring call",this.id),void(this.parentId?this.agent.recordSupportability("DistributedTrace/AcceptPayload/Ignored/Multiple"):this.agent.recordSupportability("DistributedTrace/AcceptPayload/Ignored/CreateBeforeAccept"));const r=this.agent.config,n=r.distributed_tracing.enabled,i=r.trusted_account_key||r.account_id;if(!n||!i)return o.debug("Invalid configuration for distributed trace payload, not accepting (distributed_tracing.enabled: %s, trustKey: %s",n,i),void this.agent.recordSupportability("DistributedTrace/AcceptPayload/Exception");const s=this._getParsedPayload(e);if(!s)return;if(!s.v||!s.d)return s.v||o.warn("Received a distributed trace payload with no version field",this.id),s.d||o.warn("Received a distributed trace payload with no data field",this.id),void this.agent.recordSupportability("DistributedTrace/AcceptPayload/ParseException");const a=s.v&&"number"==typeof s.v[0]&&s.v[0];null==a&&(o.warn("Invalid distributed trace payload, not accepting"),this.agent.recordSupportability("DistributedTrace/AcceptPayload/Exception"));if(a>0)return void this.agent.recordSupportability("DistributedTrace/AcceptPayload/Ignored/MajorVersion");const c=s.d;if(!c)return o.warn("No distributed trace data received, not accepting payload"),void this.agent.recordSupportability("DistributedTrace/AcceptPayload/Exception");if(!w.every((function(e){return null!=c[e]}))||null==c.tx&&null==c.id)return void this.agent.recordSupportability("DistributedTrace/AcceptPayload/ParseException");if((c.tk||c.ac)!==i)return void this.agent.recordSupportability("DistributedTrace/AcceptPayload/Ignored/UntrustedAccount");this.parentType=c.ty,this.parentApp=c.ap,this.parentAcct=c.ac,this.parentTransportType=t,this.parentTransportDuration=Math.max(0,(Date.now()-c.ti)/1e3),this.traceId=c.tr,c.pr&&(this.priority=c.pr,this.sampled=null!=c.sa?c.sa:this.sampled);c.tx&&(this.parentId=c.tx);c.id&&(this.parentSpanId=c.id);this.isDistributedTrace=!0,this.acceptedDistributedTrace=!0,this.agent.recordSupportability("DistributedTrace/AcceptPayload/Success")},C.prototype._getParsedPayload=function(e){let t=e;if("string"==typeof e){if("{"!==e.charAt(0)&&"["!==e.charAt(0))try{e=Buffer.from(e,"base64").toString("utf-8")}catch(e){return o.warn(e,"Got unparseable distributed trace payload in transaction %s",this.id),this.agent.recordSupportability("DistributedTrace/AcceptPayload/ParseException"),null}try{t=JSON.parse(e)}catch(e){return o.warn(e,"Failed to parse distributed trace payload in transaction %s",this.id),this.agent.recordSupportability("DistributedTrace/AcceptPayload/ParseException"),null}}return t},C.prototype._createDistributedTracePayload=function(){const e=this.agent.config,t=e.account_id,r=e.primary_application_id,n=e.distributed_tracing.enabled;if(!t||!r||!n)return o.debug("Invalid configuration for distributed trace payload (distributed_tracing.enabled: %s, account_id: %s, application_id: %s) in transaction %s",n,t,r,this.id),new A;const i=this.agent.tracer.getSegment(),s={ty:"App",ac:t,ap:r,tx:this.id,tr:this.traceId,pr:this.priority,sa:this.sampled,ti:Date.now()};e.span_events.enabled&&this.sampled&&i&&(s.id=i.id);e.trusted_account_key&&e.trusted_account_key!==t&&(s.tk=e.trusted_account_key);return this.isDistributedTrace=!0,this.agent.recordSupportability("DistributedTrace/CreatePayload/Success"),new _(s)},C.prototype.addDistributedTraceIntrinsics=function(e){this._calculatePriority(),e.traceId=this.traceId,e.guid=this.id,e.priority=this.priority,e.sampled=!!this.sampled,this.parentType&&(e["parent.type"]=this.parentType);this.parentApp&&(e["parent.app"]=this.parentApp);this.parentAcct&&(e["parent.account"]=this.parentAcct);this.parentTransportType&&(e["parent.transportType"]=this.parentTransportType);null!=this.parentTransportDuration&&(e["parent.transportDuration"]=this.parentTransportDuration)},C.prototype.isSampled=function(){return this._calculatePriority(),this.sampled},C.prototype._calculatePriority=function(){null===this.priority&&(this.priority=Math.random(),this.sampled=this.agent.transactionSampler.shouldSample(Math.random()),this.sampled&&(this.priority+=1),this.priority=(1e6*this.priority|0)/1e6)},C.prototype.addRequestParameters=function(e){for(var t in e)if(u.hasOwn(e,t)){this.trace.attributes.addAttribute(g.NONE,"request.parameters."+t,e[t]);this.baseSegment.attributes.addAttribute(g.NONE,"request.parameters."+t,e[t])}},e.exports=C},function(e,t,r){"use strict";const n=r(91),i=r(166),o=r(2);function s(e,t,r){if(null==e||""===e)throw new Error("metrics must be created with apdexT");if(!t)throw new Error("metrics must be created with a mapper");if(!r)throw new Error("metrics must be created with a name normalizer");this.empty=!0,this.started=Date.now(),this.apdexT=e,this.mapper=t,this.normalizer=r,this.unscoped=Object.create(null),this.scoped=Object.create(null)}function a(e,t){for(var r in t)e[r]?e[r].merge(t[r]):e[r]=t[r]}s.prototype.measureMilliseconds=function(e,t,r,n){var i=this.getOrCreateMetric(e,t);return i.recordValueInMillis(r,n),i},s.prototype.measureBytes=function(e,t){var r=this.getOrCreateMetric(e);return r.recordValueInBytes(t),r},s.prototype.getOrCreateMetric=function(e,t){var r=this._resolve(t),i=r[e];return i||(this.empty=!1,i=r[e]=new n),i},s.prototype.getOrCreateApdexMetric=function(e,t,r){if(!e)throw new Error("Metrics must be named");var n=this._resolve(t);if(!n[e]){this.empty=!1;var s=e!==o.APDEX&&r>0?.001*r:this.apdexT;n[e]=new i(s)}return n[e]},s.prototype.getMetric=function(e,t){if(!e)throw new Error("Metrics must be named");return this._resolve(t)[e]},s.prototype.toJSON=function(){return this._toUnscopedData().concat(this._toScopedData())},s.prototype.merge=function(e,t){for(var r in this.empty=this.empty&&e.empty,t&&(this.started=Math.min(this.started,e.started)),a(this.unscoped,e.unscoped),e.scoped)a(this._resolve(r),e.scoped[r])},s.prototype._resolve=function(e){var t=this.unscoped;return e&&((t=this.scoped[e])||(t=this.scoped[e]=Object.create(null))),t},s.prototype._getUnscopedData=function(e){if(this.unscoped[e]){var t=this.normalizer.normalize(e);if(!t.ignore&&t.value)return[this.mapper.map(t.value),this.unscoped[e]]}},s.prototype._getScopedData=function(e,t){if(this.scoped[t][e]){var r=this.normalizer.normalize(e);if(!r.ignore&&r.value)return[this.mapper.map(r.value,t),this.scoped[t][e]]}},s.prototype._toUnscopedData=function(){var e=[];return Object.keys(this.unscoped).forEach((function(t){var r=this._getUnscopedData(t);r&&e.push(r)}),this),e},s.prototype._toScopedData=function(){var e=[];return Object.keys(this.scoped).forEach((function(t){Object.keys(this.scoped[t]).forEach((function(r){var n=this._getScopedData(r,t);n&&e.push(n)}),this)}),this),e},e.exports=s},function(e,t,r){"use strict";function n(){this.total=0,this.totalExclusive=0,this.min=0,this.max=0,this.sumOfSquares=0,this.callCount=0}n.prototype.recordValue=function(e,t){0===e||e||(e=0),0===t||t||(t=e),this.callCount>0?this.min=Math.min(e,this.min):this.min=e,this.max=Math.max(e,this.max),this.sumOfSquares+=e*e,++this.callCount,this.total+=e,this.totalExclusive+=t},n.prototype.recordValueInMillis=function(e,t){this.recordValue(.001*e,t>=0?.001*t:null)},n.prototype.recordValueInBytes=function(e,t){t=t||e,this.recordValue(e/1048576,t/1048576)},n.prototype.incrementCallCount=function(e){void 0===e&&(e=1),this.callCount+=e},n.prototype.merge=function(e){e.count&&!e.callCount&&(e.callCount=e.count),null==e.totalExclusive&&(e.totalExclusive=e.total),e.callCount>0&&(this.callCount>0?this.min=Math.min(this.min,e.min):this.min=e.min),this.max=Math.max(this.max,e.max),this.total+=e.total,this.totalExclusive+=e.totalExclusive,this.sumOfSquares+=e.sumOfSquares,this.callCount+=e.callCount},n.prototype.toJSON=function(){return[this.callCount,this.total,this.totalExclusive,this.min,this.max,this.sumOfSquares]},e.exports=n},function(e,t,r){"use strict";var n=r(13),i=r(32);e.exports={encode:function(e,t){try{i.deflate(n(e),(function(e,r){return e?t(e):t(null,r.toString("base64"))}))}catch(e){return t(e)}},decode:function(e,t){i.inflate(Buffer.from(e,"base64"),(function(e,r){if(e)return t(e);let n;try{n=JSON.parse(r)}catch(e){return t(e)}return t(null,n)}))},encodeSync:function(e){return i.deflateSync(n(e)).toString("base64")},decodeSync:function(e){return JSON.parse(i.inflateSync(Buffer.from(e,"base64")))}}},function(e,t,r){"use strict";const n=r(0).child({component:"PromiseShim"}),i=r(18);function o(e,t){const r={executor:t[0],promise:null,self:null,args:null};function n(t,n){r.self=this,r.args=e.argsToArray.apply(e,arguments),r.args[0]=s(r,t),r.args[1]=s(r,n)}n.__NR_executorContext=r,t[0]=n}function s(e,t){return function(r){const n=e.promise;n&&n.__NR_context&&n.__NR_context.getSegment().touch(),t(r)}}function a(e,t,r,n){if(!e.isWrapped(t)&&e.isFunction(t))return function(){if(!(this instanceof e._class))return t.apply(this,arguments);const r=e.getSegment(),i=this;let o=!1;const s=new Array(arguments.length);for(let e=0;e<arguments.length;++e)s[e]=c(arguments[e],e,arguments.length);const a=t.apply(this,s);return!o&&a instanceof e._class&&a!==i&&u.link(i,a,r),a;function c(t,r,i){return!e.isFunction(t)||e.isWrapped(t)||!n&&r!==i-1?(o=e.isWrapped(t),t):function(){if(!a||!a.__NR_context)return t.apply(this,arguments);let r=a.__NR_context.getSegment();const n=r||e.getSegment();n&&n!==r&&(a.__NR_context.setSegment(n),r=n);let i=null;try{i=e.applySegment(t,r,!0,this,arguments)}finally{i&&"function"==typeof i.then&&(i=a.__NR_context.continueContext(i))}return i}}}}e.exports=class extends i{constructor(e,t,r){super(e,t,r),this._logger=n.child({module:t}),this._class=null}static get Contextualizer(){return u}setClass(e){this._class=e}isPromiseInstance(e){return!!this._class&&e instanceof this._class}wrapConstructor(e,t){return this.wrapClass(e,t,{pre:function(e,t,r,n){1===n.length&&e.isFunction(n[0])&&e.getActiveSegment()&&o(e,n)},post:function(e,t,r,n){const i=n[0],o=i&&i.__NR_executorContext;if(o&&e.isFunction(o.executor)){o.promise=this,u.link(null,this,e.getSegment());try{o.executor.apply(o.self,o.args)}catch(e){(0,o.args[1])(e)}}}})}wrapExecutorCaller(e,t){return this.wrap(e,t,(function(e,t){if(e.isFunction(t)&&!e.isWrapped(t))return function(r){var n=e.getActiveSegment();if(!this||!n)return t.apply(this,arguments);this.__NR_context||u.link(null,this,n);const i=e.argsToArray.apply(e,arguments);o(e,i);const s=t.apply(this,i),a=i[0].__NR_executorContext;a.promise=this;try{r.apply(a.self,a.args)}catch(e){(0,a.args[1])(e)}return s}}))}wrapCast(e,t){return this.wrap(e,t,(function(e,t){if(e.isFunction(t)&&!e.isWrapped(t))return function(){const r=e.getSegment(),n=t.apply(this,arguments);return r&&u.link(null,n,r),n}}))}wrapThen(e,t){return this.wrap(e,t,a,[!0])}wrapCatch(e,t){return this.wrap(e,t,a,[!1])}wrapPromisify(e,t){return this.wrap(e,t,(function(e,t){if(e.isFunction(t)&&!e.isWrapped(t))return function(){const r=t.apply(this,arguments);return"function"!=typeof r?r:(Object.keys(r).forEach((function(e){n[e]=r[e]})),n);function n(){const t=e.getActiveSegment();if(!t)return r.apply(this,arguments);const n=e.applySegment(r,t,!0,this,arguments);return u.link(null,n,t),n}}}))}};class c{constructor(e){this.segments=[e]}branch(){return this.segments.push(null)-1}}class u{constructor(e,t){this.parentIdx=-1,this.idx=e,this.context=t,this.child=null}static link(e,t,r){let n=e&&e.__NR_context;if(n&&!n.isActive()&&(n=e.__NR_context=null),n){if(n.child){-1!==n.parentIdx&&(n.idx=n.context.branch());let e=n,t=n.child;const r=n.context.branch();do{t.parentIdx=e.idx,t.idx=r,e=t,t=t.child}while(t);n.child=!1}const e=!1===n.child?n.context.branch():n.idx;t.__NR_context=new u(e,n.context),t.__NR_context.parentIdx=n.idx,null===n.child&&(n.child=t.__NR_context)}else r&&(t.__NR_context=new u(0,new c(r)))}isActive(){const e=this.context.segments,t=e[this.idx]||e[this.parentIdx]||e[0];return t&&t.transaction.isActive()}getSegment(){const e=this.context.segments;let t=e[this.idx];return null==t&&(t=e[this.idx]=e[this.parentIdx]||e[0]),t}setSegment(e){return this.context.segments[this.idx]=e}toJSON(){}continueContext(e){const t=this,r=e.__NR_context;return r?"function"==typeof e.finally?e.finally(n):e.then((function(e){return n(),e}),(function(e){throw n(),e})):e;function n(){t.setSegment(r.getSegment())}}}},function(e,t,r){"use strict";var n=r(88),i=r(0).child({component:"WebFrameworkShim"}),o=r(2),s=r(25),a=r(18),c=r(85),u=r(19),l=r(3),f={CONNECT:"Connect",DIRECTOR:"Director",EXPRESS:"Expressjs",HAPI:"Hapi",KOA:"Koa",RESTIFY:"Restify",FASTIFY:"Fastify"},p={APPLICATION:{name:"Mounted App: ",path:!0,record:!1},ERRORWARE:{name:"",path:!1,record:!0},MIDDLEWARE:{name:"",path:!1,record:!0},PARAMWARE:{name:"",path:!1,record:!0},ROUTE:{name:"Route Path: ",path:!0,record:!1},ROUTER:{name:"Router: ",path:!0,record:!1}},d={APPLICATION:"APPLICATION",ERRORWARE:"ERRORWARE",MIDDLEWARE:"MIDDLEWARE",PARAMWARE:"PARAMWARE",ROUTE:"ROUTE",ROUTER:"ROUTER"};function h(e,t,r,n){s.call(this,e,t,r),this._logger=i.child({module:t}),n&&this.setFramework(n),this._routeParser=g,this._errorPredicate=m,this._responsePredicate=y}function g(e,t,r,n){return n instanceof RegExp?"/"+n.source+"/":"string"==typeof n?n:"<unknown>"}function m(){return!0}function y(){return!1}function v(e,t,r){function n(){let t=r.route||"/";return e.isFunction(t)&&(t=t()),t instanceof RegExp?t="/"+t.source+"/":e.isArray(t)?t=t.join(","):"/"!==t[0]&&(t="/"+t),t}const i=p[r.type],o=r.name||e.getName(e.getOriginal(t));let s=e._metrics.PREFIX+i.name;function a(e){let t=s;return i.path?t+=e:e.length>1&&(t+="/"+e),t}i.record&&(s=e._metrics.MIDDLEWARE+s+o);var c,u=r.type===d.ERRORWARE,l=e.isFunction(r.req)?r.req:(c=r.req,function(e,t,r,n){var i=e.normalizeIndex(n.length,c);return null!==i&&n[i]?n[i]:(e.logger.debug("Can not find request parameter, not recording."),null)});return e.record(t,r.promise?function(e,t,o,c){const f=n();var p=l.call(this,e,t,o,c),d=E(e,p);if(!d||!d.transaction)return e.logger.debug({txInfo:d},"Could not get transaction info in %s (%s)",f,o),null;d.transaction.nameState.setPrefix(e._metrics.FRAMEWORK),d.errorHandled|=u;var h=e.agent.config.high_security?null:r.params.call(this,e,t,o,c,p);r.appendPath&&d.transaction.nameState.appendPath(f,h);var g=null;if(i.record){var m=d.transaction.nameState.getPath()||"";g=w(e,s+"/"+m)}var y=function(e,t,r,n){d.segmentStack.push(n)};if(e.isFunction(r.next)){const e={route:f,wrapNext:r.next,isErrorWare:u,isPromise:!0,appendPath:r.appendPath};y=b(e,d)}else{var v=e.normalizeIndex(c.length,r.next);if(null!==v&&c[v]instanceof Function){const e={route:f,wrapNext:function(e,t,r,n,i){i(n,v)},isErrorWare:u,isPromise:!0,appendPath:r.appendPath};y=b(e,d)}}return{name:a(f),parent:d.segmentStack[d.segmentStack.length-1],promise:r.promise,callback:y,recorder:g,parameters:h,after:function(e,t,n,i,o){e._responsePredicate(c,o)&&d.transaction.nameState.freeze(),A(e,i)?_(e,d,i):(d.errorHandled=!0,r.appendPath&&d.transaction.nameState.popPath(f)),d.segmentStack.pop()}}}:function(e,t,o,c){const f=n();var p=l.call(this,e,t,o,c),d=E(e,p);if(!d||!d.transaction)return e.logger.debug({txInfo:d},"Could not get transaction info in %s (%s)",f,o),null;d.transaction.nameState.setPrefix(e._metrics.FRAMEWORK),d.errorHandled|=u;var h=e.agent.config.high_security?null:r.params.call(this,e,t,o,c,p),g=null;if(e.isFunction(r.next)){const e={route:f,wrapNext:r.next,isErrorWare:u,isPromise:!1,appendPath:r.appendPath};g=b(e,d)}else{var m=e.normalizeIndex(c.length,r.next);if(null!==m&&c[m]instanceof Function){const e={route:f,wrapNext:function(e,t,r,n,i){i(n,m)},isErrorWare:u,isPromise:!1,appendPath:r.appendPath};g=b(e,d)}}!u&&r.appendPath&&d.transaction.nameState.appendPath(f,h);var y=null;if(i.record){var v=d.transaction.nameState.getPath()||"";y=w(e,s+"/"+v)}return{name:a(f),callback:g,parent:d.segmentStack[d.segmentStack.length-1],recorder:y,parameters:h,after:function(e,t,n,i){var o=A(e,i);o?_(e,d,i):g||u||!r.appendPath||d.transaction.nameState.popPath(f),!o&&g||d.segmentStack.pop()}}})}function b(e,t){return function(r,n,i,o,s){o&&(t.segmentStack.push(o),e.wrapNext(r,n,i,s,(function(n,i,s){r.wrap(n,i,(function(r,n){const i=o||r.getSegment();return r.bindSegment((function(i){A(r,i)?_(r,t,i):s||e.isErrorWare||!e.appendPath||o.transaction.nameState.popPath(e.route),e.isPromise||(t.segmentStack.pop(),o.end());var a=n.apply(this,arguments);return e.isPromise&&r.isPromise(a)?a.then((function(r){return e.appendPath&&o.transaction.nameState.appendPath(e.route),t.segmentStack.push(o),r})):a}),i)}))})))}}function E(e,t){try{return t.__NR_transactionInfo||null}catch(t){return e.logger.debug(t,"Failed to fetch transaction info from req"),null}}function w(e,t){return function(e,r){var n=e.getDurationInMillis(),i=e.getExclusiveDurationInMillis(),o=e.transaction;r&&o.measure(t,r,n,i),o.measure(t,null,n,i)}}function _(e,t,r){t.error=r,t.errorHandled=!1}function A(e,t){return t&&e._errorPredicate(t)}function C(e,t){for(var r=["matchArity"],n=0;n<r.length;++n){var i=r[n];null!=t[i]&&(e[i]=t[i])}}e.exports=h,l.inherits(h,s),h.FRAMEWORK_NAMES=f,Object.keys(f).forEach((function(e){a.defineProperty(h,e,f[e]),a.defineProperty(h.prototype,e,f[e])})),h.MIDDLEWARE_TYPE_NAMES=d,Object.keys(d).forEach((function(e){a.defineProperty(h,e,d[e]),a.defineProperty(h.prototype,e,d[e])})),h.prototype.setRouteParser=function(e){if(!this.isFunction(e))return this.logger.debug("Given route parser is not a function.");this._routeParser=e},h.prototype.setFramework=function(e){this._metrics={PREFIX:e+"/",FRAMEWORK:e,MIDDLEWARE:o.MIDDLEWARE.PREFIX},this.agent.environment.setFramework(e),this._logger=this._logger.child({framework:e}),this.logger.trace({metrics:this._metrics},"Framework metric names set")},h.prototype.setTransactionUri=function(e){var t=this.tracer.getTransaction();if(!t)return;t.nameState.setName(this._metrics.FRAMEWORK,t.verb,o.ACTION_DELIMITER,e)},h.prototype.wrapMiddlewareMounter=function(e,t,r){!t||this.isString(t)||this.isArray(t)||(r=t,t=null);this.isFunction(r)&&(r={wrapper:r});r=this.setDefaults(r,{route:null,endpoint:null});var n={wrapper:function(e,t,n){return e.isFunction(t)?function(){var i=e.argsToArray.apply(e,arguments),o=null,s=null;if(e.isNumber(r.route)){o=e.normalizeIndex(i.length,r.route),s=null===o?null:i[o];const a=e.isArray(s)&&e.isFunction(s[0]);e.isFunction(s)||a?(o=null,s=null):s=e.isArray(s)?s.map(r=>e._routeParser.call(this,e,t,n,r)):e._routeParser.call(this,e,t,n,s)}else null!==r.route&&(s=e._routeParser.call(this,e,t,n,r.route));function a(t,n){for(let o=0;o<n.length;++o)if(o!==t){var i=n[o];i instanceof Array?a(null,i):n[o]=r.wrapper.call(this,e,i,e.getName(i),s)}}return a.call(this,o,i),t.apply(this,i)}:t}};return C(n,r),this.wrap(e,t,n)},h.prototype.recordParamware=function(e,t,r){this.isObject(t)&&!this.isArray(t)&&(r=t,t=null);r=r||Object.create(null);var n=new c.MiddlewareSpec(r);r&&this.isString(r.name)?n.route="[param handler :"+r.name+"]":n.route="[param handler]";n.type=d.PARAMWARE;var i=new c.WrapSpec((function(e,t,r){return n.name=r,v(e,t,n)}));return C(i,r),this.wrap(e,t,i)},h.prototype.recordMiddleware=function(e,t,r){this.isObject(t)&&!this.isArray(t)&&(r=t,t=null);r=r||Object.create(null);var n=new c.MiddlewareSpec(r),i=new c.WrapSpec((function(e,t){return v(e,t,n)}));return C(i,r),this.wrap(e,t,i)},h.prototype.recordRender=function(e,t,r){this.isObject(t)&&!this.isArray(t)&&(r=t,t=null);return r=this.setDefaults(r,{view:this.FIRST,callback:null,promise:null}),this.record(e,t,(function(e,t,i,s){var a=e.normalizeIndex(s.length,r.view);return null===a?(e.logger.debug("Invalid spec.view (%d vs %d), not recording.",r.view,s.length),null):{name:o.VIEW.PREFIX+s[a]+o.VIEW.RENDER,callback:r.callback,promise:r.promise,recorder:n,rowCallback:null,stream:null,internal:!1}}))},h.prototype.noticeError=function(e,t){var r=E(this,e);r&&A(this,t)&&_(this,r,t)},h.prototype.errorHandled=function(e,t){var r=E(this,e);r&&r.error===t&&(r.errorHandled=!0)},h.prototype.setErrorPredicate=function(e){this._errorPredicate=e},h.prototype.setResponsePredicate=function(e){this._responsePredicate=e},h.prototype.savePossibleTransactionName=function(e){var t=E(this,e);t&&t.transaction&&t.transaction.nameState.markPath()},h.prototype.captureUrlParams=function(e){var t=this.getSegment();t&&!this.agent.config.high_security&&u.copyParameters(e,t.parameters)}},function(e,t){e.exports=require("module")},function(e,t,r){"use strict";const n=r(0).child({component:"transactionHandle"}),i=r(2);function o(e,t){if(!e)return void n.warnOnce("Cannot add TransactionHandle API support metric. The metrics collection is missing.");const r=e.getOrCreateMetric(i.SUPPORTABILITY.TRANSACTION_API+"/"+t);return r.incrementCallCount(),r}e.exports=class{constructor(e,t){this._transaction=e,this._metrics=t}end(e){const t=this._transaction.end();"function"==typeof e&&setImmediate(e,t)}ignore(){this._transaction.setForceIgnore(!0)}isSampled(){return this._transaction.isSampled()}acceptDistributedTraceHeaders(e,t){return o(this._metrics,"acceptDistributedTraceHeaders"),this._transaction.acceptDistributedTraceHeaders(e,t)}insertDistributedTraceHeaders(e){return o(this._metrics,"insertDistributedTraceHeaders"),this._transaction.insertDistributedTraceHeaders(e)}},e.exports.Stub=class{end(e){e instanceof Function&&setImmediate(e),n.debug("No transaction found when calling Transaction.end")}ignore(){n.debug("No transaction found when calling Transaction.ignore")}isSampled(){n.debug("No transaction found when calling Transaction.isSampled")}acceptDistributedTraceHeaders(){n.debug("No transaction found when calling Transaction.acceptDistributedTraceHeaders")}insertDistributedTraceHeaders(){n.debug("No transaction found when calling Transaction.insertDistributedTraceHeaders")}}},function(e,t){e.exports=require("child_process")},function(e,t,r){"use strict";var n=r(0).child({component:"docker-info"}),i=r(26),o=r(2),s=r(10);e.exports.getVendorInfo=function(e,t){if(!e.config.utilization||!e.config.utilization.detect_docker)return t(null,null);if(a)return t(null,a);if(!s.platform().match(/linux/i))return n.debug("Platform is not a flavor of linux, omitting docker info"),t(null);i.readProc("/proc/self/cgroup",(function(e,r){if(!r)return t(null);var i=null;!function(e,t,r){for(var n=new RegExp("^\\d+:[^:]*?\\b"+t+"\\b[^:]*:"),i=e.split("\n"),o=0;o<i.length;++o){var s=i[o];if(n.test(s)&&!r(s.split(":")[2]))break}}(r,"cpu",(function(e){var t=/(?:^|[^0-9a-f])([0-9a-f]{64})(?:[^0-9a-f]|$)/.exec(e);return!t||(i=t[1],!1)})),i?t(null,a={id:i}):(n.debug("No matching cpu group found."),t(null,null))}))},e.exports.clearVendorCache=function(){a=null},e.exports.getBootId=function(e,t){if(!/linux/i.test(s.platform()))return n.debug("Platform is not a flavor of linux, omitting boot info"),setImmediate(t,null,null);function r(){e.metrics.getOrCreateMetric(o.UTILIZATION.BOOT_ID_ERROR).incrementCallCount()}i.readProc("/proc/sys/kernel/random/boot_id",(function(e,n){return n?(n=n.trim())!==Buffer.from(n,"ascii").toString()?(r(),t(null,null)):(36!==n.length&&(r(),n.length>128&&(n=n.substr(0,128))),t(null,n)):(r(),t(null,null))}))};var a=null},function(e,t){e.exports=require("tls")},function(e,t,r){e.exports=function(e){function t(e){let r,i,o,s=null;function a(...e){if(!a.enabled)return;const n=a,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];r=o.call(n,t),e.splice(s,1),s--}return r}),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(210),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},function(e,t,r){"use strict";const n=r(10),i=r(212),o=process.env;let s;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;const t=s?1:0;if("win32"===process.platform){const e=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in o)||"codeship"===o.CI_NAME?1:t;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:(o.TERM,t)}(e))}i("no-color")||i("no-colors")||i("color=false")?s=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,r){"use strict";e.exports=["-----BEGIN CERTIFICATE-----\nMIIENjCCAx6gAwIBAgIBATANBgkqhkiG9w0BAQUFADBvMQswCQYDVQQGEwJTRTEU\nMBIGA1UEChMLQWRkVHJ1c3QgQUIxJjAkBgNVBAsTHUFkZFRydXN0IEV4dGVybmFs\nIFRUUCBOZXR3b3JrMSIwIAYDVQQDExlBZGRUcnVzdCBFeHRlcm5hbCBDQSBSb290\nMB4XDTAwMDUzMDEwNDgzOFoXDTIwMDUzMDEwNDgzOFowbzELMAkGA1UEBhMCU0Ux\nFDASBgNVBAoTC0FkZFRydXN0IEFCMSYwJAYDVQQLEx1BZGRUcnVzdCBFeHRlcm5h\nbCBUVFAgTmV0d29yazEiMCAGA1UEAxMZQWRkVHJ1c3QgRXh0ZXJuYWwgQ0EgUm9v\ndDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALf3GjPm8gAELTngTlvt\nH7xsD821+iO2zt6bETOXpClMfZOfvUq8k+0DGuOPz+VtUFrWlymUWoCwSXrbLpX9\nuMq/NzgtHj6RQa1wVsfwTz/oMp50ysiQVOnGXw94nZpAPA6sYapeFI+eh6FqUNzX\nmk6vBbOmcZSccbNQYArHE504B4YCqOmoaSYYkKtMsE8jqzpPhNjfzp/haW+710LX\na0Tkx63ubUFfclpxCDezeWWkWaCUN/cALw3CknLa0Dhy2xSoRcRdKn23tNbE7qzN\nE0S3ySvdQwAl+mG5aWpYIxG3pzOPVnVZ9c0p10a3CitlttNCbxWyuHv77+ldU9U0\nWicCAwEAAaOB3DCB2TAdBgNVHQ4EFgQUrb2YejS0Jvf6xCZU7wO94CTLVBowCwYD\nVR0PBAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wgZkGA1UdIwSBkTCBjoAUrb2YejS0\nJvf6xCZU7wO94CTLVBqhc6RxMG8xCzAJBgNVBAYTAlNFMRQwEgYDVQQKEwtBZGRU\ncnVzdCBBQjEmMCQGA1UECxMdQWRkVHJ1c3QgRXh0ZXJuYWwgVFRQIE5ldHdvcmsx\nIjAgBgNVBAMTGUFkZFRydXN0IEV4dGVybmFsIENBIFJvb3SCAQEwDQYJKoZIhvcN\nAQEFBQADggEBALCb4IUlwtYj4g+WBpKdQZic2YR5gdkeWxQHIzZlj7DYd7usQWxH\nYINRsPkyPef89iYTx4AWpb9a/IfPeHmJIZriTAcKhjW88t5RxNKWt9x+Tu5w/Rw5\n6wwCURQtjr0W4MHfRnXnJK3s9EK0hZNwEGe6nQY1ShjTK3rMUUKhemPR5ruhxSvC\nNr4TDea9Y355e6cJDUCrat2PisP29owaQgVR1EX1n6diIWgVIEM8med8vSTYqZEX\nc4g/VhsxOBi0cQ+azcgOno4uG+GMmIPLHzHxREzGBHNJdmAPx/i9F4BrLunMTA5a\nmnkPIAou1Z5jJh5VkpTYghdae9C8x49OhgQ=\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIDtzCCAp+gAwIBAgIQDOfg5RfYRv6P5WD8G/AwOTANBgkqhkiG9w0BAQUFADBl\nMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3\nd3cuZGlnaWNlcnQuY29tMSQwIgYDVQQDExtEaWdpQ2VydCBBc3N1cmVkIElEIFJv\nb3QgQ0EwHhcNMDYxMTEwMDAwMDAwWhcNMzExMTEwMDAwMDAwWjBlMQswCQYDVQQG\nEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNl\ncnQuY29tMSQwIgYDVQQDExtEaWdpQ2VydCBBc3N1cmVkIElEIFJvb3QgQ0EwggEi\nMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCtDhXO5EOAXLGH87dg+XESpa7c\nJpSIqvTO9SA5KFhgDPiA2qkVlTJhPLWxKISKityfCgyDF3qPkKyK53lTXDGEKvYP\nmDI2dsze3Tyoou9q+yHyUmHfnyDXH+Kx2f4YZNISW1/5WBg1vEfNoTb5a3/UsDg+\nwRvDjDPZ2C8Y/igPs6eD1sNuRMBhNZYW/lmci3Zt1/GiSw0r/wty2p5g0I6QNcZ4\nVYcgoc/lbQrISXwxmDNsIumH0DJaoroTghHtORedmTpyoeb6pNnVFzF1roV9Iq4/\nAUaG9ih5yLHa5FcXxH4cDrC0kqZWs72yl+2qp/C3xag/lRbQ/6GW6whfGHdPAgMB\nAAGjYzBhMA4GA1UdDwEB/wQEAwIBhjAPBgNVHRMBAf8EBTADAQH/MB0GA1UdDgQW\nBBRF66Kv9JLLgjEtUYunpyGd823IDzAfBgNVHSMEGDAWgBRF66Kv9JLLgjEtUYun\npyGd823IDzANBgkqhkiG9w0BAQUFAAOCAQEAog683+Lt8ONyc3pklL/3cmbYMuRC\ndWKuh+vy1dneVrOfzM4UKLkNl2BcEkxY5NM9g0lFWJc1aRqoR+pWxnmrEthngYTf\nfwk8lOa4JiwgvT2zKIn3X/8i4peEH+ll74fg38FnSbNd67IJKusm7Xi+fT8r87cm\nNW1fiQG2SVufAQWbqz0lwcy2f8Lxb4bG+mRo64EtlOtCt/qMHt1i8b5QZ7dsvfPx\nH2sMNgcWfzd8qVttevESRmCD1ycEvkvOl77DZypoEd+A5wwzZr8TDRRu838fYxAe\n+o0bJW1sj6W3YQGx0qMmoRBxna3iw/nDmVG3KwcIzi7mULKn+gpFL6Lw8g==\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIDljCCAn6gAwIBAgIQC5McOtY5Z+pnI7/Dr5r0SzANBgkqhkiG9w0BAQsFADBl\nMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3\nd3cuZGlnaWNlcnQuY29tMSQwIgYDVQQDExtEaWdpQ2VydCBBc3N1cmVkIElEIFJv\nb3QgRzIwHhcNMTMwODAxMTIwMDAwWhcNMzgwMTE1MTIwMDAwWjBlMQswCQYDVQQG\nEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNl\ncnQuY29tMSQwIgYDVQQDExtEaWdpQ2VydCBBc3N1cmVkIElEIFJvb3QgRzIwggEi\nMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDZ5ygvUj82ckmIkzTz+GoeMVSA\nn61UQbVH35ao1K+ALbkKz3X9iaV9JPrjIgwrvJUXCzO/GU1BBpAAvQxNEP4Htecc\nbiJVMWWXvdMX0h5i89vqbFCMP4QMls+3ywPgym2hFEwbid3tALBSfK+RbLE4E9Hp\nEgjAALAcKxHad3A2m67OeYfcgnDmCXRwVWmvo2ifv922ebPynXApVfSr/5Vh88lA\nbx3RvpO704gqu52/clpWcTs/1PPRCv4o76Pu2ZmvA9OPYLfykqGxvYmJHzDNw6Yu\nYjOuFgJ3RFrngQo8p0Quebg/BLxcoIfhG69Rjs3sLPr4/m3wOnyqi+RnlTGNAgMB\nAAGjQjBAMA8GA1UdEwEB/wQFMAMBAf8wDgYDVR0PAQH/BAQDAgGGMB0GA1UdDgQW\nBBTOw0q5mVXyuNtgv6l+vVa1lzan1jANBgkqhkiG9w0BAQsFAAOCAQEAyqVVjOPI\nQW5pJ6d1Ee88hjZv0p3GeDgdaZaikmkuOGybfQTUiaWxMTeKySHMq2zNixya1r9I\n0jJmwYrA8y8678Dj1JGG0VDjA9tzd29KOVPt3ibHtX2vK0LRdWLjSisCx1BL4Gni\nlmwORGYQRI+tBev4eaymG+g3NJ1TyWGqolKvSnAWhsI6yLETcDbYz+70CjTVW0z9\nB5yiutkBclzzTcHdDrEcDcRjvq30FPuJ7KJBDkzMyFdA0G4Dqs0MjomZmWzwPDCv\nON9vvKO+KSAnq3T/EyJ43pdSVR6DtVQgA+6uwE9W3jfMw3+qBCe703e4YtsXfJwo\nIhNzbM8m9Yop5w==\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIICRjCCAc2gAwIBAgIQC6Fa+h3foLVJRK/NJKBs7DAKBggqhkjOPQQDAzBlMQsw\nCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cu\nZGlnaWNlcnQuY29tMSQwIgYDVQQDExtEaWdpQ2VydCBBc3N1cmVkIElEIFJvb3Qg\nRzMwHhcNMTMwODAxMTIwMDAwWhcNMzgwMTE1MTIwMDAwWjBlMQswCQYDVQQGEwJV\nUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQu\nY29tMSQwIgYDVQQDExtEaWdpQ2VydCBBc3N1cmVkIElEIFJvb3QgRzMwdjAQBgcq\nhkjOPQIBBgUrgQQAIgNiAAQZ57ysRGXtzbg/WPuNsVepRC0FFfLvC/8QdJ+1YlJf\nZn4f5dwbRXkLzMZTCp2NXQLZqVneAlr2lSoOjThKiknGvMYDOAdfVdp+CW7if17Q\nRSAPWXYQ1qAk8C3eNvJsKTmjQjBAMA8GA1UdEwEB/wQFMAMBAf8wDgYDVR0PAQH/\nBAQDAgGGMB0GA1UdDgQWBBTL0L2p4ZgFUaFNN6KDec6NHSrkhDAKBggqhkjOPQQD\nAwNnADBkAjAlpIFFAmsSS3V0T8gj43DydXLefInwz5FyYZ5eEJJZVrmDxxDnOOlY\nJjZ91eQ0hjkCMHw2U/Aw5WJjOpnitqM7mzT6HtoQknFekROn3aRukswy1vUhZscv\n6pZjamVFkpUBtA==\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIDrzCCApegAwIBAgIQCDvgVpBCRrGhdWrJWZHHSjANBgkqhkiG9w0BAQUFADBh\nMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3\nd3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBD\nQTAeFw0wNjExMTAwMDAwMDBaFw0zMTExMTAwMDAwMDBaMGExCzAJBgNVBAYTAlVT\nMRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxGTAXBgNVBAsTEHd3dy5kaWdpY2VydC5j\nb20xIDAeBgNVBAMTF0RpZ2lDZXJ0IEdsb2JhbCBSb290IENBMIIBIjANBgkqhkiG\n9w0BAQEFAAOCAQ8AMIIBCgKCAQEA4jvhEXLeqKTTo1eqUKKPC3eQyaKl7hLOllsB\nCSDMAZOnTjC3U/dDxGkAV53ijSLdhwZAAIEJzs4bg7/fzTtxRuLWZscFs3YnFo97\nnh6Vfe63SKMI2tavegw5BmV/Sl0fvBf4q77uKNd0f3p4mVmFaG5cIzJLv07A6Fpt\n43C/dxC//AH2hdmoRBBYMql1GNXRor5H4idq9Joz+EkIYIvUX7Q6hL+hqkpMfT7P\nT19sdl6gSzeRntwi5m3OFBqOasv+zbMUZBfHWymeMr/y7vrTC0LUq7dBMtoM1O/4\ngdW7jVg/tRvoSSiicNoxBN33shbyTApOB6jtSj1etX+jkMOvJwIDAQABo2MwYTAO\nBgNVHQ8BAf8EBAMCAYYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUA95QNVbR\nTLtm8KPiGxvDl7I90VUwHwYDVR0jBBgwFoAUA95QNVbRTLtm8KPiGxvDl7I90VUw\nDQYJKoZIhvcNAQEFBQADggEBAMucN6pIExIK+t1EnE9SsPTfrgT1eXkIoyQY/Esr\nhMAtudXH/vTBH1jLuG2cenTnmCmrEbXjcKChzUyImZOMkXDiqw8cvpOp/2PV5Adg\n06O/nVsJ8dWO41P0jmP6P6fbtGbfYmbW0W5BjfIttep3Sp+dWOIrWcBAI+0tKIJF\nPnlUkiaY4IBIqDfv8NZ5YBberOgOzW6sRBc4L0na4UU+Krk2U886UAb3LujEV0ls\nYSEY1QSteDwsOoBrp+uvFRTp2InBuThs4pFsiv9kuXclVzDAGySj4dzp30d8tbQk\nCAUw7C29C79Fv1C5qfPrmAESrciIxpg0X40KPMbp1ZWVbd4=\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIDjjCCAnagAwIBAgIQAzrx5qcRqaC7KGSxHQn65TANBgkqhkiG9w0BAQsFADBh\nMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3\nd3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBH\nMjAeFw0xMzA4MDExMjAwMDBaFw0zODAxMTUxMjAwMDBaMGExCzAJBgNVBAYTAlVT\nMRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxGTAXBgNVBAsTEHd3dy5kaWdpY2VydC5j\nb20xIDAeBgNVBAMTF0RpZ2lDZXJ0IEdsb2JhbCBSb290IEcyMIIBIjANBgkqhkiG\n9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuzfNNNx7a8myaJCtSnX/RrohCgiN9RlUyfuI\n2/Ou8jqJkTx65qsGGmvPrC3oXgkkRLpimn7Wo6h+4FR1IAWsULecYxpsMNzaHxmx\n1x7e/dfgy5SDN67sH0NO3Xss0r0upS/kqbitOtSZpLYl6ZtrAGCSYP9PIUkY92eQ\nq2EGnI/yuum06ZIya7XzV+hdG82MHauVBJVJ8zUtluNJbd134/tJS7SsVQepj5Wz\ntCO7TG1F8PapspUwtP1MVYwnSlcUfIKdzXOS0xZKBgyMUNGPHgm+F6HmIcr9g+UQ\nvIOlCsRnKPZzFBQ9RnbDhxSJITRNrw9FDKZJobq7nMWxM4MphQIDAQABo0IwQDAP\nBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQEAwIBhjAdBgNVHQ4EFgQUTiJUIBiV\n5uNu5g/6+rkS7QYXjzkwDQYJKoZIhvcNAQELBQADggEBAGBnKJRvDkhj6zHd6mcY\n1Yl9PMWLSn/pvtsrF9+wX3N3KjITOYFnQoQj8kVnNeyIv/iPsGEMNKSuIEyExtv4\nNeF22d+mQrvHRAiGfzZ0JFrabA0UWTW98kndth/Jsw1HKj2ZL7tcu7XUIOGZX1NG\nFdtom/DzMNU+MeKNhJ7jitralj41E6Vf8PlwUHBHQRFXGU7Aj64GxJUTFy8bJZ91\n8rGOmaFvE7FBcf6IKshPECBV1/MUReXgRPTqh5Uykw7+U0b6LJ3/iyK5S9kJRaTe\npLiaWN0bfVKfjllDiIGknibVb63dDcY3fe0Dkhvld1927jyNxF1WW6LZZm6zNTfl\nMrY=\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIICPzCCAcWgAwIBAgIQBVVWvPJepDU1w6QP1atFcjAKBggqhkjOPQQDAzBhMQsw\nCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cu\nZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBHMzAe\nFw0xMzA4MDExMjAwMDBaFw0zODAxMTUxMjAwMDBaMGExCzAJBgNVBAYTAlVTMRUw\nEwYDVQQKEwxEaWdpQ2VydCBJbmMxGTAXBgNVBAsTEHd3dy5kaWdpY2VydC5jb20x\nIDAeBgNVBAMTF0RpZ2lDZXJ0IEdsb2JhbCBSb290IEczMHYwEAYHKoZIzj0CAQYF\nK4EEACIDYgAE3afZu4q4C/sLfyHS8L6+c/MzXRq8NOrexpu80JX28MzQC7phW1FG\nfp4tn+6OYwwX7Adw9c+ELkCDnOg/QW07rdOkFFk2eJ0DQ+4QE2xy3q6Ip6FrtUPO\nZ9wj/wMco+I+o0IwQDAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQEAwIBhjAd\nBgNVHQ4EFgQUs9tIpPmhxdiuNkHMEWNpYim8S8YwCgYIKoZIzj0EAwMDaAAwZQIx\nAK288mw/EkrRLTnDCgmXc/SINoyIJ7vmiI1Qhadj+Z4y3maTD/HMsQmP3Wyr+mt/\noAIwOWZbwmSNuJ5Q3KjVSaLtx9zRSX8XAbjIho9OjIgrqJqpisXRAL34VOKa5Vt8\nsycX\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIDxTCCAq2gAwIBAgIQAqxcJmoLQJuPC3nyrkYldzANBgkqhkiG9w0BAQUFADBs\nMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3\nd3cuZGlnaWNlcnQuY29tMSswKQYDVQQDEyJEaWdpQ2VydCBIaWdoIEFzc3VyYW5j\nZSBFViBSb290IENBMB4XDTA2MTExMDAwMDAwMFoXDTMxMTExMDAwMDAwMFowbDEL\nMAkGA1UEBhMCVVMxFTATBgNVBAoTDERpZ2lDZXJ0IEluYzEZMBcGA1UECxMQd3d3\nLmRpZ2ljZXJ0LmNvbTErMCkGA1UEAxMiRGlnaUNlcnQgSGlnaCBBc3N1cmFuY2Ug\nRVYgUm9vdCBDQTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMbM5XPm\n+9S75S0tMqbf5YE/yc0lSbZxKsPVlDRnogocsF9ppkCxxLeyj9CYpKlBWTrT3JTW\nPNt0OKRKzE0lgvdKpVMSOO7zSW1xkX5jtqumX8OkhPhPYlG++MXs2ziS4wblCJEM\nxChBVfvLWokVfnHoNb9Ncgk9vjo4UFt3MRuNs8ckRZqnrG0AFFoEt7oT61EKmEFB\nIk5lYYeBQVCmeVyJ3hlKV9Uu5l0cUyx+mM0aBhakaHPQNAQTXKFx01p8VdteZOE3\nhzBWBOURtCmAEvF5OYiiAhF8J2a3iLd48soKqDirCmTCv2ZdlYTBoSUeh10aUAsg\nEsxBu24LUTi4S8sCAwEAAaNjMGEwDgYDVR0PAQH/BAQDAgGGMA8GA1UdEwEB/wQF\nMAMBAf8wHQYDVR0OBBYEFLE+w2kD+L9HAdSYJhoIAu9jZCvDMB8GA1UdIwQYMBaA\nFLE+w2kD+L9HAdSYJhoIAu9jZCvDMA0GCSqGSIb3DQEBBQUAA4IBAQAcGgaX3Nec\nnzyIZgYIVyHbIUf4KmeqvxgydkAQV8GK83rZEWWONfqe/EW1ntlMMUu4kehDLI6z\neM7b41N5cdblIZQB2lWHmiRk9opmzN6cN82oNLFpmyPInngiK3BD41VHMWEZ71jF\nhS9OMPagMRYjyOfiZRYzy78aG6A9+MpeizGLYAiJLQwGXFK3xPkKmNEVX58Svnw2\nYzi9RKR/5CYrCsSXaQ3pjOLAEFe4yHYSkVXySGnYvCoCWw9E1CAx2/S6cCZdkGCe\nvEsXCS+0yx5DaMkHJ8HSXPfqIbloEpw8nL+e/IBcm2PN7EeqJSdnoDfzAIJ9VNep\n+OkuE6N36B9K\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIFkDCCA3igAwIBAgIQBZsbV56OITLiOQe9p3d1XDANBgkqhkiG9w0BAQwFADBi\nMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3\nd3cuZGlnaWNlcnQuY29tMSEwHwYDVQQDExhEaWdpQ2VydCBUcnVzdGVkIFJvb3Qg\nRzQwHhcNMTMwODAxMTIwMDAwWhcNMzgwMTE1MTIwMDAwWjBiMQswCQYDVQQGEwJV\nUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQu\nY29tMSEwHwYDVQQDExhEaWdpQ2VydCBUcnVzdGVkIFJvb3QgRzQwggIiMA0GCSqG\nSIb3DQEBAQUAA4ICDwAwggIKAoICAQC/5pBzaN675F1KPDAiMGkz7MKnJS7JIT3y\nithZwuEppz1Yq3aaza57G4QNxDAf8xukOBbrVsaXbR2rsnnyyhHS5F/WBTxSD1If\nxp4VpX6+n6lXFllVcq9ok3DCsrp1mWpzMpTREEQQLt+C8weE5nQ7bXHiLQwb7iDV\nySAdYyktzuxeTsiT+CFhmzTrBcZe7FsavOvJz82sNEBfsXpm7nfISKhmV1efVFiO\nDCu3T6cw2Vbuyntd463JT17lNecxy9qTXtyOj4DatpGYQJB5w3jHtrHEtWoYOAMQ\njdjUN6QuBX2I9YI+EJFwq1WCQTLX2wRzKm6RAXwhTNS8rhsDdV14Ztk6MUSaM0C/\nCNdaSaTC5qmgZ92kJ7yhTzm1EVgX9yRcRo9k98FpiHaYdj1ZXUJ2h4mXaXpI8OCi\nEhtmmnTK3kse5w5jrubU75KSOp493ADkRSWJtppEGSt+wJS00mFt6zPZxd9LBADM\nfRyVw4/3IbKyEbe7f/LVjHAsQWCqsWMYRJUadmJ+9oCw++hkpjPRiQfhvbfmQ6QY\nuKZ3AeEPlAwhHbJUKSWJbOUOUlFHdL4mrLZBdd56rF+NP8m800ERElvlEFDrMcXK\nchYiCd98THU/Y+whX8QgUWtvsauGi0/C1kVfnSD8oR7FwI+isX4KJpn15GkvmB0t\n9dmpsh3lGwIDAQABo0IwQDAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQEAwIB\nhjAdBgNVHQ4EFgQU7NfjgtJxXWRM3y5nP+e6mK4cD08wDQYJKoZIhvcNAQEMBQAD\nggIBALth2X2pbL4XxJEbw6GiAI3jZGgPVs93rnD5/ZpKmbnJeFwMDF/k5hQpVgs2\nSV1EY+CtnJYYZhsjDT156W1r1lT40jzBQ0CuHVD1UvyQO7uYmWlrx8GnqGikJ9yd\n+SeuMIW59mdNOj6PWTkiU0TryF0Dyu1Qen1iIQqAyHNm0aAFYF/opbSnr6j3bTWc\nfFqK1qI4mfN4i/RN0iAL3gTujJtHgXINwBQy7zBZLq7gcfJW5GqXb5JQbZaNaHqa\nsjYUegbyJLkJEVDXCLG4iXqEI2FCKeWjzaIgQdfRnGTZ6iahixTXTBmyUEFxPT9N\ncCOGDErcgdLMMpSEDQgJlxxPwO5rIHQw0uA5NBCFIRUBCOhVMt5xSdkoF1BN5r5N\n0XWs0Mr7QbhDparTwwVETyw2m+L64kW4I1NsBm9nVX9GtUw/bihaeSbSpKhil9Ie\n4u1Ki7wb/UdKDd9nZn6yW0HQO+T0O/QEY+nvwlQAUaCKKsnOeMzV6ocEGLPOr0mI\nr/OSmbaz5mEP0oUA51Aa5BuVnRmhuZyxm7EAHu/QD09CbMkKvO5D+jpxpchNJqU1\n/YldvIViHTLSoCtU7ZpXwdv6EM8Zt4tKG48BtieVU+i2iW1bvGjUI+iLUaJW+fCm\ngKDWHrO8Dw9TdSmq6hN35N6MgSGtBxBHEa2HPQfRdbzP82Z+\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIDIDCCAomgAwIBAgIENd70zzANBgkqhkiG9w0BAQUFADBOMQswCQYDVQQGEwJV\nUzEQMA4GA1UEChMHRXF1aWZheDEtMCsGA1UECxMkRXF1aWZheCBTZWN1cmUgQ2Vy\ndGlmaWNhdGUgQXV0aG9yaXR5MB4XDTk4MDgyMjE2NDE1MVoXDTE4MDgyMjE2NDE1\nMVowTjELMAkGA1UEBhMCVVMxEDAOBgNVBAoTB0VxdWlmYXgxLTArBgNVBAsTJEVx\ndWlmYXggU2VjdXJlIENlcnRpZmljYXRlIEF1dGhvcml0eTCBnzANBgkqhkiG9w0B\nAQEFAAOBjQAwgYkCgYEAwV2xWGcIYu6gmi0fCG2RFGiYCh7+2gRvE4RiIcPRfM6f\nBeC4AfBONOziipUEZKzxa1NfBbPLZ4C/QgKO/t0BCezhABRP/PvwDN1Dulsr4R+A\ncJkVV5MW8Q+XarfCaCMczE1ZMKxRHjuvK9buY0V7xdlfUNLjUA86iOe/FP3gx7kC\nAwEAAaOCAQkwggEFMHAGA1UdHwRpMGcwZaBjoGGkXzBdMQswCQYDVQQGEwJVUzEQ\nMA4GA1UEChMHRXF1aWZheDEtMCsGA1UECxMkRXF1aWZheCBTZWN1cmUgQ2VydGlm\naWNhdGUgQXV0aG9yaXR5MQ0wCwYDVQQDEwRDUkwxMBoGA1UdEAQTMBGBDzIwMTgw\nODIyMTY0MTUxWjALBgNVHQ8EBAMCAQYwHwYDVR0jBBgwFoAUSOZo+SvSspXXR9gj\nIBBPM5iQn9QwHQYDVR0OBBYEFEjmaPkr0rKV10fYIyAQTzOYkJ/UMAwGA1UdEwQF\nMAMBAf8wGgYJKoZIhvZ9B0EABA0wCxsFVjMuMGMDAgbAMA0GCSqGSIb3DQEBBQUA\nA4GBAFjOKer89961zgK5F7WF0bnj4JXMJTENAKaSbn+2kmOeUJXRmm/kEd5jhW6Y\n7qj/WsjTVbJmcVfewCHrPSqnI0kBBIZCe/zuf6IWUrVnZ9NA2zsmWLIodz2uFHdh\n1voqZiegDfqnc1zqcPGUIWVEX/r87yloqaKHee9570+sB3c4\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIDVDCCAjygAwIBAgIDAjRWMA0GCSqGSIb3DQEBBQUAMEIxCzAJBgNVBAYTAlVT\nMRYwFAYDVQQKEw1HZW9UcnVzdCBJbmMuMRswGQYDVQQDExJHZW9UcnVzdCBHbG9i\nYWwgQ0EwHhcNMDIwNTIxMDQwMDAwWhcNMjIwNTIxMDQwMDAwWjBCMQswCQYDVQQG\nEwJVUzEWMBQGA1UEChMNR2VvVHJ1c3QgSW5jLjEbMBkGA1UEAxMSR2VvVHJ1c3Qg\nR2xvYmFsIENBMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2swYYzD9\n9BcjGlZ+W988bDjkcbd4kdS8odhM+KhDtgPpTSEHCIjaWC9mOSm9BXiLnTjoBbdq\nfnGk5sRgprDvgOSJKA+eJdbtg/OtppHHmMlCGDUUna2YRpIuT8rxh0PBFpVXLVDv\niS2Aelet8u5fa9IAjbkU+BQVNdnARqN7csiRv8lVK83Qlz6cJmTM386DGXHKTubU\n1XupGc1V3sjs0l44U+VcT4wt/lAjNvxm5suOpDkZALeVAjmRCw7+OC7RHQWa9k0+\nbw8HHa8sHo9gOeL6NlMTOdReJivbPagUvTLrGAMoUgRx5aszPeE4uwc2hGKceeoW\nMPRfwCvocWvk+QIDAQABo1MwUTAPBgNVHRMBAf8EBTADAQH/MB0GA1UdDgQWBBTA\nephojYn7qwVkDBF9qn1luMrMTjAfBgNVHSMEGDAWgBTAephojYn7qwVkDBF9qn1l\nuMrMTjANBgkqhkiG9w0BAQUFAAOCAQEANeMpauUvXVSOKVCUn5kaFOSPeCpilKIn\nZ57QzxpeR+nBsqTP3UEaBU6bS+5Kb1VSsyShNwrrZHYqLizz/Tt1kL/6cdjHPTfS\ntQWVYrmm3ok9Nns4d0iXrKYgjy6myQzCsplFAMfOEVEiIuCl6rYVSAlk6l5PdPcF\nPseKUgzbFbS9bZvlxrFUaKnjaZC2mqUPuLk/IH2uSrW4nOQdtqvmlKXBx4Ot2/Un\nhw4EbNX/3aBd7YdStysVAq45pmp06drE57xNNB6pXE0zX5IJL4hmXXeXxx12E6nV\n5fEWCRE11azbJHFwLJhWC9kXtNHjUStedejV0NxPNO3CBWaAocvmMw==\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIDZjCCAk6gAwIBAgIBATANBgkqhkiG9w0BAQUFADBEMQswCQYDVQQGEwJVUzEW\nMBQGA1UEChMNR2VvVHJ1c3QgSW5jLjEdMBsGA1UEAxMUR2VvVHJ1c3QgR2xvYmFs\nIENBIDIwHhcNMDQwMzA0MDUwMDAwWhcNMTkwMzA0MDUwMDAwWjBEMQswCQYDVQQG\nEwJVUzEWMBQGA1UEChMNR2VvVHJ1c3QgSW5jLjEdMBsGA1UEAxMUR2VvVHJ1c3Qg\nR2xvYmFsIENBIDIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDvPE1A\nPRDfO1MA4Wf+lGAVPoWI8YkNkMgoI5kF6CsgncbzYEbYwbLVjDHZ3CB5JIG/NTL8\nY2nbsSpr7iFY8gjpeMtvy/wWUsiRxP89c96xPqfCfWbB9X5SJBri1WeR0IIQ13hL\nTytCOb1kLUCgsBDTOEhGiKEMuzozKmKY+wCdE1l/bztyqu6mD4b5BWHqZ38MN5aL\n5mkWRxHCJ1kDs6ZgwiFAVvqgx306E+PsV8ez1q6diYD3Aecs9pYrEw15LNnA5IZ7\nS4wMcoKK+xfNAGw6EzywhIdLFnopsk/bHdQL82Y3vdj2V7teJHq4PIu5+pIaGoSe\n2HSPqht/XvT+RSIhAgMBAAGjYzBhMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYE\nFHE4NvICMVNHK266ZUapEBVYIAUJMB8GA1UdIwQYMBaAFHE4NvICMVNHK266ZUap\nEBVYIAUJMA4GA1UdDwEB/wQEAwIBhjANBgkqhkiG9w0BAQUFAAOCAQEAA/e1K6td\nEPx7srJerJsOflN4WT5CBP51o62sgU7XAotexC3IUnbHLB/8gTKY0UvGkpMzNTEv\n/NgdRN3ggX+d6YvhZJFiCzkIjKx0nVnZellSlxG5FntvRdOW2TF9AjYPnDtuzywN\nA0ZF66D0f0hExghAzN4bcLUprbqLOzRldRtxIR0sFAqwlpW41uryZfspuk/qkZN0\nabby/+Ea0AzRdoXLiiW9l14sbxWZJue2Kf8i7MkCx1YAzUm5s2x7UwQa4qjJqhIF\nI8LO57sEAszAR6LkxCkvW0VXiVHuPOtSCP8HNR6fNWpHSlaY0VqFH4z1Ir+rzoPz\n4iIprn2DQKi6bA==\n-----END CERTIFICATE----- \n","-----BEGIN CERTIFICATE-----\nMIIDfDCCAmSgAwIBAgIQGKy1av1pthU6Y2yv2vrEoTANBgkqhkiG9w0BAQUFADBY\nMQswCQYDVQQGEwJVUzEWMBQGA1UEChMNR2VvVHJ1c3QgSW5jLjExMC8GA1UEAxMo\nR2VvVHJ1c3QgUHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw0wNjEx\nMjcwMDAwMDBaFw0zNjA3MTYyMzU5NTlaMFgxCzAJBgNVBAYTAlVTMRYwFAYDVQQK\nEw1HZW9UcnVzdCBJbmMuMTEwLwYDVQQDEyhHZW9UcnVzdCBQcmltYXJ5IENlcnRp\nZmljYXRpb24gQXV0aG9yaXR5MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC\nAQEAvrgVe//UfH1nrYNke8hCUy3f9oQIIGHWAVlqnEQRr+92/ZV+zmEwu3qDXwK9\nAWbK7hWNb6EwnL2hhZ6UOvNWiAAxz9juapYC2e0DjPt1befquFUWBRaa9OBesYjA\nZIVcFU2Ix7e64HXprQU9nceJSOC7KMgD4TCTZF5SwFlwIjVXiIrxlQqD17wxcwE0\n7e9GceBrAqg1cmuXm2bgyxx5X9gaBGgeRwLmnWDiNpcB3841kt++Z8dtd1k7j53W\nkBWUvEI0EME5+bEnPn7WinXFsq+W06Lem+SYvn3h6YGttm/81w7a4DSwDRp35+MI\nmO9Y+pyEtzavwt+s0vQQBnBxNQIDAQABo0IwQDAPBgNVHRMBAf8EBTADAQH/MA4G\nA1UdDwEB/wQEAwIBBjAdBgNVHQ4EFgQULNVQQZcVi/CPNmFbSvtr2ZnJM5IwDQYJ\nKoZIhvcNAQEFBQADggEBAFpwfyzdtzRP9YZRqSa+S7iq8XEN3GHHoOo0Hnp3DwQ1\n6CePbJC/kRYkRj5KTs4rFtULUh38H2eiAkUxT87z+gOneZ1TatnaYzr4gNfTmeGl\n4b7UVXGYNTq+k+qurUKykG/g/CFNNWMziUnWm07Kx+dOCQD32sfvmWKZd7aVIl6K\noKv0uHiYyjgZmclynnjNS6yvGaBzEi38wkG6gZHaFloxt/m0cYASSJlyc1pZU8Fj\nUjPtp8nSOQJw+uCxQmYpqptR7TBUIhRf2asdweSU8Pj1K/fqynhG1riR/aYNKxoU\nAT6A8EKglQdebc3MS6RFjasS6LPeWuWgfOgPIh1a6Vk=\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIICrjCCAjWgAwIBAgIQPLL0SAoA4v7rJDteYD7DazAKBggqhkjOPQQDAzCBmDEL\nMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUdlb1RydXN0IEluYy4xOTA3BgNVBAsTMChj\nKSAyMDA3IEdlb1RydXN0IEluYy4gLSBGb3IgYXV0aG9yaXplZCB1c2Ugb25seTE2\nMDQGA1UEAxMtR2VvVHJ1c3QgUHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0\neSAtIEcyMB4XDTA3MTEwNTAwMDAwMFoXDTM4MDExODIzNTk1OVowgZgxCzAJBgNV\nBAYTAlVTMRYwFAYDVQQKEw1HZW9UcnVzdCBJbmMuMTkwNwYDVQQLEzAoYykgMjAw\nNyBHZW9UcnVzdCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxNjA0BgNV\nBAMTLUdlb1RydXN0IFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBH\nMjB2MBAGByqGSM49AgEGBSuBBAAiA2IABBWx6P0DFUPlrOuHNxFi79KDNlJ9RVcL\nSo17VDs6bl8VAsBQps8lL33KSLjHUGMcKiEIfJo22Av+0SbFWDEwKCXzXV2juLal\ntJLtbCyf691DiaI8S0iRHVDsJt/WYC69IaNCMEAwDwYDVR0TAQH/BAUwAwEB/zAO\nBgNVHQ8BAf8EBAMCAQYwHQYDVR0OBBYEFBVfNVdRVfslsq0DafwBo/q+EVXVMAoG\nCCqGSM49BAMDA2cAMGQCMGSWWaboCd6LuvpaiIjwH5HTRqjySkwCY/tsXzjbLkGT\nqQ7mndwxHLKgpxgceeHHNgIwOlavmnRs9vuD4DPTCF+hnMJbn0bWtsuRBmOiBucz\nrD6ogRLQy7rQkgu2npaqBA+K\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIFaDCCA1CgAwIBAgIBATANBgkqhkiG9w0BAQUFADBFMQswCQYDVQQGEwJVUzEW\nMBQGA1UEChMNR2VvVHJ1c3QgSW5jLjEeMBwGA1UEAxMVR2VvVHJ1c3QgVW5pdmVy\nc2FsIENBMB4XDTA0MDMwNDA1MDAwMFoXDTI5MDMwNDA1MDAwMFowRTELMAkGA1UE\nBhMCVVMxFjAUBgNVBAoTDUdlb1RydXN0IEluYy4xHjAcBgNVBAMTFUdlb1RydXN0\nIFVuaXZlcnNhbCBDQTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBAKYV\nVaCjxuAfjJ0hUNfBvitbtaSeodlyWL0AG0y/YckUHUWCq8YdgNY96xCcOq9tJPi8\ncQGeBvV8Xx7BDlXKg5pZMK4ZyzBIle0iN430SppyZj6tlcDgFgDgEB8rMQ7XlFTT\nQjOgNB0eRXbdT8oYN+yFFXoZCPzVx5zw8qkuEKmS5j1YPakWaDwvdSEYfyh3peFh\nF7em6fgemdtzbvQKoiFs7tqqhZJmr/Z6a4LauiIINQ/PQvE1+mrufislzDoR5G2v\nc7J2Ha3QsnhnGqQ5HFELZ1aD/ThdDc7d8Lsrlh/eezJS/R27tQahsiFepdaVaH/w\nmZ7cRQg+59IJDTWU3YBOU5fXtQlEIGQWFwMCTFMNaN7VqnJNk22CDtucvc+081xd\nVHppCZbW2xHBjXWotM85yM48vCR85mLK4b19p71XZQvk/iXttmkQ3CgaRr0BHdCX\nteGYO8A3ZNY9lO4L4fUorgtWv3GLIylBjobFS1J72HGrH4oVpjuDWtdYAVHGTEHZ\nf9hBZ3KiKN9gg6meyHv8U3NyWfWTehd2Ds735VzZC1U0oqpbtWpU5xPKV+yXbfRe\nBi9Fi1jUIxaS5BZuKGNZMN9QAZxjiRqf2xeUgnA3wySemkfWWspOqGmJch+RbNt+\nnhutxx9z3SxPGWX9f5NAEC7S8O08ni4oPmkmM8V7AgMBAAGjYzBhMA8GA1UdEwEB\n/wQFMAMBAf8wHQYDVR0OBBYEFNq7LqqwDLiIJlF0XG0D08DYj3rWMB8GA1UdIwQY\nMBaAFNq7LqqwDLiIJlF0XG0D08DYj3rWMA4GA1UdDwEB/wQEAwIBhjANBgkqhkiG\n9w0BAQUFAAOCAgEAMXjmx7XfuJRAyXHEqDXsRh3ChfMoWIawC/yOsjmPRFWrZIRc\naanQmjg8+uUfNeVE44B5lGiku8SfPeE0zTBGi1QrlaXv9z+ZhP015s8xxtxqv6fX\nIwjhmF7DWgh2qaavdy+3YL1ERmrvl/9zlcGO6JP7/TG37FcREUWbMPEaiDnBTzyn\nANXH/KttgCJwpQzgXQQpAvvLoJHRfNbDflDVnVi+QTjruXU8FdmbyUqDWcDaU/0z\nuzYYm4UPFd3uLax2k7nZAY1IEKj79TiG8dsKxr2EoyNB3tZ3b4XUhRxQ4K5RirqN\nPnbiucon8l+f725ZDQbYKxek0nxru18UGkiPGkzns0ccjkxFKyDuSN/n3QmOGKja\nQI2SJhFTYXNd673nxE0pN2HrrDktZy4W1vUAg4WhzH92xH3kt0tm7wNFYGm2DFKW\nkoRepqO1pD4r2czYG0eq8kTaT/kD6PAUyz/zg97QwVTjt+gKN02LIFkDMBmhLMi9\nER/frslKxfMnZmaGrGiR/9nmUxwPi1xpZQomyB40w11Re9epnAahNt3ViZS82eQt\nDF4JbAiXfKM9fJP/P6EUp8+1Xevb2xzEdt+Iub1FBZUbrvxGakyvSOPOrg/Sfuvm\nbJxPgWp6ZKy7PtXny3YuxadIwVyQD8vIP/rmMuGNG2+k5o7Y+SlIis5z/iw=\n-----END CERTIFICATE----- \n","-----BEGIN CERTIFICATE-----\nMIIFbDCCA1SgAwIBAgIBATANBgkqhkiG9w0BAQUFADBHMQswCQYDVQQGEwJVUzEW\nMBQGA1UEChMNR2VvVHJ1c3QgSW5jLjEgMB4GA1UEAxMXR2VvVHJ1c3QgVW5pdmVy\nc2FsIENBIDIwHhcNMDQwMzA0MDUwMDAwWhcNMjkwMzA0MDUwMDAwWjBHMQswCQYD\nVQQGEwJVUzEWMBQGA1UEChMNR2VvVHJ1c3QgSW5jLjEgMB4GA1UEAxMXR2VvVHJ1\nc3QgVW5pdmVyc2FsIENBIDIwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoIC\nAQCzVFLByT7y2dyxUxpZKeexw0Uo5dfR7cXFS6GqdHtXr0om/Nj1XqduGdt0DE81\nWzILAePb63p3NeqqWuDW6KFXlPCQo3RWlEQwAx5cTiuFJnSCegx2oG9NzkEtoBUG\nFF+3Qs17j1hhNNwqCPkuwwGmIkQcTAeC5lvO0Ep8BNMZcyfwqph/Lq9O64ceJHdq\nXbboW0W63MOhBW9Wjo8QJqVJwy7XQYci4E+GymC16qFjwAGXEHm9ADwSbSsVsaxL\nse4YuU6W3Nx2/zu+z18DwPw76L5GG//aQMJS9/7jOvdqdzXQ2o3rXhhqMcceujwb\nKNZrVMaqW9eiLBsZzKIC9ptZvTdrhrVtgrrY6slWvKk2WP0+GfPtDCapkzj4T8Fd\nIgbQl+rhrcZV4IErKIM6+vR7IVEAvlI4zs1meaj0gVbi0IMJR1FbUGrP20gaXT73\ny/Zl92zxlfgCOzJWgjl6W70viRu/obTo/3+NjN8D8WBOWBFM66M/ECuDmgFz2ZRt\nhAAnZqzwcEAJQpKtT5MNYQlRJNiS1QuUYbKHsu3/mjX/hVTK7URDrBs8FmtISgoc\nQIgfksILAAX/8sgCSqSqqcyZlpwvWOB94b67B9xfBHJcMTTD7F8t4D1kkCLm0ey4\nLt1ZrtmhN79UNdxzMk+MBB4zsslG8dhcyFVQyWi9qLo2CQIDAQABo2MwYTAPBgNV\nHRMBAf8EBTADAQH/MB0GA1UdDgQWBBR281Xh+qQ2+/CfXGJx7Tz0RzgQKzAfBgNV\nHSMEGDAWgBR281Xh+qQ2+/CfXGJx7Tz0RzgQKzAOBgNVHQ8BAf8EBAMCAYYwDQYJ\nKoZIhvcNAQEFBQADggIBAGbBxiPz2eAubl/oz66wsCVNK/g7WJtAJDday6sWSf+z\ndXkzoS9tcBc0kf5nfo/sm+VegqlVHy/c1FEHEv6sFj4sNcZj/NwQ6w2jqtB8zNHQ\nL1EuxBRa3ugZ4T7GzKQp5y6EqgYweHZUcyiYWTjgAA1i00J9IZ+uPTqM1fp3DRgr\nFg5fNuH8KrUwJM/gYwx7WBr+mbpCErGR9Hxo4sjoryzqyX6uuyo9DRXcNJW2GHSo\nag/HtPQTxORb7QrSpJdMKu0vbBKJPfEncKpqA1Ihn0CoZ1Dy81of398j9tx4TuaY\nT1U6U+Pv8vSfx3zYWK8pIpe44L2RLrB27FcRz+8pRPPphXpgY+RdM4kX2TGq2tbz\nGDVyz4crL2MjhF2EjD9XoIj8mZEoJmmZ1I+XRL6O1UixpCgp8RW04eWe3fiPpm8m\n1wk8OhwRDqZsN/etRIcsKMfYdIKz0G9KV7s1KSegi+ghp4dkNl3M2Basx7InQJJV\nOCiNUW7dFGdTbHFcJoRNdVq2fmBWqU2t+5sel/MN2dKXVHfaPRK34B7vCAas+YWH\n6aLcr34YEoP9VhdBLtUpgn2Z9DH2canPLAEnpQW5qrJITirvn5NSUZU8UnOOVkwX\nQMAJKOSLakhT2+zNVVXxxvjpoixMptEmX36vWkzaH6byHCx+rgIW0lbQL1dTR+iS\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIDdTCCAl2gAwIBAgILBAAAAAABFUtaw5QwDQYJKoZIhvcNAQEFBQAwVzELMAkG\nA1UEBhMCQkUxGTAXBgNVBAoTEEdsb2JhbFNpZ24gbnYtc2ExEDAOBgNVBAsTB1Jv\nb3QgQ0ExGzAZBgNVBAMTEkdsb2JhbFNpZ24gUm9vdCBDQTAeFw05ODA5MDExMjAw\nMDBaFw0yODAxMjgxMjAwMDBaMFcxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9i\nYWxTaWduIG52LXNhMRAwDgYDVQQLEwdSb290IENBMRswGQYDVQQDExJHbG9iYWxT\naWduIFJvb3QgQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDaDuaZ\njc6j40+Kfvvxi4Mla+pIH/EqsLmVEQS98GPR4mdmzxzdzxtIK+6NiY6arymAZavp\nxy0Sy6scTHAHoT0KMM0VjU/43dSMUBUc71DuxC73/OlS8pF94G3VNTCOXkNz8kHp\n1Wrjsok6Vjk4bwY8iGlbKk3Fp1S4bInMm/k8yuX9ifUSPJJ4ltbcdG6TRGHRjcdG\nsnUOhugZitVtbNV4FpWi6cgKOOvyJBNPc1STE4U6G7weNLWLBYy5d4ux2x8gkasJ\nU26Qzns3dLlwR5EiUWMWea6xrkEmCMgZK9FGqkjWZCrXgzT/LCrBbBlDSgeF59N8\n9iFo7+ryUp9/k5DPAgMBAAGjQjBAMA4GA1UdDwEB/wQEAwIBBjAPBgNVHRMBAf8E\nBTADAQH/MB0GA1UdDgQWBBRge2YaRQ2XyolQL30EzTSo//z9SzANBgkqhkiG9w0B\nAQUFAAOCAQEA1nPnfE920I2/7LqivjTFKDK1fPxsnCwrvQmeU79rXqoRSLblCKOz\nyj1hTdNGCbM+w6DjY1Ub8rrvrTnhQ7k4o+YviiY776BQVvnGCv04zcQLcFGUl5gE\n38NflNUVyRRBnMRddWQVDf9VMOyGj/8N7yy5Y0b2qvzfvGn9LhJIZJrglfCm7ymP\nAbEVtQwdpf5pLGkkeB6zpxxxYu7KyJesF12KwvhHhm4qxFYxldBniYUr+WymXUad\nDKqC5JlR3XC321Y9YeRq4VzW9v493kHMB65jUr9TU/Qr6cf9tveCX4XSQRjbgbME\nHMUfpIBvFSDJ3gyICh3WZlXi/EjJKSZp4A==\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIB4TCCAYegAwIBAgIRKjikHJYKBN5CsiilC+g0mAIwCgYIKoZIzj0EAwIwUDEk\nMCIGA1UECxMbR2xvYmFsU2lnbiBFQ0MgUm9vdCBDQSAtIFI0MRMwEQYDVQQKEwpH\nbG9iYWxTaWduMRMwEQYDVQQDEwpHbG9iYWxTaWduMB4XDTEyMTExMzAwMDAwMFoX\nDTM4MDExOTAzMTQwN1owUDEkMCIGA1UECxMbR2xvYmFsU2lnbiBFQ0MgUm9vdCBD\nQSAtIFI0MRMwEQYDVQQKEwpHbG9iYWxTaWduMRMwEQYDVQQDEwpHbG9iYWxTaWdu\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEuMZ5049sJQ6fLjkZHAOkrprlOQcJ\nFspjsbmG+IpXwVfOQvpzofdlQv8ewQCybnMO/8ch5RikqtlxP6jUuc6MHaNCMEAw\nDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFFSwe61F\nuOJAf/sKbvu+M8k8o4TVMAoGCCqGSM49BAMCA0gAMEUCIQDckqGgE6bPA7DmxCGX\nkPoUVy0D7O48027KqGx2vKLeuwIgJ6iFJzWbVsaj8kfSt24bAgAXqmemFZHe+pTs\newv4n4Q=\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIICHjCCAaSgAwIBAgIRYFlJ4CYuu1X5CneKcflK2GwwCgYIKoZIzj0EAwMwUDEk\nMCIGA1UECxMbR2xvYmFsU2lnbiBFQ0MgUm9vdCBDQSAtIFI1MRMwEQYDVQQKEwpH\nbG9iYWxTaWduMRMwEQYDVQQDEwpHbG9iYWxTaWduMB4XDTEyMTExMzAwMDAwMFoX\nDTM4MDExOTAzMTQwN1owUDEkMCIGA1UECxMbR2xvYmFsU2lnbiBFQ0MgUm9vdCBD\nQSAtIFI1MRMwEQYDVQQKEwpHbG9iYWxTaWduMRMwEQYDVQQDEwpHbG9iYWxTaWdu\nMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAER0UOlvt9Xb/pOdEh+J8LttV7HpI6SFkc\n8GIxLcB6KP4ap1yztsyX50XUWPrRd21DosCHZTQKH3rd6zwzocWdTaRvQZU4f8ke\nhOvRnkmSh5SHDDqFSmafnVmTTZdhBoZKo0IwQDAOBgNVHQ8BAf8EBAMCAQYwDwYD\nVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUPeYpSJvqB8ohREom3m7e0oPQn1kwCgYI\nKoZIzj0EAwMDaAAwZQIxAOVpEslu28YxuglB4Zf4+/2a4n0Sye18ZNPLBSWLVtmg\n515dTguDnFt2KaAJJiFqYgIwcdK1j1zqO+F4CYWodZI7yFz9SO8NdCKoCOJuxUnO\nxwy8p2Fp8fc74SrL+SvzZpA3\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcNAQELBQAwTDEgMB4G\nA1UECxMXR2xvYmFsU2lnbiBSb290IENBIC0gUjMxEzARBgNVBAoTCkdsb2JhbFNp\nZ24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4\nMTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEG\nA1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZI\nhvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8\nRgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsT\ngHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmm\nKPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zd\nQQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZ\nXriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAw\nDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+o\nLkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZU\nRUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMp\njjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK\n6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQX\nmcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecs\nMx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpH\nWD9f\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIDujCCAqKgAwIBAgILBAAAAAABD4Ym5g0wDQYJKoZIhvcNAQEFBQAwTDEgMB4G\nA1UECxMXR2xvYmFsU2lnbiBSb290IENBIC0gUjIxEzARBgNVBAoTCkdsb2JhbFNp\nZ24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDYxMjE1MDgwMDAwWhcNMjExMjE1\nMDgwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMjETMBEG\nA1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZI\nhvcNAQEBBQADggEPADCCAQoCggEBAKbPJA6+Lm8omUVCxKs+IVSbC9N/hHD6ErPL\nv4dfxn+G07IwXNb9rfF73OX4YJYJkhD10FPe+3t+c4isUoh7SqbKSaZeqKeMWhG8\neoLrvozps6yWJQeXSpkqBy+0Hne/ig+1AnwblrjFuTosvNYSuetZfeLQBoZfXklq\ntTleiDTsvHgMCJiEbKjNS7SgfQx5TfC4LcshytVsW33hoCmEofnTlEnLJGKRILzd\nC9XZzPnqJworc5HGnRusyMvo4KD0L5CLTfuwNhv2GXqF4G3yYROIXJ/gkwpRl4pa\nzq+r1feqCapgvdzZX99yqWATXgAByUr6P6TqBwMhAo6CygPCm48CAwEAAaOBnDCB\nmTAOBgNVHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUm+IH\nV2ccHsBqBt5ZtJot39wZhi4wNgYDVR0fBC8wLTAroCmgJ4YlaHR0cDovL2NybC5n\nbG9iYWxzaWduLm5ldC9yb290LXIyLmNybDAfBgNVHSMEGDAWgBSb4gdXZxwewGoG\n3lm0mi3f3BmGLjANBgkqhkiG9w0BAQUFAAOCAQEAmYFThxxol4aR7OBKuEQLq4Gs\nJ0/WwbgcQ3izDJr86iw8bmEbTUsp9Z8FHSbBuOmDAGJFtqkIk7mpM0sYmsL4h4hO\n291xNBrBVNpGP+DTKqttVCL1OmLNIG+6KYnX3ZHu01yiPqFbQfXf5WRDLenVOavS\not+3i9DAgBkcRcAtjOj4LaR0VknFBbVPFd5uRHg5h6h+u/N5GJG79G+dwfCMNYxd\nAfvDbbnvRG15RjF+Cv6pgsH/76tuIMRQyV+dTZsXjAzlAcmgQWpzU/qlULRuJQ/7\nTBj0/VLZjmmx6BEP3ojY+x1J96relc8geMJgEtslQIxq/H5COEBkEveegeGTLg==\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIDAzCCAmwCEQC5L2DMiJ+hekYJuFtwbIqvMA0GCSqGSIb3DQEBBQUAMIHBMQsw\nCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xPDA6BgNVBAsTM0Ns\nYXNzIDIgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBH\nMjE6MDgGA1UECxMxKGMpIDE5OTggVmVyaVNpZ24sIEluYy4gLSBGb3IgYXV0aG9y\naXplZCB1c2Ugb25seTEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazAe\nFw05ODA1MTgwMDAwMDBaFw0yODA4MDEyMzU5NTlaMIHBMQswCQYDVQQGEwJVUzEX\nMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xPDA6BgNVBAsTM0NsYXNzIDIgUHVibGlj\nIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHMjE6MDgGA1UECxMx\nKGMpIDE5OTggVmVyaVNpZ24sIEluYy4gLSBGb3IgYXV0aG9yaXplZCB1c2Ugb25s\neTEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazCBnzANBgkqhkiG9w0B\nAQEFAAOBjQAwgYkCgYEAp4gBIXQs5xoD8JjhlzwPIQjxnNuX6Zr8wgQGE75fUsjM\nHiwSViy4AWkszJkfrbCWrnkE8hM5wXuYuggs6MKEEyyqaekJ9MepAqRCwiNPStjw\nDqL7MWzJ5m+ZJwf15vRMeJ5t60aG+rmGyVTyssSv1EYcWskVMP8NbPUtDm3Of3cC\nAwEAATANBgkqhkiG9w0BAQUFAAOBgQByLvl/0fFx+8Se9sVeUYpAmLho+Jscg9ji\nnb3/7aHmZuovCfTK1+qlK5X2JGCGTUQug6XELaDTrnhpb3LabK4I8GOSN+a7xDAX\nrXfMSTWqz9iP0b63GJZHc2pUIjRkLbYWm1lbtFFZOrMLFPQS32eg9K0yZF6xRnIn\njBJ7xUS0rg==\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIEGTCCAwECEGFwy0mMX5hFKeewptlQW3owDQYJKoZIhvcNAQEFBQAwgcoxCzAJ\nBgNVBAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVy\naVNpZ24gVHJ1c3QgTmV0d29yazE6MDgGA1UECxMxKGMpIDE5OTkgVmVyaVNpZ24s\nIEluYy4gLSBGb3IgYXV0aG9yaXplZCB1c2Ugb25seTFFMEMGA1UEAxM8VmVyaVNp\nZ24gQ2xhc3MgMiBQdWJsaWMgUHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0\neSAtIEczMB4XDTk5MTAwMTAwMDAwMFoXDTM2MDcxNjIzNTk1OVowgcoxCzAJBgNV\nBAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNp\nZ24gVHJ1c3QgTmV0d29yazE6MDgGA1UECxMxKGMpIDE5OTkgVmVyaVNpZ24sIElu\nYy4gLSBGb3IgYXV0aG9yaXplZCB1c2Ugb25seTFFMEMGA1UEAxM8VmVyaVNpZ24g\nQ2xhc3MgMiBQdWJsaWMgUHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAt\nIEczMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArwoNwtUs22e5LeWU\nJ92lvuCwTY+zYVY81nzD9M0+hsuiiOLh2KRpxbXiv8GmR1BeRjmL1Za6tW8UvxDO\nJxOeBUebMXoT2B/Z0wI3i60sR/COgQanDTAM6/c8DyAd3HJG7qUCyFvDyVZpTMUY\nwZF7C9UTAJu878NIPkZgIIUq1ZC2zYugzDLdt/1AVbJQHFauzI13TccgTacxdu9o\nkoqQHgiBVrKtaaNS0MscxCM9H5n+TOgWY47GCI72MfbS+uV23bUckqNJzc0BzWjN\nqWm6o+sdDZykIKbBoMXRRkwXbdKsZj+WjOCE1Db/IlnF+RFgqF8EffIa9iVCYQ/E\nSrg+iQIDAQABMA0GCSqGSIb3DQEBBQUAA4IBAQA0JhU8wI1NQ0kdvekhktdmnLfe\nxbjQ5F1fdiLAJvmEOjr5jLX77GDx6M4EsMjdpwOPMPOY36TmpDHf0xwLRtxyID+u\n7gU8pDM/CzmscHhzS5kr3zDCVLCoO1Wh/hYozUK9dG6A2ydEp85EXdQbkJgNHkKU\nsQAsBNB0owIFImNjzYO1+8FtYmtpdf1dcEG59b98377BMnMiIYtYgXsVkXq642RI\nsH/7NiXaldDxJBQX3RiAa0YjOVT1jmIJBB2UkKab5iXiQkWquJCtvgiPqQtCGJTP\ncjnhsUPgKM+351psE2tJs//jGHyJizNdrDPXp/naOlXJWBD5qu9ats9LS98q\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIICPDCCAaUCEDyRMcsf9tAbDpq40ES/Er4wDQYJKoZIhvcNAQEFBQAwXzELMAkG\nA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMTcwNQYDVQQLEy5DbGFz\ncyAzIFB1YmxpYyBQcmltYXJ5IENlcnRpZmljYXRpb24gQXV0aG9yaXR5MB4XDTk2\nMDEyOTAwMDAwMFoXDTI4MDgwMjIzNTk1OVowXzELMAkGA1UEBhMCVVMxFzAVBgNV\nBAoTDlZlcmlTaWduLCBJbmMuMTcwNQYDVQQLEy5DbGFzcyAzIFB1YmxpYyBQcmlt\nYXJ5IENlcnRpZmljYXRpb24gQXV0aG9yaXR5MIGfMA0GCSqGSIb3DQEBAQUAA4GN\nADCBiQKBgQDJXFme8huKARS0EN8EQNvjV69qRUCPhAwL0TPZ2RHP7gJYHyX3KqhE\nBarsAx94f56TuZoAqiN91qyFomNFx3InzPRMxnVx0jnvT0Lwdd8KkMaOIG+YD/is\nI19wKTakyYbnsZogy1Olhec9vn2a/iRFM9x2Fe0PonFkTGUugWhFpwIDAQABMA0G\nCSqGSIb3DQEBBQUAA4GBABByUqkFFBkyCEHwxWsKzH4PIRnN5GfcX6kb5sroc50i\n2JhucwNhkcV8sEVAbkSdjbCxlnRhLQ2pRdKkkirWmnWXbj9T/UWZYB2oK0z5XqcJ\n2HUw19JlYD1n1khVdWk/kfVIC0dpImmClr7JyDiGSnoscxlIaU5rfGW/D/xwzoiQ\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIDAjCCAmsCEH3Z/gfPqB63EHln+6eJNMYwDQYJKoZIhvcNAQEFBQAwgcExCzAJ\nBgNVBAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE8MDoGA1UECxMzQ2xh\nc3MgMyBQdWJsaWMgUHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEcy\nMTowOAYDVQQLEzEoYykgMTk5OCBWZXJpU2lnbiwgSW5jLiAtIEZvciBhdXRob3Jp\nemVkIHVzZSBvbmx5MR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMB4X\nDTk4MDUxODAwMDAwMFoXDTI4MDgwMTIzNTk1OVowgcExCzAJBgNVBAYTAlVTMRcw\nFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE8MDoGA1UECxMzQ2xhc3MgMyBQdWJsaWMg\nUHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEcyMTowOAYDVQQLEzEo\nYykgMTk5OCBWZXJpU2lnbiwgSW5jLiAtIEZvciBhdXRob3JpemVkIHVzZSBvbmx5\nMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMIGfMA0GCSqGSIb3DQEB\nAQUAA4GNADCBiQKBgQDMXtERXVxp0KvTuWpMmR9ZmDCOFoUgRm1HP9SFIIThbbP4\npO0M8RcPO/mn+SXXwc+EY/J8Y8+iR/LGWzOOZEAEaMGAuWQcRXfH2G71lSk8UOg0\n13gfqLptQ5GVj0VXXn7F+8qkBOvqlzdUMG+7AUcyM83cV5tkaWH4mx0ciU9cZwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBAFFNzb5cy5gZnBWyATl4Lk0PZ3BwmcYQWpSk\nU01UbSuvDV1Ai2TT1+7eVmGSX6bEHRBhNtMsJzzoKQm5EWR0zLVznxxIqbxhAe7i\nF6YM40AIOw7n60RzKprxaZLvcRTDOaxxp5EJb+RxBrO6WVcmeQD2+A2iMzAo1KpY\noJ2daZH9\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIEGjCCAwICEQCbfgZJoz5iudXukEhxKe9XMA0GCSqGSIb3DQEBBQUAMIHKMQsw\nCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZl\ncmlTaWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5IFZlcmlTaWdu\nLCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlT\naWduIENsYXNzIDMgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3Jp\ndHkgLSBHMzAeFw05OTEwMDEwMDAwMDBaFw0zNjA3MTYyMzU5NTlaMIHKMQswCQYD\nVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlT\naWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5IFZlcmlTaWduLCBJ\nbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlTaWdu\nIENsYXNzIDMgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkg\nLSBHMzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMu6nFL8eB8aHm8b\nN3O9+MlrlBIwT/A2R/XQkQr1F8ilYcEWQE37imGQ5XYgwREGfassbqb1EUGO+i2t\nKmFZpGcmTNDovFJbcCAEWNF6yaRpvIMXZK0Fi7zQWM6NjPXr8EJJC52XJ2cybuGu\nkxUccLwgTS8Y3pKI6GyFVxEa6X7jJhFUokWWVYPKMIno3Nij7SqAP395ZVc+FSBm\nCC+Vk7+qRy+oRpfwEuL+wgorUeZ25rdGt+INpsyow0xZVYnm6FNcHOqd8GIWC6fJ\nXwzw3sJ2zq/3avL6QaaiMxTJ5Xpj055iN9WFZZ4O5lMkdBteHRJTW8cs54NJOxWu\nimi5V5cCAwEAATANBgkqhkiG9w0BAQUFAAOCAQEAERSWwauSCPc/L8my/uRan2Te\n2yFPhpk0djZX3dAVL8WtfxUfN2JzPtTnX84XA9s1+ivbrmAJXx5fj267Cz3qWhMe\nDGBvtcC1IyIuBwvLqXTLR7sdwdela8wv0kL9Sd2nic9TutoAWii/gt/4uhMdUIaC\n/Y4wjylGsB49Ndo4YhYYSq3mtlFs3q9i6wHQHiT+eo8SGhJouPtmmRQURVyu565p\nF4ErWjfJXir0xuKhXFSbplQAz/DxwceYMBo7Nhbbo27q/a2ywtrvAkcTisDxszGt\nTxzhT5yvDwyd93gN2PQ1VoDat20Xj50egWTh/sVFuq1ruQp6Tk9LhO5L8X3dEQ==\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIDhDCCAwqgAwIBAgIQL4D+I4wOIg9IZxIokYesszAKBggqhkjOPQQDAzCByjEL\nMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZW\nZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTowOAYDVQQLEzEoYykgMjAwNyBWZXJpU2ln\nbiwgSW5jLiAtIEZvciBhdXRob3JpemVkIHVzZSBvbmx5MUUwQwYDVQQDEzxWZXJp\nU2lnbiBDbGFzcyAzIFB1YmxpYyBQcmltYXJ5IENlcnRpZmljYXRpb24gQXV0aG9y\naXR5IC0gRzQwHhcNMDcxMTA1MDAwMDAwWhcNMzgwMTE4MjM1OTU5WjCByjELMAkG\nA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJp\nU2lnbiBUcnVzdCBOZXR3b3JrMTowOAYDVQQLEzEoYykgMjAwNyBWZXJpU2lnbiwg\nSW5jLiAtIEZvciBhdXRob3JpemVkIHVzZSBvbmx5MUUwQwYDVQQDEzxWZXJpU2ln\nbiBDbGFzcyAzIFB1YmxpYyBQcmltYXJ5IENlcnRpZmljYXRpb24gQXV0aG9yaXR5\nIC0gRzQwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAASnVnp8Utpkmw4tXNherJI9/gHm\nGUo9FANL+mAnINmDiWn6VMaaGF5VKmTeBvaNSjutEDxlPZCIBIngMGGzrl0Bp3ve\nfLK+ymVhAIau2o970ImtTR1ZmkGxvEeA3J5iw/mjgbIwga8wDwYDVR0TAQH/BAUw\nAwEB/zAOBgNVHQ8BAf8EBAMCAQYwbQYIKwYBBQUHAQwEYTBfoV2gWzBZMFcwVRYJ\naW1hZ2UvZ2lmMCEwHzAHBgUrDgMCGgQUj+XTGoasjY5rw8+AatRIGCx7GS4wJRYj\naHR0cDovL2xvZ28udmVyaXNpZ24uY29tL3ZzbG9nby5naWYwHQYDVR0OBBYEFLMW\nkf3upm7ktS5Jj4d4gYDs5bG1MAoGCCqGSM49BAMDA2gAMGUCMGYhDBgmYFo4e1ZC\n4Kf8NoRRkSAsdk1DPcQdhCPQrNZ8NQbOzWm9kA3bbEhCHQ6qQgIxAJw9SDkjOVga\nFRJZap7v1VmyHVIsmXHNxynfGyphe3HR3vPA5Q06Sqotp9iGKt0uEA==\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIE0zCCA7ugAwIBAgIQGNrRniZ96LtKIVjNzGs7SjANBgkqhkiG9w0BAQUFADCB\nyjELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQL\nExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTowOAYDVQQLEzEoYykgMjAwNiBWZXJp\nU2lnbiwgSW5jLiAtIEZvciBhdXRob3JpemVkIHVzZSBvbmx5MUUwQwYDVQQDEzxW\nZXJpU2lnbiBDbGFzcyAzIFB1YmxpYyBQcmltYXJ5IENlcnRpZmljYXRpb24gQXV0\naG9yaXR5IC0gRzUwHhcNMDYxMTA4MDAwMDAwWhcNMzYwNzE2MjM1OTU5WjCByjEL\nMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZW\nZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTowOAYDVQQLEzEoYykgMjAwNiBWZXJpU2ln\nbiwgSW5jLiAtIEZvciBhdXRob3JpemVkIHVzZSBvbmx5MUUwQwYDVQQDEzxWZXJp\nU2lnbiBDbGFzcyAzIFB1YmxpYyBQcmltYXJ5IENlcnRpZmljYXRpb24gQXV0aG9y\naXR5IC0gRzUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCvJAgIKXo1\nnmAMqudLO07cfLw8RRy7K+D+KQL5VwijZIUVJ/XxrcgxiV0i6CqqpkKzj/i5Vbex\nt0uz/o9+B1fs70PbZmIVYc9gDaTY3vjgw2IIPVQT60nKWVSFJuUrjxuf6/WhkcIz\nSdhDY2pSS9KP6HBRTdGJaXvHcPaz3BJ023tdS1bTlr8Vd6Gw9KIl8q8ckmcY5fQG\nBO+QueQA5N06tRn/Arr0PO7gi+s3i+z016zy9vA9r911kTMZHRxAy3QkGSGT2RT+\nrCpSx4/VBEnkjWNHiDxpg8v+R70rfk/Fla4OndTRQ8Bnc+MUCH7lP59zuDMKz10/\nNIeWiu5T6CUVAgMBAAGjgbIwga8wDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8E\nBAMCAQYwbQYIKwYBBQUHAQwEYTBfoV2gWzBZMFcwVRYJaW1hZ2UvZ2lmMCEwHzAH\nBgUrDgMCGgQUj+XTGoasjY5rw8+AatRIGCx7GS4wJRYjaHR0cDovL2xvZ28udmVy\naXNpZ24uY29tL3ZzbG9nby5naWYwHQYDVR0OBBYEFH/TZafC3ey78DAJ80M5+gKv\nMzEzMA0GCSqGSIb3DQEBBQUAA4IBAQCTJEowX2LP2BqYLz3q3JktvXf2pXkiOOzE\np6B4Eq1iDkVwZMXnl2YtmAl+X6/WzChl8gGqCBpH3vn5fJJaCGkgDdk+bW48DW7Y\n5gaRQBi5+MHt39tBquCWIMnNZBU4gcmU7qKEKQsTb47bDN0lAtukixlE0kF6BWlK\nWE9gyn6CagsCqiUXObXbf+eEZSqVir2G3l6BFoMtEMze/aiCKm0oHw0LxOXnGiYZ\n4fQRbxC1lfznQgUy286dUV4otp6F01vvpX1FQHKOtw5rDgb7MzVIcbidJ4vEZV8N\nhnacRHr2lVz2XTIIM6RUthg/aFzyQkqFOFSDX9HoLPKsEdao7WNq\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIEGjCCAwICEQDsoKeLbnVqAc/EfMwvlF7XMA0GCSqGSIb3DQEBBQUAMIHKMQsw\nCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZl\ncmlTaWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5IFZlcmlTaWdu\nLCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlT\naWduIENsYXNzIDQgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3Jp\ndHkgLSBHMzAeFw05OTEwMDEwMDAwMDBaFw0zNjA3MTYyMzU5NTlaMIHKMQswCQYD\nVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlT\naWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5IFZlcmlTaWduLCBJ\nbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlTaWdu\nIENsYXNzIDQgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkg\nLSBHMzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAK3LpRFpxlmr8Y+1\nGQ9Wzsy1HyDkniYlS+BzZYlZ3tCD5PUPtbut8XzoIfzk6AzufEUiGXaStBO3IFsJ\n+mGuqPKljYXCKtbeZjbSmwL0qJJgfJxptI8kHtCGUvYynEFYHiK9zUVilQhu0Gbd\nU6LM8BDcVHOLBKFGMzNcF0C5nk3T875Vg+ixiY5afJqWIpA7iCXy0lOIAgwLePLm\nNxdLMEYH5IBtptiWLugs+BGzOA1mppvqySNb247i8xOOGlktqgLw7KSHZtzBP/XY\nufTsgsbSPZUd5cBPhMnZo0QoBmrXRazwa2rvTl/4EYIeOGM0ZlDUPpNz+jDDZq3/\nky2X7wMCAwEAATANBgkqhkiG9w0BAQUFAAOCAQEAj/ola09b5KROJ1WrIhVZPMq1\nCtRK26vdoV9TxaBXOcLORyu+OshWv8LZJxA6sQU8wHcxuzrTBXttmhwwjIDLk5Mq\ng6sFUYICABFna/OIYUdfA5PVWw3g8dShMjWFsjrbsIKr0csKvE+MW8VLADsfKoKm\nfjaF3H48ZwC15DtS4KjrXRX5xm3wrR0OhbepmnMUWluPQSjA1egtTaRezarZ7c7c\n2NU8Qh0XwRJdRTjDOPP8hS6DRkiy1yBfkjaP53kPmF6Z6PDQpLv1U70qzlmwr25/\nbLvSHgCwIe34QWKCudiyxLtGUPMxxY8BqHTr9Xgn2uf3ZkPznoM+IKrDNWCRzg==\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIEuTCCA6GgAwIBAgIQQBrEZCGzEyEDDrvkEhrFHTANBgkqhkiG9w0BAQsFADCB\nvTELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQL\nExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTowOAYDVQQLEzEoYykgMjAwOCBWZXJp\nU2lnbiwgSW5jLiAtIEZvciBhdXRob3JpemVkIHVzZSBvbmx5MTgwNgYDVQQDEy9W\nZXJpU2lnbiBVbml2ZXJzYWwgUm9vdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAe\nFw0wODA0MDIwMDAwMDBaFw0zNzEyMDEyMzU5NTlaMIG9MQswCQYDVQQGEwJVUzEX\nMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRydXN0\nIE5ldHdvcmsxOjA4BgNVBAsTMShjKSAyMDA4IFZlcmlTaWduLCBJbmMuIC0gRm9y\nIGF1dGhvcml6ZWQgdXNlIG9ubHkxODA2BgNVBAMTL1ZlcmlTaWduIFVuaXZlcnNh\nbCBSb290IENlcnRpZmljYXRpb24gQXV0aG9yaXR5MIIBIjANBgkqhkiG9w0BAQEF\nAAOCAQ8AMIIBCgKCAQEAx2E3XrEBNNti1xWb/1hajCMj1mCOkdeQmIN65lgZOIzF\n9uVkhbSicfvtvbnazU0AtMgtc6XHaXGVHzk8skQHnOgO+k1KxCHfKWGPMiJhgsWH\nH26MfF8WIFFE0XBPV+rjHOPMee5Y2A7Cs0WTwCznmhcrewA3ekEzeOEz4vMQGn+H\nLL729fdC4uW/h2KJXwBL38Xd5HVEMkE6HnFuacsLdUYI0crSK5XQz/u5QGtkjFdN\n/BMReYTtXlT2NJ8IAfMQJQYXStrxHXpma5hgZqTZ79IugvHw7wnqRMkVauIDbjPT\nrJ9VAMf2CGqUuV/c4DPxhGD5WycRtPwW8rtWaoAljQIDAQABo4GyMIGvMA8GA1Ud\nEwEB/wQFMAMBAf8wDgYDVR0PAQH/BAQDAgEGMG0GCCsGAQUFBwEMBGEwX6FdoFsw\nWTBXMFUWCWltYWdlL2dpZjAhMB8wBwYFKw4DAhoEFI/l0xqGrI2Oa8PPgGrUSBgs\nexkuMCUWI2h0dHA6Ly9sb2dvLnZlcmlzaWduLmNvbS92c2xvZ28uZ2lmMB0GA1Ud\nDgQWBBS2d/ppSEefUxLVwuoHMnYH0ZcHGTANBgkqhkiG9w0BAQsFAAOCAQEASvj4\nsAPmLGd75JR3Y8xuTPl9Dg3cyLk1uXBPY/ok+myDjEedO2Pzmvl2MpWRsXe8rJq+\nseQxIcaBlVZaDrHC1LGmWazxY8u4TB1ZkErvkBYoH1quEPuBUDgMbMzxPcP1Y+Oz\n4yHJJDnp/RVmRvQbEdBNc6N9Rvk97ahfYtTxP/jgdFcrGJ2BtMQo2pSXpXDrrB2+\nBxHw1dvd5Yzw1TKwg+ZX4o+/vqGqvz0dtdQ46tewXDpPaj+PwGZsY6rp2aQW9IHR\nlRQOfc2VNNnSj3BzgXucfr2YYdhFh5iQxeuGMMY1v/D/w1WIg0vvBZIGcfK4mJO3\n7M2CYfE45k+XmCpajQ==\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIEADCCAuigAwIBAgIBADANBgkqhkiG9w0BAQUFADBjMQswCQYDVQQGEwJVUzEh\nMB8GA1UEChMYVGhlIEdvIERhZGR5IEdyb3VwLCBJbmMuMTEwLwYDVQQLEyhHbyBE\nYWRkeSBDbGFzcyAyIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MB4XDTA0MDYyOTE3\nMDYyMFoXDTM0MDYyOTE3MDYyMFowYzELMAkGA1UEBhMCVVMxITAfBgNVBAoTGFRo\nZSBHbyBEYWRkeSBHcm91cCwgSW5jLjExMC8GA1UECxMoR28gRGFkZHkgQ2xhc3Mg\nMiBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTCCASAwDQYJKoZIhvcNAQEBBQADggEN\nADCCAQgCggEBAN6d1+pXGEmhW+vXX0iG6r7d/+TvZxz0ZWizV3GgXne77ZtJ6XCA\nPVYYYwhv2vLM0D9/AlQiVBDYsoHUwHU9S3/Hd8M+eKsaA7Ugay9qK7HFiH7Eux6w\nwdhFJ2+qN1j3hybX2C32qRe3H3I2TqYXP2WYktsqbl2i/ojgC95/5Y0V4evLOtXi\nEqITLdiOr18SPaAIBQi2XKVlOARFmR6jYGB0xUGlcmIbYsUfb18aQr4CUWWoriMY\navx4A6lNf4DD+qta/KFApMoZFv6yyO9ecw3ud72a9nmYvLEHZ6IVDd2gWMZEewo+\nYihfukEHU1jPEX44dMX4/7VpkI+EdOqXG68CAQOjgcAwgb0wHQYDVR0OBBYEFNLE\nsNKR1EwRcbNhyz2h/t2oatTjMIGNBgNVHSMEgYUwgYKAFNLEsNKR1EwRcbNhyz2h\n/t2oatTjoWekZTBjMQswCQYDVQQGEwJVUzEhMB8GA1UEChMYVGhlIEdvIERhZGR5\nIEdyb3VwLCBJbmMuMTEwLwYDVQQLEyhHbyBEYWRkeSBDbGFzcyAyIENlcnRpZmlj\nYXRpb24gQXV0aG9yaXR5ggEAMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEFBQAD\nggEBADJL87LKPpH8EsahB4yOd6AzBhRckB4Y9wimPQoZ+YeAEW5p5JYXMP80kWNy\nOO7MHAGjHZQopDH2esRU1/blMVgDoszOYtuURXO1v0XJJLXVggKtI3lpjbi2Tc7P\nTMozI+gciKqdi0FuFskg5YmezTvacPd+mSYgFFQlq25zheabIZ0KbIIOqPjCDPoQ\nHmyW74cNxA9hi63ugyuV+I6ShHI56yDqg+2DzZduCLzrTia2cyvk0/ZM/iZx4mER\ndEr/VxqHD3VILs9RaRegAhJhldXRQLIQTO7ErBBDpqWeCtWVYpoNz4iCxTIM5Cuf\nReYNnyicsbkqWletNw+vHX/bvZ8=\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIDxTCCAq2gAwIBAgIBADANBgkqhkiG9w0BAQsFADCBgzELMAkGA1UEBhMCVVMx\nEDAOBgNVBAgTB0FyaXpvbmExEzARBgNVBAcTClNjb3R0c2RhbGUxGjAYBgNVBAoT\nEUdvRGFkZHkuY29tLCBJbmMuMTEwLwYDVQQDEyhHbyBEYWRkeSBSb290IENlcnRp\nZmljYXRlIEF1dGhvcml0eSAtIEcyMB4XDTA5MDkwMTAwMDAwMFoXDTM3MTIzMTIz\nNTk1OVowgYMxCzAJBgNVBAYTAlVTMRAwDgYDVQQIEwdBcml6b25hMRMwEQYDVQQH\nEwpTY290dHNkYWxlMRowGAYDVQQKExFHb0RhZGR5LmNvbSwgSW5jLjExMC8GA1UE\nAxMoR28gRGFkZHkgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkgLSBHMjCCASIw\nDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAL9xYgjx+lk09xvJGKP3gElY6SKD\nE6bFIEMBO4Tx5oVJnyfq9oQbTqC023CYxzIBsQU+B07u9PpPL1kwIuerGVZr4oAH\n/PMWdYA5UXvl+TW2dE6pjYIT5LY/qQOD+qK+ihVqf94Lw7YZFAXK6sOoBJQ7Rnwy\nDfMAZiLIjWltNowRGLfTshxgtDj6AozO091GB94KPutdfMh8+7ArU6SSYmlRJQVh\nGkSBjCypQ5Yj36w6gZoOKcUcqeldHraenjAKOc7xiID7S13MMuyFYkMlNAJWJwGR\ntDtwKj9useiciAF9n9T521NtYJ2/LOdYq7hfRvzOxBsDPAnrSTFcaUaz4EcCAwEA\nAaNCMEAwDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAQYwHQYDVR0OBBYE\nFDqahQcQZyi27/a9BUFuIMGU2g/eMA0GCSqGSIb3DQEBCwUAA4IBAQCZ21151fmX\nWWcDYfF+OwYxdS2hII5PZYe096acvNjpL9DbWu7PdIxztDhC2gV7+AJ1uP2lsdeu\n9tfeE8tTEH6KRtGX+rcuKxGrkLAngPnon1rpN5+r5N9ss4UXnT3ZJE95kTXWXwTr\ngIOrmgIttRD02JDHBHNA7XIloKmf7J6raBKZV8aPEjoJpL1E/QYVN8Gb5DKj7Tjo\n2GTzLH4U/ALqn83/B2gX2yKQOC16jdFU8WnjXzPKej17CuPKf1855eJ1usV2GDPO\nLPAvTK33sefOT6jEm0pUBsV/fdUID+Ic/n4XuKxe9tQWskMJDE32p2u0mYRlynqI\n4uJEvlz36hz1\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIEDzCCAvegAwIBAgIBADANBgkqhkiG9w0BAQUFADBoMQswCQYDVQQGEwJVUzEl\nMCMGA1UEChMcU3RhcmZpZWxkIFRlY2hub2xvZ2llcywgSW5jLjEyMDAGA1UECxMp\nU3RhcmZpZWxkIENsYXNzIDIgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMDQw\nNjI5MTczOTE2WhcNMzQwNjI5MTczOTE2WjBoMQswCQYDVQQGEwJVUzElMCMGA1UE\nChMcU3RhcmZpZWxkIFRlY2hub2xvZ2llcywgSW5jLjEyMDAGA1UECxMpU3RhcmZp\nZWxkIENsYXNzIDIgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwggEgMA0GCSqGSIb3\nDQEBAQUAA4IBDQAwggEIAoIBAQC3Msj+6XGmBIWtDBFk385N78gDGIc/oav7PKaf\n8MOh2tTYbitTkPskpD6E8J7oX+zlJ0T1KKY/e97gKvDIr1MvnsoFAZMej2YcOadN\n+lq2cwQlZut3f+dZxkqZJRRU6ybH838Z1TBwj6+wRir/resp7defqgSHo9T5iaU0\nX9tDkYI22WY8sbi5gv2cOj4QyDvvBmVmepsZGD3/cVE8MC5fvj13c7JdBmzDI1aa\nK4UmkhynArPkPw2vCHmCuDY96pzTNbO8acr1zJ3o/WSNF4Azbl5KXZnJHoe0nRrA\n1W4TNSNe35tfPe/W93bC6j67eA0cQmdrBNj41tpvi/JEoAGrAgEDo4HFMIHCMB0G\nA1UdDgQWBBS/X7fRzt0fhvRbVazc1xDCDqmI5zCBkgYDVR0jBIGKMIGHgBS/X7fR\nzt0fhvRbVazc1xDCDqmI56FspGowaDELMAkGA1UEBhMCVVMxJTAjBgNVBAoTHFN0\nYXJmaWVsZCBUZWNobm9sb2dpZXMsIEluYy4xMjAwBgNVBAsTKVN0YXJmaWVsZCBD\nbGFzcyAyIENlcnRpZmljYXRpb24gQXV0aG9yaXR5ggEAMAwGA1UdEwQFMAMBAf8w\nDQYJKoZIhvcNAQEFBQADggEBAAWdP4id0ckaVaGsafPzWdqbAYcaT1epoXkJKtv3\nL7IezMdeatiDh6GX70k1PncGQVhiv45YuApnP+yz3SFmH8lU+nLMPUxA2IGvd56D\neruix/U0F47ZEUD0/CwqTRV/p2JdLiXTAAsgGh1o+Re49L2L7ShZ3U0WixeDyLJl\nxy16paq8U4Zt3VekyvggQQto8PT7dL5WXXp59fkdheMtlb71cZBDzI0fmgAKhynp\nVSJYACPq4xJDKVtHCN2MQWplBqjlIapBtJUhlbl90TSrE9atvNziPTnNvT51cKEY\nWQPJIrSPnNVeKtelttQKbfi3QBFGmh95DmK/D5fs4C8fF5Q=\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIID3TCCAsWgAwIBAgIBADANBgkqhkiG9w0BAQsFADCBjzELMAkGA1UEBhMCVVMx\nEDAOBgNVBAgTB0FyaXpvbmExEzARBgNVBAcTClNjb3R0c2RhbGUxJTAjBgNVBAoT\nHFN0YXJmaWVsZCBUZWNobm9sb2dpZXMsIEluYy4xMjAwBgNVBAMTKVN0YXJmaWVs\nZCBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eSAtIEcyMB4XDTA5MDkwMTAwMDAw\nMFoXDTM3MTIzMTIzNTk1OVowgY8xCzAJBgNVBAYTAlVTMRAwDgYDVQQIEwdBcml6\nb25hMRMwEQYDVQQHEwpTY290dHNkYWxlMSUwIwYDVQQKExxTdGFyZmllbGQgVGVj\naG5vbG9naWVzLCBJbmMuMTIwMAYDVQQDEylTdGFyZmllbGQgUm9vdCBDZXJ0aWZp\nY2F0ZSBBdXRob3JpdHkgLSBHMjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC\nggEBAL3twQP89o/8ArFvW59I2Z154qK3A2FWGMNHttfKPTUuiUP3oWmb3ooa/RMg\nnLRJdzIpVv257IzdIvpy3Cdhl+72WoTsbhm5iSzchFvVdPtrX8WJpRBSiUZV9Lh1\nHOZ/5FSuS/hVclcCGfgXcVnrHigHdMWdSL5stPSksPNkN3mSwOxGXn/hbVNMYq/N\nHwtjuzqd+/x5AJhhdM8mgkBj87JyahkNmcrUDnXMN/uLicFZ8WJ/X7NfZTD4p7dN\ndloedl40wOiWVpmKs/B/pM293DIxfJHP4F8R+GuqSVzRmZTRouNjWwl2tVZi4Ut0\nHZbUJtQIBFnQmA4O5t78w+wfkPECAwEAAaNCMEAwDwYDVR0TAQH/BAUwAwEB/zAO\nBgNVHQ8BAf8EBAMCAQYwHQYDVR0OBBYEFHwMMh+n2TB/xH1oo2Kooc6rB1snMA0G\nCSqGSIb3DQEBCwUAA4IBAQARWfolTwNvlJk7mh+ChTnUdgWUXuEok21iXQnCoKjU\nsHU48TRqneSfioYmUeYs0cYtbpUgSpIB7LiKZ3sx4mcujJUDJi5DnUox9g61DLu3\n4jd/IroAow57UvtruzvE03lRTs2Q9GcHGcg8RnoNAX3FWOdt5oUwF5okxBDgBPfg\n8n/Uqgr/Qh037ZTlZFkSIHc40zI+OIF1lnP6aI+xy84fxez6nH7PfrHxBy22/L/K\npL/QlwVKvOoYKAKQvVR4CSFx09F9HdkWsKlhPdAKACL8x3vLCWRFCztAgfd9fDL1\nmMpYjn0q7pBZc2T5NnReJaH1ZgUufzkVqSr7UIuOhWn0\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIID7zCCAtegAwIBAgIBADANBgkqhkiG9w0BAQsFADCBmDELMAkGA1UEBhMCVVMx\nEDAOBgNVBAgTB0FyaXpvbmExEzARBgNVBAcTClNjb3R0c2RhbGUxJTAjBgNVBAoT\nHFN0YXJmaWVsZCBUZWNobm9sb2dpZXMsIEluYy4xOzA5BgNVBAMTMlN0YXJmaWVs\nZCBTZXJ2aWNlcyBSb290IENlcnRpZmljYXRlIEF1dGhvcml0eSAtIEcyMB4XDTA5\nMDkwMTAwMDAwMFoXDTM3MTIzMTIzNTk1OVowgZgxCzAJBgNVBAYTAlVTMRAwDgYD\nVQQIEwdBcml6b25hMRMwEQYDVQQHEwpTY290dHNkYWxlMSUwIwYDVQQKExxTdGFy\nZmllbGQgVGVjaG5vbG9naWVzLCBJbmMuMTswOQYDVQQDEzJTdGFyZmllbGQgU2Vy\ndmljZXMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkgLSBHMjCCASIwDQYJKoZI\nhvcNAQEBBQADggEPADCCAQoCggEBANUMOsQq+U7i9b4Zl1+OiFOxHz/Lz58gE20p\nOsgPfTz3a3Y4Y9k2YKibXlwAgLIvWX/2h/klQ4bnaRtSmpDhcePYLQ1Ob/bISdm2\n8xpWriu2dBTrz/sm4xq6HZYuajtYlIlHVv8loJNwU4PahHQUw2eeBGg6345AWh1K\nTs9DkTvnVtYAcMtS7nt9rjrnvDH5RfbCYM8TWQIrgMw0R9+53pBlbQLPLJGmpufe\nhRhJfGZOozptqbXuNC66DQO4M99H67FrjSXZm86B0UVGMpZwh94CDklDhbZsc7tk\n6mFBrMnUVN+HL8cisibMn1lUaJ/8viovxFUcdUBgF4UCVTmLfwUCAwEAAaNCMEAw\nDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAQYwHQYDVR0OBBYEFJxfAN+q\nAdcwKziIorhtSpzyEZGDMA0GCSqGSIb3DQEBCwUAA4IBAQBLNqaEd2ndOxmfZyMI\nbw5hyf2E3F/YNoHN2BtBLZ9g3ccaaNnRbobhiCPPE95Dz+I0swSdHynVv/heyNXB\nve6SbzJ08pGCL72CQnqtKrcgfU28elUSwhXqvfdqlS5sdJ/PHLTyxQGjhdByPq1z\nqwubdQxtRbeOlKyWN7Wg0I8VRw7j6IPdj/3vQQF3zCepYoUz8jcI73HPdwbeyBkd\niEDPfUYd/x7H4c7/I9vG+o1VTqkC50cRRj70/b17KSa7qWFiNyi2LSr2EIZkyXCn\n0q23KXB56jzaYyWf/Wi3MOxw+3WKt21gZ7IeyLnp2KhvAotnDU0mV3HaIPzBSlCN\nsSi6\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIEfjCCA2agAwIBAgIBADANBgkqhkiG9w0BAQUFADCBzzELMAkGA1UEBhMCVVMx\nEDAOBgNVBAgTB0FyaXpvbmExEzARBgNVBAcTClNjb3R0c2RhbGUxJTAjBgNVBAoT\nHFN0YXJmaWVsZCBUZWNobm9sb2dpZXMsIEluYy4xOjA4BgNVBAsTMWh0dHA6Ly9j\nZXJ0aWZpY2F0ZXMuc3RhcmZpZWxkdGVjaC5jb20vcmVwb3NpdG9yeS8xNjA0BgNV\nBAMTLVN0YXJmaWVsZCBTZXJ2aWNlcyBSb290IENlcnRpZmljYXRlIEF1dGhvcml0\neTAeFw0wODA2MDIwMDAwMDBaFw0yOTEyMzEyMzU5NTlaMIHPMQswCQYDVQQGEwJV\nUzEQMA4GA1UECBMHQXJpem9uYTETMBEGA1UEBxMKU2NvdHRzZGFsZTElMCMGA1UE\nChMcU3RhcmZpZWxkIFRlY2hub2xvZ2llcywgSW5jLjE6MDgGA1UECxMxaHR0cDov\nL2NlcnRpZmljYXRlcy5zdGFyZmllbGR0ZWNoLmNvbS9yZXBvc2l0b3J5LzE2MDQG\nA1UEAxMtU3RhcmZpZWxkIFNlcnZpY2VzIFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9y\naXR5MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA8sxWKk3mFjdal+pt\nNTjREJvbuNypBAmVMy4JxQB7GnhCj8j0BY7+0miDHk6ZzRfbRz5Q84nS59yY+wX4\nqtZj9FRNwXEDsB8bdrMaNDBz8SgyYIP9tJzXttIiN3wZqjveExBpblwG02+j8mZa\ndkJIr4DRVFk91LnU2+25qzmZ9O5iq+F4cnvYOI1AtszcEgBwQ4Vp2Bjjyldyn7Tf\nP/wiqEJS9XdbmfBWLSZwFjYSwieeV6Z80CPxedyjk1goOD2frTZD7jf7+PlDrchW\n8pQSXkLrc7gTDcum1Ya5qihqVAOhPw8p6wkA6D9eon8XPaEr+L7QdR2khOOrF2UG\nUgCvsQIDAQABo2MwYTAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQEAwIBBjAd\nBgNVHQ4EFgQUtMZ/GkPMm3VdL8RL8ouYEOnxURAwHwYDVR0jBBgwFoAUtMZ/GkPM\nm3VdL8RL8ouYEOnxURAwDQYJKoZIhvcNAQEFBQADggEBAKyAu8QlBQtYpOR+KX6v\nvDvsLcBELvmR4NI7MieQLfaACVzCq2Uk2jgQRsRJ0v2aqyhId4jG6W/RR5HVNU8U\nCahbQAcdfHFWy4lC1L9hwCL3Lt+r83JDi0DolOuwJtrRE9Or0DYtLjqVs3cuFTkY\nDGm6qoDt8VNOM5toBOKgMC7X0V3UpmadhObnuzyJuzad/BepPVUrivubxEyE/9/S\nvmkbdLCo9uqwnLIpdIFMaDqaf3MlOfUT4GaRadRXS7furUXgLMOI076USYkf/3DV\nW205E7Ady5jmZ2MNY/b7w9dhcoOIP3B+U8meiVTWT399cbmu8WCLd2Ds+L/6aqOc\nASI=\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIDNjCCAp+gAwIBAgIQNhIilsXjOKUgodJfTNcJVDANBgkqhkiG9w0BAQUFADCB\nzjELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJ\nQ2FwZSBUb3duMR0wGwYDVQQKExRUaGF3dGUgQ29uc3VsdGluZyBjYzEoMCYGA1UE\nCxMfQ2VydGlmaWNhdGlvbiBTZXJ2aWNlcyBEaXZpc2lvbjEhMB8GA1UEAxMYVGhh\nd3RlIFByZW1pdW0gU2VydmVyIENBMSgwJgYJKoZIhvcNAQkBFhlwcmVtaXVtLXNl\ncnZlckB0aGF3dGUuY29tMB4XDTk2MDgwMTAwMDAwMFoXDTIxMDEwMTIzNTk1OVow\ngc4xCzAJBgNVBAYTAlpBMRUwEwYDVQQIEwxXZXN0ZXJuIENhcGUxEjAQBgNVBAcT\nCUNhcGUgVG93bjEdMBsGA1UEChMUVGhhd3RlIENvbnN1bHRpbmcgY2MxKDAmBgNV\nBAsTH0NlcnRpZmljYXRpb24gU2VydmljZXMgRGl2aXNpb24xITAfBgNVBAMTGFRo\nYXd0ZSBQcmVtaXVtIFNlcnZlciBDQTEoMCYGCSqGSIb3DQEJARYZcHJlbWl1bS1z\nZXJ2ZXJAdGhhd3RlLmNvbTCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEA0jY2\naovXwlue2oFBYo847kkEVdbQ7xwblRZH7xhINTpS9CtqBo87L+pW46+GjZ4X9560\nZXUCTe/LCaIhUdib0GfQug2SBhRz1JPLlyoAnFxODLz6FVL88kRu2hFKbgifLy3j\n+ao6hnO2RlNYyIkFvYMRuHM/qgeN9EJN50CdHDcCAwEAAaMTMBEwDwYDVR0TAQH/\nBAUwAwEB/zANBgkqhkiG9w0BAQUFAAOBgQBlkKyID1bZ5jA01CbH0FDxkt5r1DmI\nCSLGpmODA/eZd9iy5Ri4XWPz1HP7bJyZePFLeH0ZJMMrAoT4vCLZiiLXoPxx7JGH\nIPG47LHlVYCsPVLIOQ7C8MAFT9aCdYy9X9LcdpoFEsmvcsPcJX6kTY4XpeCHf+Ga\nWuFg3GQjPEIuTQ==\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIICiDCCAg2gAwIBAgIQNfwmXNmET8k9Jj1Xm67XVjAKBggqhkjOPQQDAzCBhDEL\nMAkGA1UEBhMCVVMxFTATBgNVBAoTDHRoYXd0ZSwgSW5jLjE4MDYGA1UECxMvKGMp\nIDIwMDcgdGhhd3RlLCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxJDAi\nBgNVBAMTG3RoYXd0ZSBQcmltYXJ5IFJvb3QgQ0EgLSBHMjAeFw0wNzExMDUwMDAw\nMDBaFw0zODAxMTgyMzU5NTlaMIGEMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMdGhh\nd3RlLCBJbmMuMTgwNgYDVQQLEy8oYykgMjAwNyB0aGF3dGUsIEluYy4gLSBGb3Ig\nYXV0aG9yaXplZCB1c2Ugb25seTEkMCIGA1UEAxMbdGhhd3RlIFByaW1hcnkgUm9v\ndCBDQSAtIEcyMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEotWcgnuVnfFSeIf+iha/\nBebfowJPDQfGAFG6DAJSLSKkQjnE/o/qycG+1E3/n3qe4rF8mq2nhglzh9HnmuN6\npapu+7qzcMBniKI11KOasf2twu8x+qi58/sIxpHR+ymVo0IwQDAPBgNVHRMBAf8E\nBTADAQH/MA4GA1UdDwEB/wQEAwIBBjAdBgNVHQ4EFgQUmtgAMADna3+FGO6Lts6K\nDPgR4bswCgYIKoZIzj0EAwMDaQAwZgIxAN344FdHW6fmCsO99YCKlzUNG4k8VIZ3\nKMqh9HneteY4sPBlcIx/AlTCv//YoT7ZzwIxAMSNlPzcU9LcnXgWHxUzI1NS41ox\nXZ3Krr0TKUQNJ1uo52icEvdYPy5yAlejj6EULg==\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIEKjCCAxKgAwIBAgIQYAGXt0an6rS0mtZLL/eQ+zANBgkqhkiG9w0BAQsFADCB\nrjELMAkGA1UEBhMCVVMxFTATBgNVBAoTDHRoYXd0ZSwgSW5jLjEoMCYGA1UECxMf\nQ2VydGlmaWNhdGlvbiBTZXJ2aWNlcyBEaXZpc2lvbjE4MDYGA1UECxMvKGMpIDIw\nMDggdGhhd3RlLCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxJDAiBgNV\nBAMTG3RoYXd0ZSBQcmltYXJ5IFJvb3QgQ0EgLSBHMzAeFw0wODA0MDIwMDAwMDBa\nFw0zNzEyMDEyMzU5NTlaMIGuMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMdGhhd3Rl\nLCBJbmMuMSgwJgYDVQQLEx9DZXJ0aWZpY2F0aW9uIFNlcnZpY2VzIERpdmlzaW9u\nMTgwNgYDVQQLEy8oYykgMjAwOCB0aGF3dGUsIEluYy4gLSBGb3IgYXV0aG9yaXpl\nZCB1c2Ugb25seTEkMCIGA1UEAxMbdGhhd3RlIFByaW1hcnkgUm9vdCBDQSAtIEcz\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAsr8nLPvb2FvdeHsbnndm\ngcs+vHyu86YnmjSjaDFxODNi5PNxZnmxqWWjpYvVj2AtP0LMqmsywCPLLEHd5N/8\nYZzic7IilRFDGF/Eth9XbAoFWCLINkw6fKXRz4aviKdEAhN0cXMKQlkC+BsUa0Lf\nb1+6a4KinVvnSr0eAXLbS3ToO39/fR8EtCab4LRarEc9VbjXsCZSKAExQGbY2SS9\n9irY7CFJXJv2eul/VTV+lmuNk5Mny5K76qxAwJ/C+IDPXfRa3M50hqY+bAtTyr2S\nzhkGcuYMXDhpxwTWvGzOW/b3aJzcJRVIiKHpqfiYnODz1TEoYRFsZ5aNOZnLwkUk\nOQIDAQABo0IwQDAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQEAwIBBjAdBgNV\nHQ4EFgQUrWyqlGCc7eT/+j4KdCtjA/e2Wb8wDQYJKoZIhvcNAQELBQADggEBABpA\n2JVlrAmSicY59BDlqQ5mU1143vokkbvnRFHfxhY0Cu9qRFHqKweKA3rD6z8KLFIW\noCtDuSWQP3CpMyVtRRooOyfPqsMpQhvfO0zAMzRbQYi/aytlryjvsvXDqmbOe1bu\nt8jLZ8HJnBoYuMTDSQPxYA5QzUbF83d597YV4Djbxy8ooAw/dyZ02SUS2jHaGh7c\nKUGRIjxpp7sC8rZcJwOJ9Abqm+RyguOhCcHpABnTPtRwa7pxpqpYrvS76Wy274fM\nm7v/OeZWYdMKp8RcTGB7BXcmer/YB1IsYvdwY9k5vG8cwnncdimvzsUsZAReiDZu\nMdRAGmI0Nj81Aa6sY6A=\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIEIDCCAwigAwIBAgIQNE7VVyDV7exJ9C/ON9srbTANBgkqhkiG9w0BAQUFADCB\nqTELMAkGA1UEBhMCVVMxFTATBgNVBAoTDHRoYXd0ZSwgSW5jLjEoMCYGA1UECxMf\nQ2VydGlmaWNhdGlvbiBTZXJ2aWNlcyBEaXZpc2lvbjE4MDYGA1UECxMvKGMpIDIw\nMDYgdGhhd3RlLCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxHzAdBgNV\nBAMTFnRoYXd0ZSBQcmltYXJ5IFJvb3QgQ0EwHhcNMDYxMTE3MDAwMDAwWhcNMzYw\nNzE2MjM1OTU5WjCBqTELMAkGA1UEBhMCVVMxFTATBgNVBAoTDHRoYXd0ZSwgSW5j\nLjEoMCYGA1UECxMfQ2VydGlmaWNhdGlvbiBTZXJ2aWNlcyBEaXZpc2lvbjE4MDYG\nA1UECxMvKGMpIDIwMDYgdGhhd3RlLCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNl\nIG9ubHkxHzAdBgNVBAMTFnRoYXd0ZSBQcmltYXJ5IFJvb3QgQ0EwggEiMA0GCSqG\nSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCsoPD7gFnUnMekz52hWXMJEEUMDSxuaPFs\nW0hoSVk3/AszGcJ3f8wQLZU0HObrTQmnHNK4yZc2AreJ1CRfBsDMRJSUjQJib+ta\n3RGNKJpchJAQeg29dGYvajig4tVUROsdB58Hum/u6f1OCyn1PoSgAfGcq/gcfomk\n6KHYcWUNo1F77rzSImANuVud37r8UVsLr5iy6S7pBOhih94ryNdOwUxkHt3Ph1i6\nSk/KaAcdHJ1KxtUvkcx8cXIcxcBn6zL9yZJclNqFwJu/U30rCfSMnZEfl2pSy94J\nNqR32HuHUETVPm4pafs5SSYeCaWAe0At6+gnhcn+Yf1+5nyXHdWdAgMBAAGjQjBA\nMA8GA1UdEwEB/wQFMAMBAf8wDgYDVR0PAQH/BAQDAgEGMB0GA1UdDgQWBBR7W0XP\nr87Lev0xkhpqtvNG61dIUDANBgkqhkiG9w0BAQUFAAOCAQEAeRHAS7ORtvzw6WfU\nDW5FvlXok9LOAz/t2iWwHVfLHjp2oEzsUHboZHIMpKnxuIvW1oeEuzLlQRHAd9mz\nYJ3rG9XRbkREqaYB7FViHXe4XI5ISXycO1cRrK1zN44veFyQaEfZYGDm/Ac9IiAX\nxPcW6cTYcvnIc3zfFi8VqT79aie2oetaupgf1eNNZAqdE8hhuvU5HIe6uL17In/2\n/qxAeeWsEG89jxt5dovEN7MhGITlNgDrYyCZuen+MwS7QcjBAvlEYyCegc5C09Y/\nLHbTY5xZ3Y+m4Q6gLkH3LpVHz7z9M/P2C2F+fpErgUfCJzDupxBdN49cOSvkBPB7\njVaMaA==\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIDIjCCAougAwIBAgIQNKT/9jCvTKU8MxdCoZRmdTANBgkqhkiG9w0BAQUFADCB\nxDELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJ\nQ2FwZSBUb3duMR0wGwYDVQQKExRUaGF3dGUgQ29uc3VsdGluZyBjYzEoMCYGA1UE\nCxMfQ2VydGlmaWNhdGlvbiBTZXJ2aWNlcyBEaXZpc2lvbjEZMBcGA1UEAxMQVGhh\nd3RlIFNlcnZlciBDQTEmMCQGCSqGSIb3DQEJARYXc2VydmVyLWNlcnRzQHRoYXd0\nZS5jb20wHhcNOTYwODAxMDAwMDAwWhcNMjEwMTAxMjM1OTU5WjCBxDELMAkGA1UE\nBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3du\nMR0wGwYDVQQKExRUaGF3dGUgQ29uc3VsdGluZyBjYzEoMCYGA1UECxMfQ2VydGlm\naWNhdGlvbiBTZXJ2aWNlcyBEaXZpc2lvbjEZMBcGA1UEAxMQVGhhd3RlIFNlcnZl\nciBDQTEmMCQGCSqGSIb3DQEJARYXc2VydmVyLWNlcnRzQHRoYXd0ZS5jb20wgZ8w\nDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBANOkUG7I/1Zr5s9dtuoMaHVHoqrC2oQl\n/Kj0R1HahbUgdJSGHg91yekIYfUGbTBuFRkC6VLAYttNmZ7iagxEOM3+vuNkCXDF\n/rFrKbYvScg71CcEJRCXL+eQbcAoQpnXTEPew/UhbVSfXcNY4cDk2VuwuNy0e982\nOsK1ZiIS1ocNAgMBAAGjEzARMA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZIhvcNAQEF\nBQADgYEAvkBpQW/G28GnvwfAReTQtUMeTJUzNelewj4o9qgNUNX/4gwP/FACjq6R\nua00io2fJ3GqGcxL6ATK1BdrEhrWxl/WzV7/iXa/2EjYWb0IiokdV81FHlK6EpqE\n+hiJX+j5MDVqAWC5mYCDhQpu2vTJj15zLTFKY6B08h+LItIpPus=\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIID4TCCAsmgAwIBAgIOYyUAAQACFI0zFQLkbPQwDQYJKoZIhvcNAQEFBQAwezEL\nMAkGA1UEBhMCREUxHDAaBgNVBAoTE1RDIFRydXN0Q2VudGVyIEdtYkgxJDAiBgNV\nBAsTG1RDIFRydXN0Q2VudGVyIFVuaXZlcnNhbCBDQTEoMCYGA1UEAxMfVEMgVHJ1\nc3RDZW50ZXIgVW5pdmVyc2FsIENBIElJSTAeFw0wOTA5MDkwODE1MjdaFw0yOTEy\nMzEyMzU5NTlaMHsxCzAJBgNVBAYTAkRFMRwwGgYDVQQKExNUQyBUcnVzdENlbnRl\nciBHbWJIMSQwIgYDVQQLExtUQyBUcnVzdENlbnRlciBVbml2ZXJzYWwgQ0ExKDAm\nBgNVBAMTH1RDIFRydXN0Q2VudGVyIFVuaXZlcnNhbCBDQSBJSUkwggEiMA0GCSqG\nSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDC2pxisLlxErALyBpXsq6DFJmzNEubkKLF\n5+cvAqBNLaT6hdqbJYUtQCggbergvbFIgyIpRJ9Og+41URNzdNW88jBmlFPAQDYv\nDIRlzg9uwliT6CwLOunBjvvya8o84pxOjuT5fdMnnxvVZ3iHLX8LR7PH6MlIfK8v\nzArZQe+f/prhsq75U7Xl6UafYOPfjdN/+5Z+s7Vy+EutCHnNaYlAJ/Uqwa1D7KRT\nyGG299J5KmcYdkhtWyUB0SbFt1dpIxVbYYqt8Bst2a9c8SaQaanVDED1M4BDj5yj\ndipFtK+/fz6HP3bFzSreIMUWWMv5G/UPyw0RUmS40nZid4PxWJ//AgMBAAGjYzBh\nMB8GA1UdIwQYMBaAFFbn4VslQ4Dg9ozhcbyO5YAvxEjiMA8GA1UdEwEB/wQFMAMB\nAf8wDgYDVR0PAQH/BAQDAgEGMB0GA1UdDgQWBBRW5+FbJUOA4PaM4XG8juWAL8RI\n4jANBgkqhkiG9w0BAQUFAAOCAQEAg8ev6n9NCjw5sWi+e22JLumzCecYV42Fmhfz\ndkJQEw/HkG8zrcVJYCtsSVgZ1OK+t7+rSbyUyKu+KGwWaODIl0YgoGhnYIg5IFHY\naAERzqf2EQf27OysGh+yZm5WZ2B6dF7AbZc2rrUNXWZzwCUyRdhKBgePxLcHsU0G\nDeGl6/R1yrqc0L2z0zIkTO5+4nYES0lT2PLpVDP85XEfPRRclkvxOvIAu2y0+pZV\nCIgJwcyRGSmwIC3/yzikQOEXvnlhgP8HA4ZMTnsGnxGGjYnuJ8Tb4rwZjgvDwxPH\nLQNjO9Po5KIqwoIIlBZU8O8fJ5AluA0OKBtHd0e9HKgl8ZS0Zg==\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIID3TCCAsWgAwIBAgIOHaIAAQAC7LdggHiNtgYwDQYJKoZIhvcNAQEFBQAweTEL\nMAkGA1UEBhMCREUxHDAaBgNVBAoTE1RDIFRydXN0Q2VudGVyIEdtYkgxJDAiBgNV\nBAsTG1RDIFRydXN0Q2VudGVyIFVuaXZlcnNhbCBDQTEmMCQGA1UEAxMdVEMgVHJ1\nc3RDZW50ZXIgVW5pdmVyc2FsIENBIEkwHhcNMDYwMzIyMTU1NDI4WhcNMjUxMjMx\nMjI1OTU5WjB5MQswCQYDVQQGEwJERTEcMBoGA1UEChMTVEMgVHJ1c3RDZW50ZXIg\nR21iSDEkMCIGA1UECxMbVEMgVHJ1c3RDZW50ZXIgVW5pdmVyc2FsIENBMSYwJAYD\nVQQDEx1UQyBUcnVzdENlbnRlciBVbml2ZXJzYWwgQ0EgSTCCASIwDQYJKoZIhvcN\nAQEBBQADggEPADCCAQoCggEBAKR3I5ZEr5D0MacQ9CaHnPM42Q9e3s9B6DGtxnSR\nJJZ4Hgmgm5qVSkr1YnwCqMqs+1oEdjneX/H5s7/zA1hV0qq34wQi0fiU2iIIAI3T\nfCZdzHd55yx4Oagmcw6iXSVphU9VDprvxrlE4Vc93x9UIuVvZaozhDrzznq+VZeu\njRIPFDPiUHDDSYcTvFHe15gSWu86gzOSBnWLknwSaHtwag+1m7Z3W0hZneTvWq3z\nwZ7U10VOylY0Ibw+F1tvdwxIAUMpsN0/lm7mlaoMwCC2/T42J5zjXM9OgdwZu5GQ\nfezmlwQek8wiSdeXhrYTCjxDI3d+8NzmzSQfO4ObNDqDNOMCAwEAAaNjMGEwHwYD\nVR0jBBgwFoAUkqR1LKSevoFE63n8isWVpesQdXMwDwYDVR0TAQH/BAUwAwEB/zAO\nBgNVHQ8BAf8EBAMCAYYwHQYDVR0OBBYEFJKkdSyknr6BROt5/IrFlaXrEHVzMA0G\nCSqGSIb3DQEBBQUAA4IBAQAo0uCG1eb4e/CX3CJrO5UUVg8RMKWaTzqwOuAGy2X1\n7caXJ/4l8lfmXpWMPmRgFVp/Lw0BxbFg/UU1z/CyvwbZ71q+s2IhtNerNXxTPqYn\n8aEt2hojnczd7Dwtnic0XQ/CNnm8yUpiLe1r2X1BQ3y2qsrtYbE3ghUJGooWMNjs\nydZHcnhLEEYUjl8Or+zHL6sQ17bxbuyGssLoDZJz3KL0Dzq/YSMQiZxIQG5wALPT\nujdEWBF6AmqI8Dc08BnprNRlc/ZpjGSUOnmFKbAWKwyCPwacx/0QK54PLLae4xW/\n2TYcuiUaUj0a7CIMHOCkoj3w6DnPgcB77V0fb8XQC9eY\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIF3zCCA8egAwIBAgIOGTMAAQACKBqaBLzyVUUwDQYJKoZIhvcNAQEFBQAwejEL\nMAkGA1UEBhMCREUxHDAaBgNVBAoTE1RDIFRydXN0Q2VudGVyIEdtYkgxJDAiBgNV\nBAsTG1RDIFRydXN0Q2VudGVyIFVuaXZlcnNhbCBDQTEnMCUGA1UEAxMeVEMgVHJ1\nc3RDZW50ZXIgVW5pdmVyc2FsIENBIElJMB4XDTA2MDMyMjE1NTgzNFoXDTMwMTIz\nMTIyNTk1OVowejELMAkGA1UEBhMCREUxHDAaBgNVBAoTE1RDIFRydXN0Q2VudGVy\nIEdtYkgxJDAiBgNVBAsTG1RDIFRydXN0Q2VudGVyIFVuaXZlcnNhbCBDQTEnMCUG\nA1UEAxMeVEMgVHJ1c3RDZW50ZXIgVW5pdmVyc2FsIENBIElJMIICIjANBgkqhkiG\n9w0BAQEFAAOCAg8AMIICCgKCAgEAi9R3azRs5TbYalxeOO781R15Azt7g2JEgk6I\n7d6D/+7MUGIFBZWZdpj2ufJf2AaRksL2LWYXH/1TA+iojWOpbuHWG4y8mLOLO9Tk\nLsp9hUkmW3m4GotAnn+7yT9jLM/RWny6KCJBElpN+Rd3/IX9wkngKhh/6aAsnPlE\n/AxoOUL1JwW+jhV6YJ3wO8c85j4WvK923mq3ouGrRkXrjGV90ZfzlxElq1nroCLZ\ngt2Y7X7i+qBhCkoy3iwX921E6oFHWZdXNwM53V6CItQzuPomCba8OYgvURVOm8M7\n3xOCiN1LNPIz1pDp81PcNXzAw9l8eLPNcD+NauCjgUjkKa1juPD8KGQ7mbN9/pqd\niPaZIgiRRxaJNXhdd6HPv0nh/SSUK2k2e+gc5iqQilvVOzRZQtxtz7sPQRxVzfUN\nWy4WIibvYR6X/OJTyM9bo8ep8boOhhLLE8oVx+zkNo3aXBM9ZdIOXXB03L+PemrB\nLg/Txl4PK1lszGFs/sBhTtnmT0ayWuIZFHCE+CAA7QGnl37DvRJckiMXoKUdRRcV\nI5qSCLUiiI3cKyTr4LEXaNOvYb3ZhXj2jbp4yjeNY77nrB/fpUcJucglMVRGURFV\nDYlcjdrSGC1z8rjVJ/VIIjfRYvd7Dcg4i6FKsPzQ8eu3hmPn4A5zf/1yUbXpfeJV\nBWR4Z38CAwEAAaNjMGEwHwYDVR0jBBgwFoAUzdeQoW6jv9sw1toyJZAM5jkegGUw\nDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAYYwHQYDVR0OBBYEFM3XkKFu\no7/bMNbaMiWQDOY5HoBlMA0GCSqGSIb3DQEBBQUAA4ICAQB+FojoEw42zG4qhQc4\nxlaJeuNHIWZMUAgxWlHQ/KZeFHXeTDvs8e3MfhEHSmHu6rOOOqQzxu2KQmZP8Tx7\nyaUFQZmx7Cxb7tyW0ohTS3g0uW7muw/FeqZ8Dhjfbw90TNGp8aHp2FRkzF6WeKJW\nGsFzshXGVwXf2vdIJIqOf2qp+U3pPmrOYCx9LZAI9mOPFdAtnIz/8f38DBZQVhT7\nupeG7rRJA1TuG1l/MDoCgoYhrv7wFfLfToPmmcW6NfcgkIw47XXP4S73BDD7Ua2O\ngiRAyn0pXdXZ92Vk/KqfdLh9kl3ShCngE+qK99CrxK7vFcXCifJ7tjtJmGHzTnKR\nN4xJkunI7Cqg90lufA0kxmts8jgvynAF5X/fxisrgIDV2m/LQLvYG/AkyRDIRAJ+\nLtOYqqIN8SvQ2vqOHP9U6OFKbt2o1ni1N6WsZNUUI8cOpevhCTjXwHxgpV2Yj4wC\n1dxWqPNNWKkL1HxkdAEy8t8PSoqpAqKiHYR3wvHMl700GXRd4nQ+dSf3r7/ufA5t\nVIimVuImrTESPB5BeW0X6hNeH/Vcn0lZo7Ivo0LD+qh+v6WfSMlgYmIK371F3uNC\ntVGW/cT1Gpm4UqJEzS1hjBWPgdVdotSQPYxuQGHDWV3Y2eH2dEcieXR92sqjbzcV\nNvAsGnE8EXbfXRo+VGN4a2V+Hw==\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIEqjCCA5KgAwIBAgIOLmoAAQACH9dSISwRXDswDQYJKoZIhvcNAQEFBQAwdjEL\nMAkGA1UEBhMCREUxHDAaBgNVBAoTE1RDIFRydXN0Q2VudGVyIEdtYkgxIjAgBgNV\nBAsTGVRDIFRydXN0Q2VudGVyIENsYXNzIDIgQ0ExJTAjBgNVBAMTHFRDIFRydXN0\nQ2VudGVyIENsYXNzIDIgQ0EgSUkwHhcNMDYwMTEyMTQzODQzWhcNMjUxMjMxMjI1\nOTU5WjB2MQswCQYDVQQGEwJERTEcMBoGA1UEChMTVEMgVHJ1c3RDZW50ZXIgR21i\nSDEiMCAGA1UECxMZVEMgVHJ1c3RDZW50ZXIgQ2xhc3MgMiBDQTElMCMGA1UEAxMc\nVEMgVHJ1c3RDZW50ZXIgQ2xhc3MgMiBDQSBJSTCCASIwDQYJKoZIhvcNAQEBBQAD\nggEPADCCAQoCggEBAKuAh5uO8MN8h9foJIIRszzdQ2Lu+MNF2ujhoF/RKrLqk2jf\ntMjWQ+nEdVl//OEd+DFwIxuInie5e/060smp6RQvkL4DUsFJzfb95AhmC1eKokKg\nuNV/aVyQMrKXDcpK3EY+AlWJU+MaWss2xgdW94zPEfRMuzBwBJWl9jmM/XOBCH2J\nXjIeIqkiRUuwZi4wzJ9l/fzLganx4Duvo4bRierERXlQXa7pIXSSTYtZgo+U4+lK\n8edJsBTj9WLL1XK9H7nSn6DNqPoByNkN39r8R52zyFTfSUrxIan+GE7uSNQZu+99\n5OKdy1u2bv/jzVrndIIFuoAlOMvkaZ6vQaoahPUCAwEAAaOCATQwggEwMA8GA1Ud\nEwEB/wQFMAMBAf8wDgYDVR0PAQH/BAQDAgEGMB0GA1UdDgQWBBTjq1RMgKHbVkO3\nkUrL84J6E1wIqzCB7QYDVR0fBIHlMIHiMIHfoIHcoIHZhjVodHRwOi8vd3d3LnRy\ndXN0Y2VudGVyLmRlL2NybC92Mi90Y19jbGFzc18yX2NhX0lJLmNybIaBn2xkYXA6\nLy93d3cudHJ1c3RjZW50ZXIuZGUvQ049VEMlMjBUcnVzdENlbnRlciUyMENsYXNz\nJTIwMiUyMENBJTIwSUksTz1UQyUyMFRydXN0Q2VudGVyJTIwR21iSCxPVT1yb290\nY2VydHMsREM9dHJ1c3RjZW50ZXIsREM9ZGU/Y2VydGlmaWNhdGVSZXZvY2F0aW9u\nTGlzdD9iYXNlPzANBgkqhkiG9w0BAQUFAAOCAQEAjNfffu4bgBCzg/XbEeprS6iS\nGNn3Bzn1LL4GdXpoUxUc6krtXvwjshOg0wn/9vYua0Fxec3ibf2uWWuFHbhOIprt\nZjluS5TmVfwLG4t3wVMTZonZKNaL80VKY7f9ewthXbhtvsPcW3nS7Yblok2+XnR8\nau0WOB9/WIFaGusyiC2y8zl3gK9etmF1KdsjTYjKUCjLhdLTEKJZbtOTVAB6okaV\nhgWcqRmY5TFyDADiZ9lA4CQze28suVyrZZ0srHbqNZn1l7kPJOzHdiEoZa5X6AeI\ndUpWoNIFOqTmjZKILPPy4cHGYdtBxceb9w4aUUXCYWvcZCcXjFq32nQozZfkvQ==\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIEqjCCA5KgAwIBAgIOSkcAAQAC5aBd1j8AUb8wDQYJKoZIhvcNAQEFBQAwdjEL\nMAkGA1UEBhMCREUxHDAaBgNVBAoTE1RDIFRydXN0Q2VudGVyIEdtYkgxIjAgBgNV\nBAsTGVRDIFRydXN0Q2VudGVyIENsYXNzIDMgQ0ExJTAjBgNVBAMTHFRDIFRydXN0\nQ2VudGVyIENsYXNzIDMgQ0EgSUkwHhcNMDYwMTEyMTQ0MTU3WhcNMjUxMjMxMjI1\nOTU5WjB2MQswCQYDVQQGEwJERTEcMBoGA1UEChMTVEMgVHJ1c3RDZW50ZXIgR21i\nSDEiMCAGA1UECxMZVEMgVHJ1c3RDZW50ZXIgQ2xhc3MgMyBDQTElMCMGA1UEAxMc\nVEMgVHJ1c3RDZW50ZXIgQ2xhc3MgMyBDQSBJSTCCASIwDQYJKoZIhvcNAQEBBQAD\nggEPADCCAQoCggEBALTgu1G7OVyLBMVMeRwjhjEQY0NVJz/GRcekPewJDRoeIMJW\nHt4bNwcwIi9v8Qbxq63WyKthoy9DxLCyLfzDlml7forkzMA5EpBCYMnMNWju2l+Q\nVl/NHE1bWEnrDgFPZPosPIlY2C8u4rBo6SI7dYnWRBpl8huXJh0obazovVkdKyT2\n1oQDZogkAHhg8fir/gKya/si+zXmFtGt9i4S5Po1auUZuV3bOx4a+9P/FRQI2Alq\nukWdFHlgfa9Aigdzs5OW03Q0jTo3Kd5c7PXuLjHCINy+8U9/I1LZW+Jk2ZyqBwi1\nRb3R0DHBq1SfqdLDYmAD8bs5SpJKPQq5ncWg/jcCAwEAAaOCATQwggEwMA8GA1Ud\nEwEB/wQFMAMBAf8wDgYDVR0PAQH/BAQDAgEGMB0GA1UdDgQWBBTUovyfs8PYA9NX\nXAek0CSnwPIA1DCB7QYDVR0fBIHlMIHiMIHfoIHcoIHZhjVodHRwOi8vd3d3LnRy\ndXN0Y2VudGVyLmRlL2NybC92Mi90Y19jbGFzc18zX2NhX0lJLmNybIaBn2xkYXA6\nLy93d3cudHJ1c3RjZW50ZXIuZGUvQ049VEMlMjBUcnVzdENlbnRlciUyMENsYXNz\nJTIwMyUyMENBJTIwSUksTz1UQyUyMFRydXN0Q2VudGVyJTIwR21iSCxPVT1yb290\nY2VydHMsREM9dHJ1c3RjZW50ZXIsREM9ZGU/Y2VydGlmaWNhdGVSZXZvY2F0aW9u\nTGlzdD9iYXNlPzANBgkqhkiG9w0BAQUFAAOCAQEANmDkcPcGIEPZIxpC8vijsrlN\nirTzwppVMXzEO2eatN9NDoqTSheLG43KieHPOh6sHfGcMrSOWXaiQYUlN6AT0PV8\nTtXqluJucsG7Kv5sbviRmEb8yRtXW+rIGjs/sFGYPAfaLFkB2otE6OF0/ado3VS6\ng0bsyEa1+K+XwDsJHI/OcpY9M1ZwvJbL2NV9IJqDnxrcOfHFcqMRA/07QlIp2+gB\n95tejNaNhk4Z+rwcvsUhpYeeeC422wlxo3I0+GzjBgnyXlal092Y+tTmBvTwtiBj\nS+opvaqCZh77gaqnN60TGOaSw4HBM7uIHqHn4rS9MWwOUT1v+5ZWgOI2F9Hc5A==\n-----END CERTIFICATE-----\n","-----BEGIN CERTIFICATE-----\nMIIDtjCCAp6gAwIBAgIOBcAAAQACQdAGCk3OdRAwDQYJKoZIhvcNAQEFBQAwdjEL\nMAkGA1UEBhMCREUxHDAaBgNVBAoTE1RDIFRydXN0Q2VudGVyIEdtYkgxIjAgBgNV\nBAsTGVRDIFRydXN0Q2VudGVyIENsYXNzIDQgQ0ExJTAjBgNVBAMTHFRDIFRydXN0\nQ2VudGVyIENsYXNzIDQgQ0EgSUkwHhcNMDYwMzIzMTQxMDIzWhcNMjUxMjMxMjI1\nOTU5WjB2MQswCQYDVQQGEwJERTEcMBoGA1UEChMTVEMgVHJ1c3RDZW50ZXIgR21i\nSDEiMCAGA1UECxMZVEMgVHJ1c3RDZW50ZXIgQ2xhc3MgNCBDQTElMCMGA1UEAxMc\nVEMgVHJ1c3RDZW50ZXIgQ2xhc3MgNCBDQSBJSTCCASIwDQYJKoZIhvcNAQEBBQAD\nggEPADCCAQoCggEBALXNTJytrlG7fEjFDSmGehSt2VA9CXIgDRS2Y8b+WJ7gIV7z\njyIZ3E6RIM1viCmis8GsKnK6i1S4QF/yqvhDhsIwXMynXX/GCEnkDjkvjhjWkd0j\nFnmA22xIHbzB3ygQY9GB493fL3l1oht48pQB5hBiecugfQLANIJ7x8CtHUzXapZ2\nW78mhEj9h/aECqqSB5lIPGG8ToVYx5ct/YFKocabEvVCUNFkPologiJw3fX64yhC\nL04y87OjNopq1mJcrPoBbbTgci6VaLTxkwzGioLSHVPqfOA/QrcSWrjN2qUGZ8uh\nd32llvCSHmcOHUJG5vnt+0dTf1cERh9GX8eu4I8CAwEAAaNCMEAwDwYDVR0TAQH/\nBAUwAwEB/zAOBgNVHQ8BAf8EBAMCAYYwHQYDVR0OBBYEFB/quz4lGwa9pd1iBX7G\nTFq/6A9DMA0GCSqGSIb3DQEBBQUAA4IBAQBYpCubTPfkpJKknGWYGWIi/HIy6QRd\nxMRwLVpG3kxHiiW5ot3u6hKvSI3vK2fbO8w0mCr3CEf/Iq978fTr4jgCMxh1KBue\ndmWsiANy8jhHHYz1nwqIUxAUu4DlDLNdjRfuHhkcho0UZ3iMksseIUn3f9MYv5x5\n+F0IebWqak2SNmy8eesOPXmK2PajVnBd3ttPedJ60pVchidlvqDTB4FAVd0Qy+BL\niILAkH0457+W4Ze6mqtCD9Of2J4VMxHL94J59bXAQVaS4d9VA61Iz9PyLrHHLVZM\nZHQqMc7cdalUR6SnQnIJ5+ECpkeyBM1CE+FhDOB4OiIgohxgQoaH96Xm\n-----END CERTIFICATE-----\n"]},function(e,t,r){"use strict";var n=r(6).DESTINATIONS,i=r(2),o=r(5),s=r(19);const a=r(50);e.exports.createError=function(e,t,r){const i=t.error;let{name:c,message:u,type:l}=a.extractErrorInformation(e,i,r,s),f={userAttributes:Object.create(null),agentAttributes:Object.create(null),intrinsics:Object.create(null)};if(e){f.intrinsics=e.getIntrinsicAttributes();let i=e.trace.attributes.get(n.ERROR_EVENT);i=i||{};const o=Object.assign(t.agentAttributes,i);if(f.agentAttributes=o,!r.high_security){const t=e.trace.custom.get(n.ERROR_EVENT);s.overwriteParameters(t,f.userAttributes)}}const p=t.customAttributes;if(!r.high_security&&r.api.custom_attributes_enabled&&p)for(let e in p)if(o.hasOwn(p,e)){r.attributeFilter.filterTransaction(n.ERROR_EVENT,e)&n.ERROR_EVENT&&(f.userAttributes[e]=p[e])}const d=t.error&&t.error.stack;d&&(f.stack_trace=(""+d).split(/[\n\r]/g),(r.high_security||r.strip_exception_messages.enabled)&&(f.stack_trace[0]=t.error.name+": <redacted>")),f.intrinsics["error.expected"]=!1,a.isExpected(l,u,e,r,s)&&(f.intrinsics["error.expected"]=!0);let h=[0,c,u,l,f];return e&&(h.transaction=e.id),h},e.exports.createEvent=function(e,t,r,n){var o=t[2],s=t[3],a=t[4];return[function(e,t,r,n,o,s){o&&(o/=1e3);var a={type:"TransactionError","error.class":t,"error.message":s.high_security?"":r,timestamp:o,"error.expected":n};if(e){a.transactionName=e.getFullName(),a.duration=e.timer.getDurationInMillis()/1e3;var c=e.metrics.getMetric(i.QUEUETIME);c&&(a.queueDuration=c.total),(c=e.metrics.getMetric(i.EXTERNAL.ALL))&&(a.externalDuration=c.total,a.externalCallCount=c.callCount),(c=e.metrics.getMetric(i.DB.ALL))&&(a.databaseDuration=c.total,a.databaseCallCount=c.callCount),e.syntheticsData&&(a["nr.syntheticsResourceId"]=e.syntheticsData.resourceId,a["nr.syntheticsJobId"]=e.syntheticsData.jobId,a["nr.syntheticsMonitorId"]=e.syntheticsData.monitorId),e.agent.config.distributed_tracing.enabled?e.addDistributedTraceIntrinsics(a):a["nr.referringTransactionGuid"]=e.referringTransactionGuid,a["nr.transactionGuid"]=e.id,e.port&&(a.port=e.port)}else a.transactionName="Unknown";return a}(e,s,o,a.intrinsics["error.expected"],r,n),Object.assign(Object.create(null),a.userAttributes),Object.assign(Object.create(null),a.agentAttributes)]},e.exports.Exception=class{constructor({error:e,timestamp:t,customAttributes:r,agentAttributes:n}){this.error=e,this.timestamp=t||0,this.customAttributes=r||{},this.agentAttributes=n||{}}getErrorDetails(e){const t=a.extractErrorInformation(null,this.error,e);return t.expected=this.isExpected(e,t),t}isExpected(e,{type:t,message:r}){return this._expected||(this._expected=a.isExpectedErrorClass(e,t)||a.isExpectedErrorMessage(e,t,r)),this._expected}}},function(e,t,r){"use strict";const n=r(36);e.exports=class extends n{constructor(e,t){super(e,t)}}},function(e,t,r){"use strict";var n=r(8),i=r(0),o=r(2),s=r(5);const a=r(49);var c=Object.create(null);e.exports={check:function(){const e=Object.keys(a.registeredInstrumentations);for(var t in e.push("pg.js","mysql2"),r.c){if(!s.hasOwn(r.c,t))continue;const i=t.split("node_modules"+n.sep),o=i[i.length-1];for(let r=0;r<e.length;r++){const n=e[r];o.startsWith(n)&&!c[n]&&(c[n]={name:n,filename:t})}}!function(){const e=Object.keys(c);if(e.length>0){var t="The newrelic module must be the first module required.\nThe following modules were required before newrelic and are not being instrumented:";e.forEach((function(e){t+="\n\t"+c[e].name+": "+c[e].filename})),i.warn(t)}}()},createMetrics:function(e){const t=Object.keys(c);t.length>0&&e.getOrCreateMetric(o.SUPPORTABILITY.UNINSTRUMENTED).incrementCallCount(),t.forEach((function(t){e.getOrCreateMetric(o.SUPPORTABILITY.UNINSTRUMENTED+"/"+c[t].name).incrementCallCount()}))}}},function(e,t,r){"use strict";e.exports=r(252)},function(e,t,r){"use strict";e.exports=function(e,t){var r=new Array(arguments.length-1),n=0,i=2,o=!0;for(;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,s){r[n]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,s(e))}}))}},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,r){"use strict";t.Service=r(263)},function(e,t,r){"use strict";e.exports={}},function(e,t,r){"use strict";e.exports=function(e){for(var t,r=o.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),a=e.fieldsArray.slice().sort(o.compareFieldsById),c=0;c<a.length;++c){var u=a[c].resolve(),l=e._fieldsArray.indexOf(u),f=u.resolvedType instanceof n?"int32":u.type,p=i.basic[f];t="m"+o.safeProp(u.name),u.map?(r("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,u.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(u.id<<3|2)>>>0,8|i.mapKey[u.keyType],u.keyType),void 0===p?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",l,t):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|p,f,t),r("}")("}")):u.repeated?(r("if(%s!=null&&%s.length){",t,t),u.packed&&void 0!==i.packed[f]?r("w.uint32(%i).fork()",(u.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",f,t)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",t),void 0===p?s(r,u,l,t+"[i]"):r("w.uint32(%i).%s(%s[i])",(u.id<<3|p)>>>0,f,t)),r("}")):(u.optional&&r("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,u.name),void 0===p?s(r,u,l,t):r("w.uint32(%i).%s(%s)",(u.id<<3|p)>>>0,f,t))}return r("return w")};var n=r(12),i=r(29),o=r(4);function s(e,t,r,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}},function(e,t,r){"use strict";e.exports=function(e){var t=o.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break");t("switch(t>>>3){");for(var r=0;r<e.fieldsArray.length;++r){var a=e._fieldsArray[r].resolve(),c=a.resolvedType instanceof n?"int32":a.type,u="m"+o.safeProp(a.name);t("case %i:",a.id),a.map?(t("if(%s===util.emptyObject)",u)("%s={}",u)("var c2 = r.uint32()+r.pos"),void 0!==i.defaults[a.keyType]?t("k=%j",i.defaults[a.keyType]):t("k=null"),void 0!==i.defaults[c]?t("value=%j",i.defaults[c]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",a.keyType)("case 2:"),void 0===i.basic[c]?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",c),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==i.long[a.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',u):t("%s[k]=value",u)):a.repeated?(t("if(!(%s&&%s.length))",u,u)("%s=[]",u),void 0!==i.packed[c]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",u,c)("}else"),void 0===i.basic[c]?t(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",u,r):t("%s.push(r.%s())",u,c)):void 0===i.basic[c]?t(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",u,r):t("%s=r.%s()",u,c),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var l=e._fieldsArray[r];l.required&&t("if(!m.hasOwnProperty(%j))",l.name)("throw util.ProtocolError(%j,{instance:m})",s(l))}return t("return m")};var n=r(12),i=r(29),o=r(4);function s(e){return"missing required '"+e.name+"'"}},function(e,t,r){"use strict";e.exports=function(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=e.oneofsArray,n={};r.length&&t("var p={}");for(var c=0;c<e.fieldsArray.length;++c){var u=e._fieldsArray[c].resolve(),l="m"+i.safeProp(u.name);if(u.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,u.name),u.map)t("if(!util.isObject(%s))",l)("return%j",o(u,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),a(t,u,"k[i]"),s(t,u,c,l+"[k[i]]")("}");else if(u.repeated)t("if(!Array.isArray(%s))",l)("return%j",o(u,"array"))("for(var i=0;i<%s.length;++i){",l),s(t,u,c,l+"[i]")("}");else{if(u.partOf){var f=i.safeProp(u.partOf.name);1===n[u.partOf.name]&&t("if(p%s===1)",f)("return%j",u.partOf.name+": multiple values"),n[u.partOf.name]=1,t("p%s=1",f)}s(t,u,c,l)}u.optional&&t("}")}return t("return null")};var n=r(12),i=r(4);function o(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function s(e,t,r,i){if(t.resolvedType)if(t.resolvedType instanceof n){e("switch(%s){",i)("default:")("return%j",o(t,"enum value"));for(var s=Object.keys(t.resolvedType.values),a=0;a<s.length;++a)e("case %i:",t.resolvedType.values[s[a]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",o(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",o(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",o(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",o(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",o(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",o(t,"buffer"))}return e}function a(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",o(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",o(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",o(t,"boolean key"))}return e}},function(e,t,r){"use strict";var n=t,i=r(12),o=r(4);function s(e,t,r,n){if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(d%s){",n);for(var o=t.resolvedType.values,s=Object.keys(o),a=0;a<s.length;++a)t.repeated&&o[s[a]]===t.typeDefault&&e("default:"),e("case%j:",s[a])("case %i:",o[s[a]])("m%s=%j",n,o[s[a]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var c=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,c)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,c?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function a(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var o=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":o=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,o?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=o.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var n=0;n<t.length;++n){var a=t[n].resolve(),c=o.safeProp(a.name);a.map?(r("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),s(r,a,n,c+"[ks[i]]")("}")("}")):a.repeated?(r("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),s(r,a,n,c+"[i]")("}")("}")):(a.resolvedType instanceof i||r("if(d%s!=null){",c),s(r,a,n,c),a.resolvedType instanceof i||r("}"))}return r("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(o.compareFieldsById);if(!t.length)return o.codegen()("return {}");for(var r=o.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],s=[],c=[],u=0;u<t.length;++u)t[u].partOf||(t[u].resolve().repeated?n:t[u].map?s:c).push(t[u]);if(n.length){for(r("if(o.arrays||o.defaults){"),u=0;u<n.length;++u)r("d%s=[]",o.safeProp(n[u].name));r("}")}if(s.length){for(r("if(o.objects||o.defaults){"),u=0;u<s.length;++u)r("d%s={}",o.safeProp(s[u].name));r("}")}if(c.length){for(r("if(o.defaults){"),u=0;u<c.length;++u){var l=c[u],f=o.safeProp(l.name);if(l.resolvedType instanceof i)r("d%s=o.enums===String?%j:%j",f,l.resolvedType.valuesById[l.typeDefault],l.typeDefault);else if(l.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",l.typeDefault.low,l.typeDefault.high,l.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",f)("}else")("d%s=o.longs===String?%j:%i",f,l.typeDefault.toString(),l.typeDefault.toNumber());else if(l.bytes){var p="["+Array.prototype.slice.call(l.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",f,String.fromCharCode.apply(String,l.typeDefault))("else{")("d%s=%s",f,p)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",f,f)("}")}else r("d%s=%j",f,l.typeDefault)}r("}")}var d=!1;for(u=0;u<t.length;++u){l=t[u];var h=e._fieldsArray.indexOf(l);f=o.safeProp(l.name);l.map?(d||(d=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",f,f)("d%s={}",f)("for(var j=0;j<ks2.length;++j){"),a(r,l,h,f+"[ks2[j]]")("}")):l.repeated?(r("if(m%s&&m%s.length){",f,f)("d%s=[]",f)("for(var j=0;j<m%s.length;++j){",f),a(r,l,h,f+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",f,l.name),a(r,l,h,f),l.partOf&&r("if(o.oneofs)")("d%s=%j",o.safeProp(l.partOf.name),l.name)),r("}")}return r("return d")}},function(e,t,r){"use strict";var n=t,i=r(63);n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var n="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return-1===n.indexOf("/")&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="",n="";if(t&&t.json&&e.type_url&&e.value){n=e.type_url.substring(e.type_url.lastIndexOf("/")+1),r=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var o=this.lookup(n);o&&(e=o.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var s=e.$type.toObject(e,t);return""===r&&(r="type.googleapis.com/"),n=r+("."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName),s["@type"]=n,s}return this.toObject(e,t)}}},function(e,t,r){"use strict";e.exports=d;var n=/[\s{}=;:[\],'"()<>]/g,i=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,o=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,s=/^ *[*/]+ */,a=/^\s*\*?\/*/,c=/\n/g,u=/\s/,l=/\\(.?)/g,f={0:"\0",r:"\r",n:"\n",t:"\t"};function p(e){return e.replace(l,(function(e,t){switch(t){case"\\":case"":return t;default:return f[t]||""}}))}function d(e,t){e=e.toString();var r=0,l=e.length,f=1,d=null,h=null,g=0,m=!1,y=!1,v=[],b=null;function E(e){return Error("illegal "+e+" (line "+f+")")}function w(t){return e.charAt(t)}function _(r,n,i){d=e.charAt(r++),g=f,m=!1,y=i;var o,u=r-(t?2:3);do{if(--u<0||"\n"===(o=e.charAt(u))){m=!0;break}}while(" "===o||"\t"===o);for(var l=e.substring(r,n).split(c),p=0;p<l.length;++p)l[p]=l[p].replace(t?a:s,"").trim();h=l.join("\n").trim()}function A(t){var r=C(t),n=e.substring(t,r);return/^\s*\/{1,2}/.test(n)}function C(e){for(var t=e;t<l&&"\n"!==w(t);)t++;return t}function T(){if(v.length>0)return v.shift();if(b)return function(){var t="'"===b?o:i;t.lastIndex=r-1;var n=t.exec(e);if(!n)throw E("string");return r=t.lastIndex,S(b),b=null,p(n[1])}();var s,a,c,d,h,g=0===r;do{if(r===l)return null;for(s=!1;u.test(c=w(r));)if("\n"===c&&(g=!0,++f),++r===l)return null;if("/"===w(r)){if(++r===l)throw E("comment");if("/"===w(r))if(t){if(d=r,h=!1,A(r)){h=!0;do{if((r=C(r))===l)break;r++}while(A(r))}else r=Math.min(l,C(r)+1);h&&_(d,r,g),f++,s=!0}else{for(h="/"===w(d=r+1);"\n"!==w(++r);)if(r===l)return null;++r,h&&_(d,r-1,g),++f,s=!0}else{if("*"!==(c=w(r)))return"/";d=r+1,h=t||"*"===w(d);do{if("\n"===c&&++f,++r===l)throw E("comment");a=c,c=w(r)}while("*"!==a||"/"!==c);++r,h&&_(d,r-2,g),s=!0}}}while(s);var m=r;if(n.lastIndex=0,!n.test(w(m++)))for(;m<l&&!n.test(w(m));)++m;var y=e.substring(r,r=m);return'"'!==y&&"'"!==y||(b=y),y}function S(e){v.push(e)}function I(){if(!v.length){var e=T();if(null===e)return null;S(e)}return v[0]}return Object.defineProperty({next:T,peek:I,push:S,skip:function(e,t){var r=I();if(r===e)return T(),!0;if(!t)throw E("token '"+r+"', '"+e+"' expected");return!1},cmnt:function(e){var r=null;return void 0===e?g===f-1&&(t||"*"===d||m)&&(r=y?h:null):(g<e&&I(),g!==e||m||!t&&"/"!==d||(r=y?null:h)),r}},"line",{get:function(){return f}})}d.unescape=p},function(e){e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}}}}}}')},function(e,t,r){var n;function i(e){function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;c++;var i=t.formatters[n];if("function"==typeof i){var o=s[c];r=i.call(e,o),s.splice(c,1),c--}return r})),t.formatArgs.call(e,s);var u=r.log||t.log||console.log.bind(console);u.apply(e,s)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(r),r}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length,i=0;i<n;i++)r[i]&&("-"===(e=r[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(119),t.names=[],t.skips=[],t.formatters={}},function(e,t){var r=1e3,n=6e4,i=60*n,o=24*i;function s(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,t){t=t||{};var a,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?s(a=e,o,"day")||s(a,i,"hour")||s(a,n,"minute")||s(a,r,"second")||a+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){var n=r(41);e.exports=function(){return n.randomBytes(16)}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";var n=r(7),i=r(309),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,c={adapter:("undefined"!=typeof XMLHttpRequest?a=r(310):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(a=r(316)),a),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){c.headers[e]=n.merge(o)})),e.exports=c},function(e,t,r){"use strict";var n=r(66);e.exports=function(e,t,r){var i=r.config.validateStatus;!i||i(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";var n=r(311),i=r(312);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},function(e,t,r){var n=r(11),i=r(35),o=r(27),s=r(56),a=r(40).Writable,c=r(317)("follow-redirects"),u={GET:!0,HEAD:!0,OPTIONS:!0,TRACE:!0},l=Object.create(null);function f(e,t){a.call(this),e.headers=e.headers||{},this._options=e,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e.host&&(e.hostname||(e.hostname=e.host),delete e.host),t&&this.on("response",t);var r=this;if(this._onNativeResponse=function(e){r._processResponse(e)},!e.pathname&&e.path){var n=e.path.indexOf("?");n<0?e.pathname=e.path:(e.pathname=e.path.substring(0,n),e.search=e.path.substring(n))}this._performRequest()}function p(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach((function(i){var o=i+":",a=r[o]=e[i],u=t[i]=Object.create(a);u.request=function(e,i){return"string"==typeof e?(e=n.parse(e)).maxRedirects=t.maxRedirects:e=Object.assign({protocol:o,maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e),e.nativeProtocols=r,s.equal(e.protocol,o,"protocol mismatch"),c("options",e),new f(e,i)},u.get=function(e,t){var r=u.request(e,t);return r.end(),r}})),t}["abort","aborted","error","socket","timeout"].forEach((function(e){l[e]=function(t){this._redirectable.emit(e,t)}})),f.prototype=Object.create(a.prototype),f.prototype.write=function(e,t,r){if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new Error("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(r=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new Error("Request body larger than maxBodyLength limit")),this.abort()):r&&r()},f.prototype.end=function(e,t,r){"function"==typeof e?(r=e,e=t=null):"function"==typeof t&&(r=t,t=null);var n=this._currentRequest;this.write(e||"",t,(function(){n.end(null,null,r)}))},f.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},f.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive","setTimeout"].forEach((function(e){f.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(f.prototype,e,{get:function(){return this._currentRequest[e]}})})),f.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var r=e.substr(0,e.length-1);this._options.agent=this._options.agents[r]}var i=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var o in this._currentUrl=n.format(this._options),i._redirectable=this,l)o&&i.on(o,l[o]);if(this._isRedirect){var s=0,a=this._requestBodyBuffers;!function e(){if(s<a.length){var t=a[s++];i.write(t.data,t.encoding,e)}else i.end()}()}}else this.emit("error",new Error("Unsupported protocol "+e))},f.prototype._processResponse=function(e){this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:e.statusCode});var t=e.headers.location;if(t&&!1!==this._options.followRedirects&&e.statusCode>=300&&e.statusCode<400){if(++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new Error("Max redirects exceeded."));var r,i=this._options.headers;if(307!==e.statusCode&&!(this._options.method in u))for(r in this._options.method="GET",this._requestBodyBuffers=[],i)/^content-/i.test(r)&&delete i[r];if(!this._isRedirect)for(r in i)/^host$/i.test(r)&&delete i[r];var o=n.resolve(this._currentUrl,t);c("redirecting to",o),Object.assign(this._options,n.parse(o)),this._isRedirect=!0,this._performRequest(),e.destroy()}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]},e.exports=p({http:i,https:o}),e.exports.wrap=p},function(e,t,r){function n(e){var r;function n(){if(n.enabled){var e=n,i=+new Date,o=i-(r||i);e.diff=o,e.prev=r,e.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;c++;var i=t.formatters[n];if("function"==typeof i){var o=s[c];r=i.call(e,o),s.splice(c,1),c--}return r})),t.formatArgs.call(e,s);var u=n.log||t.log||console.log.bind(console);u.apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),n.destroy=i,"function"==typeof t.init&&t.init(n),t.instances.push(n),n}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var r;t.save(e),t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(r=0;r<t.instances.length;r++){var o=t.instances[r];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(119),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,r){"use strict";var n=r(7);e.exports=function(e,t){t=t||{};var r={},i=["url","method","params","data"],o=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];n.forEach(i,(function(e){void 0!==t[e]&&(r[e]=t[e])})),n.forEach(o,(function(i){n.isObject(t[i])?r[i]=n.deepMerge(e[i],t[i]):void 0!==t[i]?r[i]=t[i]:n.isObject(e[i])?r[i]=n.deepMerge(e[i]):void 0!==e[i]&&(r[i]=e[i])})),n.forEach(s,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])}));var a=i.concat(o).concat(s),c=Object.keys(t).filter((function(e){return-1===a.indexOf(e)}));return n.forEach(c,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])})),r}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";e.exports=r(326)},function(e,t,r){"use strict";var n=r(132),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return n.isMemo(e)?s:a[e.$$typeof]||i}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=s;var u=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var i=d(r);i&&i!==h&&e(t,i,n)}var s=l(r);f&&(s=s.concat(f(r)));for(var a=c(t),g=c(r),m=0;m<s.length;++m){var y=s[m];if(!(o[y]||n&&n[y]||g&&g[y]||a&&a[y])){var v=p(r,y);try{u(t,y,v)}catch(e){}}}}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loggingMiddleware=t.noticeError=t.addTransaction=void 0;var n=r(135);Object.defineProperty(t,"addTransaction",{enumerable:!0,get:function(){return n.addTransaction}}),Object.defineProperty(t,"noticeError",{enumerable:!0,get:function(){return n.noticeError}});var i=r(279);Object.defineProperty(t,"loggingMiddleware",{enumerable:!0,get:function(){return i.loggingMiddleware}}),t.default=i.loggingMiddleware},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.noticeError=t.addTransaction=void 0;var s=o(r(136));t.addTransaction=function(e,t){s.default.recordCustomEvent(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t))},t.noticeError=function(e,t){s.default.noticeError(e,t)}},function(e,t,r){"use strict";(function(t){const n=process.uptime(),i=Date.now();r(21);const o=r(77).prerelease,s=r(48);let a=r(0);const c=r(79);a.info("Using New Relic for Node.js. Agent version: %s; Node version: %s.",c.version,process.version),r.c.__NR_cache?(a.warn("Attempting to load a second copy of newrelic from %s, using cache instead",t),r.c.__NR_cache.agent&&r.c.__NR_cache.agent.recordSupportability("Agent/DoubleLoad"),e.exports=r.c.__NR_cache):function(){a.debug("Loading agent from %s",t);let u=null,l=null;try{if(a.debug("Process was running %s seconds before agent was loaded.",n),s.satisfies("<10.0.0"))throw l="New Relic for Node.js requires a version of Node equal to or\ngreater than 10.0.0. Not starting!",a.error(l),new Error(l);s.satisfies(c.engines.node)&&!s.satisfies(">=15.0.0")||a.warn("New Relic for Node.js %s has not been tested on Node.js %s. Please update the agent or downgrade your version of Node.js",c.version,process.version),a.debug("Current working directory at module load is %s.",process.cwd()),a.debug("Process title is %s.",process.title),a.debug("Application was invoked as %s.",process.argv.join(" "));const e=r(17).getOrCreateInstance();a=r(0),e?e.agent_enabled?(u=function(e){const t=new(r(184))(e),n=t.config.applications();e.logging.diagnostics&&a.warn("Diagnostics logging is enabled, this may cause significant overhead.");if(n.length<1){const e="New Relic requires that you name this application!\nSet app_name in your newrelic.js file or set environment variable\nNEW_RELIC_APP_NAME. Not starting!";throw a.error(e),new Error(e)}const i=r(49);i.patchModule(t),i.bootstrapInstrumentation(t);return r(105).check(i.registeredInstrumentations),t.start((function(e){if(e){const t="New Relic for Node.js halted startup due to an error:";return a.error(e,t),console.error(t),void console.error(e.stack)}a.debug("New Relic for Node.js is connected to New Relic.")})),t}(e),function(e){const t=/^v?(\d+)/.exec(process.version);e.recordSupportability("Nodejs/Version/"+(t&&t[1]||"unknown"));const r=Object.keys(e.config.feature_flag);for(let t=0;t<r.length;++t){const n=r[t],i=e.config.feature_flag[n];i!==o[n]&&e.recordSupportability("Nodejs/FeatureFlag/"+n+"/"+(i?"enabled":"disabled"))}}(u)):a.info("Module disabled in configuration. Not starting."):a.info("No configuration detected. Not starting.")}catch(e){l="New Relic for Node.js was unable to bootstrap itself due to an error:",a.error(e,l),console.error(l),console.error(e.stack)}let f=null;f=r(u?80:183);if(r.c.__NR_cache=e.exports=new f(u),u){const e=(Date.now()-i)/1e3;u.recordSupportability("Nodejs/Application/Opening/Duration",n),u.recordSupportability("Nodejs/Application/Initialization/Duration",e),u.once("started",(function(){u.recordSupportability("Nodejs/Application/Registration/Duration",(Date.now()-i)/1e3)}))}}()}).call(this,"/")},function(e,t,r){"use strict";var n=r(13),i=r(3),o=r(68),s=r(10);e.exports=c;const a={trace:10,debug:20,info:30,warn:40,error:50,fatal:60};function c(e,t){if(!(this instanceof c))return new c(e,t);o.call(this);var r=this.coerce(e.level);this.options={_level:r,enabled:void 0===e.enabled||e.enabled},this._nestedLog=!1,this.name=e.name,this.hostname=e.hostname||s.hostname(),this.extra=t||Object.create(null),this.buffer="",this.reading=!1,e.stream&&this.pipe(e.stream)}i.inherits(c,o),c.MAX_LOG_BUFFER=134217728,c.prototype.coerce=function(e){return!isNaN(parseInt(e,10))&&isFinite(e)?(e<10&&(e=10),e>60&&(e=60),e):a[e]||50};var u=Object.create(null);function l(e,t,r){this.v=0,this.level=t,this.name=e.name,this.hostname=e.hostname,this.pid=process.pid,this.time=(new Date).toISOString(),this.msg=r}function f(e){var t=Object.assign(Object.create(null),e);if(e instanceof Error){var r=Object.getOwnPropertyNames(e);if(r)for(var n=0;n<r.length;n++)t[r[n]]=e[r[n]]}return t}Object.keys(a).forEach((function(e){var t=c.prototype.coerce(a[e]);function r(e){if(!this.options.enabled)return!1;if(t<this.options._level)return!1;var r="object"==typeof e,n=Array.prototype.slice.call(arguments,r?1:0);return this.write(t,n,r?e:null)}u[e]=function(){r.apply(this,arguments)};var n=Object.create(null);u[e+"Once"]=function(i){if("string"==typeof i){if(!this.options.enabled)return!1;if(t<this.options._level)return!1;if(!0!==n[i]){var o=Array.prototype.slice.call(arguments,1),s=r.apply(this,o);s&&(n[i]=!0)}}else this.debug("Attempted to key on a non-string in "+e+"Once: "+i)};var i=Object.create(null);u[e+"OncePer"]=function(n,o){if("string"==typeof n){if(!this.options.enabled)return!1;if(t<this.options._level)return!1;if(!0!==i[n]){var s=Array.prototype.slice.call(arguments,2),a=r.apply(this,s);if(a){i[n]=!0;var c=setTimeout((function(){delete i[n]}),o);c.unref()}}}else this.debug("Attempted to key on a non-string in "+e+"Once: "+n)},u[e+"Enabled"]=function(){return t>=this.options._level}})),Object.assign(c.prototype,u),c.prototype.child=function(e){var t=Object.create(u);t.extra=Object.assign(Object.create(null),this.extra,e);var r=this;return t.options=r.options,t.write=function(e,t,n){return n=f(n),n=Object.assign(Object.create(null),this.extra,n),r.write(e,t,n)},t.setEnabled=c.prototype.setEnabled,t.child=c.prototype.child,t},c.prototype.level=function(e){this.options._level=this.coerce(e)},c.prototype.setEnabled=function(e){"boolean"==typeof e&&(this.options.enabled=e)},c.prototype._read=function(){0!==this.buffer.length?(this.reading=this.push(this.buffer),this.buffer=""):this.reading=!0},c.prototype.write=function(e,t,r){if(!this._nestedLog){this._nestedLog=!0;for(var o=0,s=t.length;o<s;++o)if("function"==typeof t[o])t[o]=t[o].valueOf();else if("object"==typeof t[o])try{t[o]=n(t[o])}catch(e){this.debug("Failed to stringfy object for log"),t[o]="[UNPARSABLE OBJECT]"}var a=new l(this,e,i.format.apply(i,t));Object.assign(a,this.extra,f(r));var c="";try{c=n(a)+"\n"}catch(e){this.debug("Unabled to stringify log message")}return this.reading?this.reading=this.push(c):this.buffer.length+c.length<134217728?this.buffer+=c:process.emitWarning&&process.emitWarning("Dropping log message, buffer would overflow.","NewRelicWarning","NRWARN001"),this._nestedLog=!1,!0}}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(22).Buffer,a=r(3).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,u;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,s.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),u&&o(t,u),e}()},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){e.exports=r(3).deprecate},function(e,t,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(22),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(46),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function d(e,t){return{value:e,done:t}}function h(e){var t=e[s];if(null!==t){var r=e[p].read();null!==r&&(e[l]=null,e[s]=null,e[a]=null,t(d(r,!1)))}}function g(e){process.nextTick(h,e)}var m=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(n={get stream(){return this[p]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(d(void 0,!0));if(this[p].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(d(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(d(void 0,!0)):t[f](r,n)}),n)}}(n,this));else{var i=this[p].read();if(null!==i)return Promise.resolve(d(i,!1));r=new Promise(this[f])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[p].destroy(null,(function(e){e?r(e):t(d(void 0,!0))}))}))})),n),m);e.exports=function(e){var t,r=Object.create(y,(i(t={},p,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var n=r[p].read();n?(r[l]=null,r[s]=null,r[a]=null,e(d(n,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[l]=null,r[s]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[a]=null,n(d(void 0,!0))),r[u]=!0})),e.on("readable",g.bind(null,r)),r}},function(e,t,r){"use strict";function n(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function a(e){n(s,i,o,a,c,"next",e)}function c(e){n(s,i,o,a,c,"throw",e)}a(void 0)}))}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(16).codes.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){var n;if(t&&"function"==typeof t.next)n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new a("iterable",["Iterable"],t);n=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({objectMode:!0},r)),u=!1;function l(){return f.apply(this,arguments)}function f(){return(f=i((function*(){try{var e=yield n.next(),t=e.value;e.done?c.push(null):c.push(yield t)?l():u=!1}catch(e){c.destroy(e)}}))).apply(this,arguments)}return c._read=function(){u||(u=!0,l())},c}},function(e,t,r){"use strict";e.exports=i;var n=r(75);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(23)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n;var i=r(16).codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(46)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,r){var o=r<t.length-1;return c(e,o,r>0,(function(e){n||(n=e),e&&s.forEach(u),o||(s.forEach(u),i(n))}))}));return t.reduce(l)}},function(e,t,r){"use strict";e.exports.parseKey=function(e){var t=/^(.+?)x/.exec(e);return t&&t[1]}},function(e,t){var r;t=e.exports=z,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],o=t.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var u=s++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;o[l]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var f=s++;o[f]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var p=s++;o[p]="(?:"+o[a]+"|"+o[u]+")";var d=s++;o[d]="(?:"+o[c]+"|"+o[u]+")";var h=s++;o[h]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var g=s++;o[g]="(?:-?("+o[d]+"(?:\\."+o[d]+")*))";var m=s++;o[m]="[0-9A-Za-z-]+";var y=s++;o[y]="(?:\\+("+o[m]+"(?:\\."+o[m]+")*))";var v=s++,b="v?"+o[l]+o[h]+"?"+o[y]+"?";o[v]="^"+b+"$";var E="[v=\\s]*"+o[f]+o[g]+"?"+o[y]+"?",w=s++;o[w]="^"+E+"$";var _=s++;o[_]="((?:<|>)?=?)";var A=s++;o[A]=o[c]+"|x|X|\\*";var C=s++;o[C]=o[a]+"|x|X|\\*";var T=s++;o[T]="[v=\\s]*("+o[C]+")(?:\\.("+o[C]+")(?:\\.("+o[C]+")(?:"+o[h]+")?"+o[y]+"?)?)?";var S=s++;o[S]="[v=\\s]*("+o[A]+")(?:\\.("+o[A]+")(?:\\.("+o[A]+")(?:"+o[g]+")?"+o[y]+"?)?)?";var I=s++;o[I]="^"+o[_]+"\\s*"+o[T]+"$";var N=s++;o[N]="^"+o[_]+"\\s*"+o[S]+"$";var O=s++;o[O]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var R=s++;o[R]="(?:~>?)";var M=s++;o[M]="(\\s*)"+o[R]+"\\s+",i[M]=new RegExp(o[M],"g");var x=s++;o[x]="^"+o[R]+o[T]+"$";var D=s++;o[D]="^"+o[R]+o[S]+"$";var k=s++;o[k]="(?:\\^)";var B=s++;o[B]="(\\s*)"+o[k]+"\\s+",i[B]=new RegExp(o[B],"g");var j=s++;o[j]="^"+o[k]+o[T]+"$";var P=s++;o[P]="^"+o[k]+o[S]+"$";var F=s++;o[F]="^"+o[_]+"\\s*("+E+")$|^$";var L=s++;o[L]="^"+o[_]+"\\s*("+b+")$|^$";var U=s++;o[U]="(\\s*)"+o[_]+"\\s*("+E+"|"+o[T]+")",i[U]=new RegExp(o[U],"g");var V=s++;o[V]="^\\s*("+o[T]+")\\s+-\\s+("+o[T]+")\\s*$";var Q=s++;o[Q]="^\\s*("+o[S]+")\\s+-\\s+("+o[S]+")\\s*$";var G=s++;o[G]="(<|>)?=?\\s*\\*";for(var W=0;W<35;W++)r(W,o[W]),i[W]||(i[W]=new RegExp(o[W]));function Y(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof z)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?i[w]:i[v]).test(e))return null;try{return new z(e,t)}catch(e){return null}}function z(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof z){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof z))return new z(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[w]:i[v]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=Y,t.valid=function(e,t){var r=Y(e,t);return r?r.version:null},t.clean=function(e,t){var r=Y(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=z,z.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},z.prototype.toString=function(){return this.version},z.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof z||(e=new z(e,this.options)),this.compareMain(e)||this.comparePre(e)},z.prototype.compareMain=function(e){return e instanceof z||(e=new z(e,this.options)),q(this.major,e.major)||q(this.minor,e.minor)||q(this.patch,e.patch)},z.prototype.comparePre=function(e){if(e instanceof z||(e=new z(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return q(n,i)}while(++t)},z.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new z(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(K(e,t))return null;var r=Y(e),n=Y(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return i+s;return o},t.compareIdentifiers=q;var H=/^[0-9]+$/;function q(e,t){var r=H.test(e),n=H.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function J(e,t,r){return new z(e,r).compare(new z(t,r))}function X(e,t,r){return J(e,t,r)>0}function Z(e,t,r){return J(e,t,r)<0}function K(e,t,r){return 0===J(e,t,r)}function $(e,t,r){return 0!==J(e,t,r)}function ee(e,t,r){return J(e,t,r)>=0}function te(e,t,r){return J(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return K(e,r,n);case"!=":return $(e,r,n);case">":return X(e,r,n);case">=":return ee(e,r,n);case"<":return Z(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return q(t,e)},t.major=function(e,t){return new z(e,t).major},t.minor=function(e,t){return new z(e,t).minor},t.patch=function(e,t){return new z(e,t).patch},t.compare=J,t.compareLoose=function(e,t){return J(e,t,!0)},t.rcompare=function(e,t,r){return J(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=X,t.lt=Z,t.eq=K,t.neq=$,t.gte=ee,t.lte=te,t.cmp=re,t.Comparator=ne;var ie={};function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ne)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,n,i,o,s,a,c,u,l,f,p){return((t=se(r)?"":se(n)?">="+r+".0.0":se(i)?">="+r+"."+n+".0":">="+t)+" "+(a=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":f?"<="+c+"."+u+"."+l+"-"+f:"<="+a)).trim()}function ce(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(i=0;i<e.length;i++)if(r(e[i].semver),e[i].semver!==ie&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ue(e,t,r){try{t=new oe(t,r)}catch(e){return!1}return t.test(e)}function le(e,t,r,n){var i,o,s,a,c;switch(e=new z(e,n),t=new oe(t,n),r){case">":i=X,o=te,s=Z,a=">",c=">=";break;case"<":i=Z,o=ee,s=X,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],f=null,p=null;if(l.forEach((function(e){e.semver===ie&&(e=new ne(">=0.0.0")),f=f||e,p=p||e,i(e.semver,f.semver,n)?f=e:s(e.semver,p.semver,n)&&(p=e)})),f.operator===a||f.operator===c)return!1;if((!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?i[F]:i[L],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new z(r[2],this.options.loose):this.semver=ie},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new z(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new oe(e.value,t),ue(this.value,r,t);if(""===e.operator)return r=new oe(this.value,t),ue(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||o&&s||a||c},t.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?i[Q]:i[V];e=e.replace(n,ae),r("hyphen replace",e),e=e.replace(i[U],"$1$2$3"),r("comparator trim",e,i[U]),e=(e=(e=e.replace(i[M],"$1~")).replace(i[B],"$1^")).split(/\s+/).join(" ");var o=t?i[F]:i[L],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?i[P]:i[j];return e.replace(n,(function(t,n,i,o,s){var a;return r("caret",e,t,n,i,o,s),se(n)?a="":se(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(o)?a="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===i?">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===i?">="+n+"."+i+"."+o+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?i[D]:i[x];return e.replace(n,(function(t,n,i,o,s){var a;return r("tilde",e,t,n,i,o,s),se(n)?a="":se(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(o)?a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0"):a=">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?i[N]:i[I];return e.replace(n,(function(t,n,i,o,s,a){r("xRange",e,t,n,i,o,s,a);var c=se(i),u=c||se(o),l=u||se(s);return"="===n&&l&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),t=n+i+"."+o+"."+s):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(i[G],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s=s.map((function(e){return new ne(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new z(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=ue,t.maxSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(n&&-1!==i.compare(e)||(i=new z(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(n&&1!==i.compare(e)||(i=new z(n=e,r)))})),n},t.minVersion=function(e,t){e=new oe(e,t);var r=new z("0.0.0");if(e.test(r))return r;if(r=new z("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach((function(e){var t=new z(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!X(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(r&&e.test(r))return r;return null},t.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return le(e,t,"<",r)},t.gtr=function(e,t,r){return le(e,t,">",r)},t.outside=le,t.prerelease=function(e,t){var r=Y(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new oe(e,r),t=new oe(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof z)return e;if("string"!=typeof e)return null;var t=e.match(i[O]);if(null==t)return null;return Y(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t,r){"use strict";e.exports=class{updateNestedIfChanged(e,t,r,n,i,o){var s=t[n];null!==s&&r[i]!==s&&(Array.isArray(s)&&Array.isArray(r[i])?this.updateArray(s,r,i):this.isSimpleObject(s)&&this.isSimpleObject(r[i])?this.updateObject(s,r,i):r[i]=s,e.emit(n,s),o.debug("Configuration of %s was changed to %s by New Relic.",n,s))}updateArray(e,t,r){e.forEach(e=>{-1===t[r].indexOf(e)&&t[r].push(e)})}updateObject(e,t,r){Object.keys(e).forEach(n=>{Array.isArray(t[r][n])&&Array.isArray(e[n])?e[n].forEach(e=>{-1===t[r][n].indexOf(e)&&t[r][n].push(e)}):t[r][n]=e[n]})}isSimpleObject(e){return"object"==typeof e&&null!==e}}},function(e,t,r){"use strict";function n(e){return!!(null!=e&&e>=0)}e.exports={isValidHarvestConfig:function(e){if(null==e)return!1;const t=e.harvest_limits;return n(e.report_period_ms)&&null!=t&&Object.keys(t).length>0},isValidHarvestValue:n}},function(e,t,r){"use strict";t.config={app_name:["My Application"],license_key:"license key here",distributed_tracing:{enabled:!0},logging:{level:"info"},allow_all_headers:!0,attributes:{exclude:["request.headers.cookie","request.headers.authorization","request.headers.proxyAuthorization","request.headers.setCookie*","request.headers.x*","response.headers.cookie","response.headers.authorization","response.headers.proxyAuthorization","response.headers.setCookie*","response.headers.x*"]}}},function(e,t,r){"use strict";t.LASP_MAP={record_sql:{path:"transaction_tracer.record_sql",allowedValues:["off","obfuscated"],filter:function(e,t){var r=["obfuscated","off"],n=r.indexOf(e),i=r.indexOf(t);return n<0&&i<0?r[r.length-1]:n<i?t:e},clearData:function(e){e._resetQueries()}},attributes_include:{path:"attributes.include_enabled",allowedValues:[!1,!0],filter:function(e,t){return e&&t},applyAdditionalSettings:function(e){e.attributes.exclude.push("request.parameters.*")},clearData:function(e){e.config.attributes.enabled&&e.config.attributes.include.length&&e.traces.clear()}},allow_raw_exception_messages:{path:"strip_exception_messages.enabled",allowedValues:[!0,!1],filter:function(e,t){return e||t},clearData:function(e){e._resetErrors()}},custom_events:{path:"api.custom_events_enabled",allowedValues:[!1,!0],filter:function(e,t){return e&&t},clearData:function(e){e._resetCustomEvents()}},custom_parameters:{path:"api.custom_attributes_enabled",allowedValues:[!1,!0],filter:function(e,t){return e&&t},clearData:function(e){e.config.attributes.enabled&&e.traces.clear()}},custom_instrumentation_editor:null,message_parameters:null,job_arguments:null}},function(e,t,r){"use strict";const n=new Set(["NEW_RELIC_APP_NAME","NEW_RELIC_ATTRIBUTES_EXCLUDE","NEW_RELIC_ATTRIBUTES_INCLUDE","NEW_RELIC_ERROR_COLLECTOR_IGNORE_ERROR_CODES","NEW_RELIC_ERROR_COLLECTOR_IGNORE_ERRORS","NEW_RELIC_ERROR_COLLECTOR_EXPECTED_ERROR_CODES","NEW_RELIC_ERROR_COLLECTOR_EXPECTED_ERRORS","NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_EXCLUDE","NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_INCLUDE","NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_EXCLUDE","NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_INCLUDE","NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_EXCLUDE","NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_INCLUDE","NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_EXCLUDE","NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_INCLUDE","NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_EXCLUDE","NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_INCLUDE","NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_EXCLUDE","NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_INCLUDE","NEW_RELIC_IGNORING_RULES","NEW_RELIC_AUDIT_LOG_ENDPOINTS"]),i=new Set(["NEW_RELIC_NAMING_RULES"]),o=new Set(["NEW_RELIC_ENABLED","NEW_RELIC_ATTRIBUTES_ENABLED","NEW_RELIC_ERROR_COLLECTOR_ENABLED","NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_ENABLED","NEW_RELIC_STRIP_EXCEPTION_MESSAGES_ENABLED","NEW_RELIC_ATTRIBUTES_INCLUDE_ENABLED","NEW_RELIC_TRACER_ENABLED","NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_ENABLED","NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_ENABLED","NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_ENABLED","NEW_RELIC_DEBUG_METRICS","NEW_RELIC_DEBUG_TRACER","NEW_RELIC_ENFORCE_BACKSTOP","NEW_RELIC_USE_SSL","NEW_RELIC_BROWSER_MONITOR_ENABLE","NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_ENABLED","NEW_RELIC_BROWSER_MONITOR_DEBUG","NEW_RELIC_HIGH_SECURITY","NEW_RELIC_SLOW_SQL_ENABLED","NEW_RELIC_SPAN_EVENTS_ENABLED","NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_ENABLED","NEW_RELIC_DISTRIBUTED_TRACING_ENABLED","NEW_RELIC_DISTRIBUTED_TRACING_EXCLUDE_NEWRELIC_HEADER","NEW_RELIC_LOG_ENABLED","NEW_RELIC_AUDIT_LOG_ENABLED","NEW_RELIC_DATASTORE_DATABASE_NAME_REPORTING_ENABLED","NEW_RELIC_DATASTORE_INSTANCE_REPORTING_ENABLED","NEW_RELIC_MESSAGE_TRACER_SEGMENT_PARAMETERS_ENABLED","NEW_RELIC_UTILIZATION_DETECT_AWS","NEW_RELIC_UTILIZATION_DETECT_PCF","NEW_RELIC_UTILIZATION_DETECT_AZURE","NEW_RELIC_UTILIZATION_DETECT_DOCKER","NEW_RELIC_UTILIZATION_DETECT_GCP","NEW_RELIC_UTILIZATION_DETECT_KUBERNETES","NEW_RELIC_SERVERLESS_MODE_ENABLED","NEW_RELIC_NATIVE_METRICS_ENABLED"]),s=new Set(["NEW_RELIC_APDEX_T","NEW_RELIC_TRACER_THRESHOLD"]),a=new Set(["NEW_RELIC_EXPLAIN_THRESHOLD","NEW_RELIC_MAX_SQL_SAMPLES","NEW_RELIC_INFINITE_TRACING_SPAN_EVENTS_QUEUE_SIZE"]);t.ENV_MAPPING={newrelic_home:"NEW_RELIC_HOME",app_name:"NEW_RELIC_APP_NAME",license_key:"NEW_RELIC_LICENSE_KEY",apdex_t:"NEW_RELIC_APDEX_T",security_policies_token:"NEW_RELIC_SECURITY_POLICIES_TOKEN",ssl:"NEW_RELIC_USE_SSL",host:"NEW_RELIC_HOST",port:"NEW_RELIC_PORT",proxy:"NEW_RELIC_PROXY_URL",proxy_host:"NEW_RELIC_PROXY_HOST",proxy_port:"NEW_RELIC_PROXY_PORT",proxy_user:"NEW_RELIC_PROXY_USER",proxy_pass:"NEW_RELIC_PROXY_PASS",agent_enabled:"NEW_RELIC_ENABLED",attributes:{enabled:"NEW_RELIC_ATTRIBUTES_ENABLED",exclude:"NEW_RELIC_ATTRIBUTES_EXCLUDE",include:"NEW_RELIC_ATTRIBUTES_INCLUDE",include_enabled:"NEW_RELIC_ATTRIBUTES_INCLUDE_ENABLED"},logging:{level:"NEW_RELIC_LOG_LEVEL",filepath:"NEW_RELIC_LOG",enabled:"NEW_RELIC_LOG_ENABLED"},audit_log:{enabled:"NEW_RELIC_AUDIT_LOG_ENABLED",endpoints:"NEW_RELIC_AUDIT_LOG_ENDPOINTS"},error_collector:{attributes:{enabled:"NEW_RELIC_ERROR_COLLECTOR_ATTRIBUTES_ENABLED"},enabled:"NEW_RELIC_ERROR_COLLECTOR_ENABLED",ignore_status_codes:"NEW_RELIC_ERROR_COLLECTOR_IGNORE_ERROR_CODES",ignore_classes:"NEW_RELIC_ERROR_COLLECTOR_IGNORE_ERRORS",expected_status_codes:"NEW_RELIC_ERROR_COLLECTOR_EXPECTED_ERROR_CODES",expected_classes:"NEW_RELIC_ERROR_COLLECTOR_EXPECTED_ERRORS"},strip_exception_messages:{enabled:"NEW_RELIC_STRIP_EXCEPTION_MESSAGES_ENABLED"},transaction_events:{attributes:{enabled:"NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_ENABLED",exclude:"NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_EXCLUDE",include:"NEW_RELIC_TRANSACTION_EVENTS_ATTRIBUTES_INCLUDE"}},transaction_tracer:{attributes:{enabled:"NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_ENABLED",exclude:"NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_EXCLUDE",include:"NEW_RELIC_TRANSACTION_TRACER_ATTRIBUTES_INCLUDE"},enabled:"NEW_RELIC_TRACER_ENABLED",transaction_threshold:"NEW_RELIC_TRACER_THRESHOLD",top_n:"NEW_RELIC_TRACER_TOP_N",record_sql:"NEW_RELIC_RECORD_SQL",explain_threshold:"NEW_RELIC_EXPLAIN_THRESHOLD",hide_internals:"NEW_RELIC_HIDE_INTERNALS"},utilization:{detect_aws:"NEW_RELIC_UTILIZATION_DETECT_AWS",detect_pcf:"NEW_RELIC_UTILIZATION_DETECT_PCF",detect_azure:"NEW_RELIC_UTILIZATION_DETECT_AZURE",detect_gcp:"NEW_RELIC_UTILIZATION_DETECT_GCP",detect_docker:"NEW_RELIC_UTILIZATION_DETECT_DOCKER",detect_kubernetes:"NEW_RELIC_UTILIZATION_DETECT_KUBERNETES",logical_processors:"NEW_RELIC_UTILIZATION_LOGICAL_PROCESSORS",total_ram_mib:"NEW_RELIC_UTILIZATION_TOTAL_RAM_MIB",billing_hostname:"NEW_RELIC_UTILIZATION_BILLING_HOSTNAME"},rules:{name:"NEW_RELIC_NAMING_RULES",ignore:"NEW_RELIC_IGNORING_RULES"},enforce_backstop:"NEW_RELIC_ENFORCE_BACKSTOP",browser_monitoring:{attributes:{enabled:"NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_ENABLED",exclude:"NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_EXCLUDE",include:"NEW_RELIC_BROWSER_MONITORING_ATTRIBUTES_INCLUDE"},enable:"NEW_RELIC_BROWSER_MONITOR_ENABLE",debug:"NEW_RELIC_BROWSER_MONITOR_DEBUG"},high_security:"NEW_RELIC_HIGH_SECURITY",labels:"NEW_RELIC_LABELS",slow_sql:{enabled:"NEW_RELIC_SLOW_SQL_ENABLED",max_samples:"NEW_RELIC_MAX_SQL_SAMPLES"},process_host:{display_name:"NEW_RELIC_PROCESS_HOST_DISPLAY_NAME",ipv_preference:"NEW_RELIC_IPV_PREFERENCE"},api:{custom_attributes_enabled:"NEW_RELIC_API_CUSTOM_ATTRIBUTES",custom_events_enabled:"NEW_RELIC_API_CUSTOM_EVENTS",notice_error_enabled:"NEW_RELIC_API_NOTICE_ERROR"},datastore_tracer:{instance_reporting:{enabled:"NEW_RELIC_DATASTORE_INSTANCE_REPORTING_ENABLED"},database_name_reporting:{enabled:"NEW_RELIC_DATASTORE_DATABASE_NAME_REPORTING_ENABLED"}},span_events:{enabled:"NEW_RELIC_SPAN_EVENTS_ENABLED",attributes:{enabled:"NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_ENABLED",exclude:"NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_EXCLUDE",include:"NEW_RELIC_SPAN_EVENTS_ATTRIBUTES_INCLUDE"}},transaction_segments:{attributes:{enabled:"NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_ENABLED",exclude:"NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_EXCLUDE",include:"NEW_RELIC_TRANSACTION_SEGMENTS_ATTRIBUTES_INCLUDE"}},distributed_tracing:{enabled:"NEW_RELIC_DISTRIBUTED_TRACING_ENABLED",exclude_newrelic_header:"NEW_RELIC_DISTRIBUTED_TRACING_EXCLUDE_NEWRELIC_HEADER"},message_tracer:{segment_parameters:{enabled:"NEW_RELIC_MESSAGE_TRACER_SEGMENT_PARAMETERS_ENABLED"}},serverless_mode:{enabled:"NEW_RELIC_SERVERLESS_MODE_ENABLED"},plugins:{native_metrics:{enabled:"NEW_RELIC_NATIVE_METRICS_ENABLED"}},trusted_account_key:"NEW_RELIC_TRUSTED_ACCOUNT_KEY",primary_application_id:"NEW_RELIC_PRIMARY_APPLICATION_ID",account_id:"NEW_RELIC_ACCOUNT_ID",infinite_tracing:{trace_observer:{host:"NEW_RELIC_INFINITE_TRACING_TRACE_OBSERVER_HOST",port:"NEW_RELIC_INFINITE_TRACING_TRACE_OBSERVER_PORT"},span_events:{queue_size:"NEW_RELIC_INFINITE_TRACING_SPAN_EVENTS_QUEUE_SIZE"}}},t.LIST_VARS=n,t.LIST_VARS_CUSTOM_DELIMITERS={NEW_RELIC_APP_NAME:/;|,/},t.OBJECT_LIST_VARS=i,t.BOOLEAN_VARS=o,t.FLOAT_VARS=s,t.INT_VARS=a},function(e,t,r){"use strict";const n={ssl:!0,strip_exception_messages:{enabled:!0},allow_all_headers:!1,attributes:{include:[]},transaction_tracer:{record_sql:"obfuscated",attributes:{include:[]}},error_collector:{attributes:{include:[]}},browser_monitoring:{attributes:{include:[]}},transaction_events:{attributes:{include:[]}},span_events:{attributes:{include:[]}},transaction_segments:{attributes:{include:[]}},slow_sql:{enabled:!1}},i=r(78).keys(n),o=new Set(["proxy_pass","proxy_user","proxy","certificates"]),s=new Set(["domain"]);t.HIGH_SECURITY_SETTINGS=n,t.HIGH_SECURITY_KEYS=i,t.REDACT_BEFORE_SEND=o,t.REMOVE_BEFORE_SEND=s},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=154},function(e,t,r){"use strict";var n=r(2);e.exports=function(e,t){var r=e.getDurationInMillis(),i=e.getExclusiveDurationInMillis(),o=e.transaction,s=n.CUSTOM+n.ACTION_DELIMITER+e.name;t&&o.measure(s,t,r,i),o.measure(s,null,r,i)}},function(e,t,r){"use strict";var n=r(31).MODULE_TYPE;e.exports=function(){return{"aws-sdk":{module:"@newrelic/aws-sdk"},amqplib:{type:n.MESSAGE},"cassandra-driver":{type:n.DATASTORE},connect:{type:n.WEB_FRAMEWORK},bluebird:{type:n.PROMISE},director:{type:n.WEB_FRAMEWORK},express:{type:n.WEB_FRAMEWORK},fastify:{type:n.WEB_FRAMEWORK},"generic-pool":{type:n.GENERIC},"@hapi/hapi":{type:n.WEB_FRAMEWORK},hapi:{type:n.WEB_FRAMEWORK},ioredis:{type:n.DATASTORE},koa:{module:"@newrelic/koa"},memcached:{type:n.DATASTORE},mongodb:{type:n.DATASTORE},mysql:{type:n.DATASTORE},pg:{type:n.DATASTORE},q:{type:null},redis:{type:n.DATASTORE},restify:{type:n.WEB_FRAMEWORK},superagent:{module:"@newrelic/superagent"},oracle:{type:null},vision:{type:n.WEB_FRAMEWORK},when:{type:null}}}},function(e,t,r){"use strict";var n=r(5).hasOwn;t.fixArity=function(e,t){var r={name:{value:e.name},length:{value:e.length}};n(t,"__NR_name")||(r.__NR_name={configurable:!1,enumerable:!1,writable:!1,value:t.name});return Object.defineProperties(t,r),t}},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=158},function(e,t,r){"use strict";const n=r(0).child({component:"ConglomerateShim"}),i=r(18),{MODULE_TYPE:o}=r(31),s={[o.GENERIC]:i,[o.DATASTORE]:r(86),[o.MESSAGE]:r(87),[o.PROMISE]:r(93),[o.TRANSACTION]:r(25),[o.WEB_FRAMEWORK]:r(94)};e.exports=class extends i{constructor(e,t,r){super(e,t,r),this._logger=n.child({module:t}),this._resolvedName=r}get GENERIC(){return o.GENERIC}get DATASTORE(){return o.DATASTORE}get MESSAGE(){return o.MESSAGE}get PROMISE(){return o.PROMISE}get TRANSACTION(){return o.TRANSACTION}get WEB_FRAMEWORK(){return o.WEB_FRAMEWORK}makeSpecializedShim(e,t){const r=new(0,s[e])(this.agent,this.moduleName,this._resolvedName);return r._logger=r._logger.child({submodule:t}),r}}},function(e,t,r){"use strict";e.exports.extractDatabaseChangeFromUse=function(e){var t=/^\s*use[^\w`]+([\w$_\u0080-\uFFFF]+|`[^`]+`)[\s;]*$/i.exec(e);return t&&t[1]||null}},function(e,t,r){"use strict";var n=r(0).child({component:"sql_query_parser"}),i=r(162),o=r(13),s=[new i("select",/^[^\S]*?select\b[\s\S]+?\bfrom[\s\n\r\[\(]+([^\]\s\n\r,)(;]*)/gim),new i("update",/^[^\S]*?update[^\S]+?([^\s\n\r,;]+)/gim),new i("insert",/^[^\S]*?insert(?:[^\S]+ignore)?[^\S]+into[^\S]+([^\s\n\r(,;]+)/gim),new i("delete",/^[^\S]*?delete[^\S]+?from[^\S]+([^\s\n\r,(;]+)/gim)],a=/\/\\*.*?\\*\//g;e.exports=function(e){if("object"==typeof e&&void 0!==e.sql&&(e=e.sql),"string"!=typeof e){if(n.traceEnabled())try{n.trace("parseSQL got an a non-string sql that looks like: %s",o(e))}catch(e){n.debug(e,"Unabler to stringify SQL")}return{operation:"other",collection:null,query:""}}var t;e=e.replace(a,"").trim();for(var r=0,i=s.length;r<i&&!(t=s[r].getParsedStatement(e));r++);return t||{operation:"other",collection:null,query:e}}},function(e,t,r){"use strict";var n=/^\(?(?:([`'"]?)(.*?)\1\.)?([`'"]?)(.*?)\3\)?$/;function i(e,t){this.operation=e,this.matcher=new RegExp("^\\s*"+e,"ig"),this.operationPattern=t}i.prototype.getParsedStatement=function(e){if(this.operationPattern.lastIndex=0,this.matcher.lastIndex=0,n.lastIndex=0,this.matcher.test(e)){var t=this.operationPattern.exec(e),r=t?t[1]:"unknown",i=null,o=n.exec(r);return o&&o[4]&&(r=o[4],o[2]&&(r=(i=o[2])+"."+r)),{operation:this.operation,database:i,collection:r,query:e}}return null},e.exports=i},function(e,t,r){"use strict";const{DB:n,ALL:i}=r(2),{DESTINATIONS:o}=r(6);function s(e,t,r,n){this.type=e,this.operation=t,this.collection=r,this.trace=null,this.raw="","string"==typeof n&&(this.trace=(new Error).stack,this.raw=n)}s.prototype.recordMetrics=function(e,t){var r=e.getDurationInMillis(),s=e.getExclusiveDurationInMillis(),a=e.transaction,c=a.isWeb()?n.WEB:n.OTHER,u=this.type+"/",l=n.OPERATION+"/"+u+this.operation;if(a.measure(l,null,r,s),a.measure(n.PREFIX+c,null,r,s),a.measure(n.PREFIX+u+c,null,r,s),a.measure(n.PREFIX+u+i,null,r,s),a.measure(n.ALL,null,r,s),this.collection){var f=n.STATEMENT+"/"+u+this.collection+"/"+this.operation;a.measure(f,null,r,s),t&&a.measure(f,t,r,s)}else t&&a.measure(l,t,r,s);e.name=f||l;const p=e.attributes.get(o.TRANS_SEGMENT);if(p.host&&p.port_path_or_id){var d=n.INSTANCE+"/"+u+p.host+"/"+p.port_path_or_id;a.measure(d,null,r,s)}this.raw&&a.agent.queries.add(e,this.type.toLowerCase(),this.raw,this.trace)},e.exports=s},function(e,t,r){"use strict";var n=r(2);e.exports=function(e,t){if("message"===(s=e.transaction).type&&s.baseSegment===e){var r=e.getDurationInMillis(),i=e.getExclusiveDurationInMillis(),o=e.transaction.trace.getTotalTimeDurationInMillis(),s=e.transaction;t&&(s.measure(t,null,r,i),s.measure(n.MESSAGE_TRANSACTION.TOTAL_TIME+"/"+s.getName(),null,o,i)),s.measure(n.MESSAGE_TRANSACTION.RESPONSE_TIME+"/all",null,r,i),s.measure(n.OTHER_TRANSACTION.RESPONSE_TIME+"/all",null,r,i),s.measure(n.OTHER_TRANSACTION.TOTAL_TIME,null,o,i)}}},function(e,t,r){"use strict";const n=r(15),i=r(0).child({component:"cat"});function o(e,t,r){"string"==typeof e&&(r.incomingCatId=e),Array.isArray(t)&&(r.referringTransactionGuid=t[0],"string"==typeof t[2]?r.tripId=t[2]:t[2]&&(r.invalidIncomingExternalTransaction=!0),"string"==typeof t[3]?r.referringPathHash=t[3]:t[3]&&(r.invalidIncomingExternalTransaction=!0))}e.exports.handleCatHeaders=function(e,t,r,s){var a=null;e&&(a=n.deobfuscateNameUsingKey(e,r));var c=null;if(t)try{c=JSON.parse(n.deobfuscateNameUsingKey(t,r))}catch(e){i.trace("Got an unparsable CAT header x-newrelic-transaction: %s",t)}o(a,c,s)},e.exports.parsedHeadersToTrans=o},function(e,t,r){"use strict";function n(e){if(!e&&0!==e)throw new Error("Apdex summary must be created with apdexT.");this.apdexT=e,this.satisfying=0,this.tolerating=0,this.frustrating=0}n.prototype.recordValue=function(e,t){var r=t||this.apdexT;e<=r?++this.satisfying:e<=4*r?++this.tolerating:++this.frustrating},n.prototype.recordValueInMillis=function(e,t){this.recordValue(.001*e,.001*t)},n.prototype.incrementFrustrating=function(){++this.frustrating},n.prototype.merge=function(e){this.satisfying+=e.satisfying,this.tolerating+=e.tolerating,this.frustrating+=e.frustrating},n.prototype.toJSON=function(){return[this.satisfying,this.tolerating,this.frustrating,this.apdexT,this.apdexT,0]},e.exports=n},function(e,t,r){"use strict";var n=r(0).child({component:"name-state"}),i=r(2),o={Custom:!0,Connect:!0,Director:!0,Expressjs:!0,Hapi:!0,Nodejs:!0,Restify:!0};const s={404:"(not found)",501:"(not implemented)",405:"(method not allowed)"};function a(e,t,r,n){this.reset(),this.setName(e,t,r,n),this._frozen=!1}function c(e,t){var r=e.verb?"/"+e.verb:"";return(e.prefix||"")+r+(e.delimiter||"")+t}a.prototype.setName=function(e,t,r,i){this._frozen||(this.setPrefix(e),this.verb=t&&t.toUpperCase(),this.delimiter=r,this.pathStack=i?[{path:i,params:null}]:[],this._pathCache=null,this.markedPath=[],n.trace("setName called on name state, path stack now %j",this.pathStack))},a.prototype.getStatusName=function(e){const t=s[e];if(t)return o.hasOwnProperty(this.prefix)?c(this,t):i.WEB.FRAMEWORK_PREFIX+"/"+c(this,t)},a.prototype.markPath=function(){this.markedPath=this.pathStack.slice()},a.prototype.setPrefix=function(e){this._frozen||(this.prefix=null!==e?"/"===e[e.length-1]?e.substring(0,e.length-1):e:null)},a.prototype.setVerb=function(e){this._frozen||(this.verb=e&&e.toUpperCase())},a.prototype.setDelimiter=function(e){this._frozen||(this.delimiter=e)},a.prototype.isEmpty=function(){return 0===this.pathStack.length&&0===this.markedPath.length},a.prototype.appendPath=function(e,t){if(!this._frozen&&null!=e){var r=e instanceof RegExp?e.source:String(e);this.pathStack.push({path:r,params:t||null}),""!==e&&(this._pathCache=null),n.trace("Appended %s to path stack",r)}},a.prototype.appendPathIfEmpty=function(e,t){if(!this._frozen&&this.isEmpty())return this.appendPath(e,t||null)},a.prototype.popPath=function(e){if(!this._frozen&&0!==this.pathStack.length){this._pathCache=null;var t=0;if(null!=e){const r=function(e,t,r){for(let n=e.length-1;n>=0;--n)if(t.call(r,e[n],n,e))return n;return-1}(this.pathStack,t=>t.path===e);-1!==r&&(t=this.pathStack.length-r,this.pathStack.splice(r))}else t=1,this.pathStack.pop();n.trace("Popped %j from path, %d removed",e,t)}},a.prototype.getPath=function(){var e=this.pathStack.length?this.pathStack:this.markedPath,t=e.length;if(this._pathCache)return this._pathCache;if(0===t)return null;for(var r="/",n=0;n<t;++n){var i=e[n].path;i&&"/"!==i&&("/"!==i[0]&&"/"!==r[r.length-1]?r+="/":"/"===i[0]&&"/"===r[r.length-1]&&(i=i.substr(1)),r+=i)}return this._pathCache=r},a.prototype.getNameNotFound=function(){var e=c(this,"(not found)");return o.hasOwnProperty(this.prefix)?e:i.WEB.FRAMEWORK_PREFIX+"/"+e},a.prototype.getName=function(){var e=this.getPath();return null===e?null:c(this,e)},a.prototype.getFullName=function(){var e=this.getName();return o.hasOwnProperty(this.prefix)?e:i.WEB.FRAMEWORK_PREFIX+"/"+e},a.prototype.forEachParams=function(e,t){this.pathStack.forEach((function(r){r.params&&e.call(t,r.params)}))},a.prototype.freeze=function(){this._frozen=!0},a.prototype.reset=function(){this._frozen||(n.trace("Reset called on name state, path stack was %j",this.pathStack),this.prefix=null,this.verb=null,this.delimiter=null,this.pathStack=[],this._pathCache=null)},e.exports=a},function(e,t,r){"use strict";var n=r(92),i=r(169),{Attributes:o,MAXIMUM_CUSTOM_ATTRIBUTES:s}=r(52),a=r(0).child({component:"trace"}),{DESTINATIONS:c}=r(6);function u(e){if(!e)throw new Error("All traces must be associated with a transaction.");this.transaction=e,this.root=new i(e,"ROOT"),this.root.start(),this.intrinsics=Object.create(null),this.segmentsSeen=0,this.totalTimeCache=null,this.custom=new o("transaction",s),this.attributes=new o("transaction");var t=e.agent.config.getDisplayHost();t!==e.agent.config.getHostnameSafe()&&(this.attributes.addAttribute(c.TRANS_COMMON,"host.displayName",t),this.displayName=t),this.domain=null}function l(e,t,r=!1){this.segment=e,this.parentId=t,this.isRoot=r}u.prototype.end=function(){const e=[this.root];for(;e.length;){const t=e.pop();t.finalize();const r=t.getChildren();for(let t=0;t<r.length;++t)e.push(r[t])}},u.prototype.generateSpanEvents=function(){const e=this.transaction.agent.config;if((Boolean(e.infinite_tracing.trace_observer.host)||this.transaction.sampled)&&e.span_events.enabled&&e.distributed_tracing.enabled){let e=[];const t=this.transaction.agent.spanEventAggregator,r=this.root.getChildren();if(r.length>0){const e={"host.displayName":this.displayName,"parent.type":this.transaction.parentType,"parent.app":this.transaction.parentApp,"parent.account":this.transaction.parentAcct,"parent.transportType":this.transaction.parentTransportType,"parent.transportDuration":this.transaction.parentTransportDuration};for(const[t,n]of Object.entries(e))null!==n&&r[0].addSpanAttribute(t,n)}for(let t=0;t<r.length;++t)e.push(new l(r[t],this.transaction.parentSpanId,!0));for(;e.length;){let r=e.pop(),n=r.segment;t.addSegment(n,r.parentId,r.isRoot);const i=n.getChildren();for(let t=0;t<i.length;++t){const r=new l(i[t],n.id);e.push(r)}}}},u.prototype.add=function(e,t){return this.root.add(e,t)},u.prototype.setDurationInMillis=function(e,t){this.root.setDurationInMillis(e,t)},u.prototype.getDurationInMillis=function(){return this.root.getDurationInMillis()},u.prototype.addCustomAttribute=function(e,t){this.custom.has(e)&&a.debug("Potentially changing custom attribute %s from %s to %s.",e,this.custom.attributes[e].value,t),this.custom.addAttribute(c.TRANS_SCOPE,e,t)},u.prototype.getExclusiveDurationInMillis=function(){return this.root.getExclusiveDurationInMillis()},u.prototype.getTotalTimeDurationInMillis=function(){if(null!==this.totalTimeCache)return this.totalTimeCache;if(0===this.root.children.length)return 0;for(var e=this.root.getChildren(),t=0;0!==e.length;){var r=e.pop();t+=r.getExclusiveDurationInMillis(),e=e.concat(r.getChildren())}return this.transaction.isActive()||(this.totalTimeCache=t),t},u.prototype.generateJSON=function(e){const t=this._serializeTrace(),r=this;function i(t,n){return t?e(t,null,null):e(null,r._generatePayload(n),r)}this.transaction.agent.config.simple_compression?setImmediate(i,null,t):n.encode(t,i)},u.prototype.generateJSONSync=function(){const e=this._serializeTrace(),t=!this.transaction.agent.config.simple_compression?n.encodeSync(e):e;return this._generatePayload(t)},u.prototype._generatePayload=function(e){let t=null;this.transaction.syntheticsData&&(t=this.transaction.syntheticsData.resourceId);const r=this._getRequestUri();return[this.root.timer.start,this.transaction.getResponseTimeInMillis(),this.transaction.getFullName(),r,e,this.transaction.id,null,!1,null,t]},u.prototype._getRequestUri=function(){let e=null;return this.attributes.hasValidDestination(c.TRANS_TRACE,"request.uri")&&(e=this.transaction.url||"/Unknown"),e},u.prototype._serializeTrace=function(){const e={agentAttributes:this.attributes.get(c.TRANS_TRACE),userAttributes:this.custom.get(c.TRANS_TRACE),intrinsics:this.intrinsics};return[.001*this.root.timer.start,{},{nr_flatten_leading:!1},this.root.toJSON(),e,[]]},e.exports=u},function(e,t,r){"use strict";const{DESTINATIONS:n}=r(6),i=r(0).child({component:"segment"}),o=r(51),s=r(19),a=r(15),{Attributes:c}=r(52),u=r(170),l=r(171),f=r(2),p="EXTERNAL",d="CALLBACK";function h(e,t,r){this.name=t,this.transaction=e,++e.numSegments,++e.agent.totalActiveSegments,++e.agent.segmentsCreatedInHarvest,r&&e.addRecorder(r.bind(null,this)),this.attributes=new c("segment"),this.children=[],this.id=a.makeId(),this.timer=new o,this.internal=!1,this.opaque=!1,this.shim=null,this.partialName=null,this._exclusiveDuration=null,this._collect=!0,this.host=null,this.port=null,this.state=p,this.async=!0,this.ignore=!1,this.probe("new TraceSegment")}h.prototype.getSpanContext=function(){const e=this.transaction.agent.config,t=e.distributed_tracing.enabled&&e.span_events.enabled;return!this._spanContext&&t&&(this._spanContext=new l),this._spanContext},h.prototype.addAttribute=function(e,t,r=!1){this.attributes.addAttribute(n.SEGMENT_SCOPE,e,t,r)},h.prototype.addSpanAttribute=function(e,t,r=!1){this.attributes.addAttribute(n.SPAN_EVENT,e,t,r)},h.prototype.addSpanAttributes=function(e){this.attributes.addAttributes(n.SPAN_EVENT,e)},h.prototype.getAttributes=function(){return this.attributes.get(n.TRANS_SEGMENT)},h.prototype.getSpanId=function(){const e=this.transaction.agent.config;return e.span_events.enabled&&e.distributed_tracing.enabled?this.id:null},h.prototype.captureDBInstanceAttributes=function(e,t,r){var n=this.transaction.agent.config,i=n.datastore_tracer;!1!==r&&i.database_name_reporting.enabled&&this.addAttribute("database_name","number"==typeof r?r:r||"unknown");i.instance_reporting.enabled&&(t=t||"unknown",e&&s.isLocalhost(e)&&(e=n.getHostnameSafe(e)),e&&"UNKNOWN_BOX"!==e||(e="unknown"),this.addAttribute("host",e),this.addAttribute("port_path_or_id",String(t)))},h.prototype.moveToCallbackState=function(){this.state=d},h.prototype.isInCallbackState=function(){return this.state===d},h.prototype.probe=function(e){this.transaction.traceStacks&&this.transaction.probe(e,{segment:this.name})},h.prototype.setNameFromTransaction=function(){var e=this.transaction;this.name=e.getFullName(),this.partialName=e._partialName},h.prototype.markAsWeb=function(){var e=this.transaction;this.setNameFromTransaction();var t=e.trace.attributes.get(n.TRANS_TRACE);Object.keys(t).forEach(e=>{this.attributes.has(e)||this.addAttribute(e,t[e])})},h.prototype.touch=function(){this.probe("Touched"),this.timer.touch(),this._updateRootTimer()},h.prototype.overwriteDurationInMillis=function(e,t){this.timer.overwriteDurationInMillis(e,t)},h.prototype.start=function(){this.timer.begin()},h.prototype.end=function(){this.timer.isActive()&&(this.probe("Ended"),this.timer.end(),this._updateRootTimer())},h.prototype.finalize=function(){this.timer.softEnd()&&(this._updateRootTimer(),this.name=f.TRUNCATED.PREFIX+this.name),this.addAttribute("nr_exclusive_duration_millis",this.getExclusiveDurationInMillis())},h.prototype._updateRootTimer=function(){var e=this.transaction.trace.root;if(this.timer.endsAfter(e.timer)){var t=this.timer.start+this.getDurationInMillis()-e.timer.start;e.overwriteDurationInMillis(t)}},h.prototype._isEnded=function(){return!this.timer.isActive()||this.timer.touched},h.prototype.add=function(e,t){if(this.opaque)return i.trace("Skipping child addition on opaque segment"),this;i.trace("Adding segment %s to %s in %s",e,this.name,this.transaction.id);var r=new h(this.transaction,e,t),n=this.transaction.agent.config;return this.transaction.trace.segmentsSeen++>=n.max_trace_segments&&(r._collect=!1),this.children.push(r),n.debug&&n.debug.double_linked_transactions&&(r.parent=this),r},h.prototype.setDurationInMillis=function(e,t){this.timer.setDurationInMillis(e,t)},h.prototype.getDurationInMillis=function(){return this.timer.getDurationInMillis()},h.prototype._setExclusiveDurationInMillis=function(e){this._exclusiveDuration=e},h.prototype.getExclusiveDurationInMillis=function(){if(null==this._exclusiveDuration){new u(this).process()}return this._exclusiveDuration},h.prototype.getChildren=function(){for(var e=[],t=0,r=this.children.length;t<r;++t)this.children[t].ignore||e.push(this.children[t]);return e},h.prototype.getCollectedChildren=function(){for(var e=[],t=0,r=this.children.length;t<r;++t)this.children[t]._collect&&!this.children[t].ignore&&e.push(this.children[t]);return e},h.prototype._getChildPairs=function(e){if(this.children.length<1)return[];e||(e=1/0);for(var t=this.getChildren(),r=[];t.length;){var n=t.pop(),i=n.timer.toRange();i[0]>=e||(t=t.concat(n.getChildren()),i[1]=Math.min(i[1],e),r.push(i))}return r},h.prototype.toJSON=function(){const e=[],t=[{segment:this,destination:e}];for(;0!==t.length;){const{segment:e,destination:n}=t.pop(),i=e.timer.startedRelativeTo(e.transaction.trace.root.timer),o=e.getDurationInMillis(),s=e.getCollectedChildren(),a=[];if(n.push([i,i+o,e.name,e.getAttributes(),a]),s.length)for(var r=s.length-1;r>=0;--r)t.push({segment:s[r],destination:a})}return e[0]},e.exports=h},function(e,t,r){"use strict";function n(e,t){if(!e.length)return t;if(!t.length)return e;const r=[];for(var n=0,i=0,o=0,s=e[i][0]<t[o][0]?e[i++]:t[o++];i<e.length&&o<t.length;){var a=e[i][0]<t[o][0]?e[i++]:t[o++];a[0]<=s[1]?s[1]=Math.max(a[1],s[1]):(r[n++]=s,s=a)}const c=i!==e.length,u=c?e:t;let l=c?i:o;for(;u[l]&&u[l][0]<=s[1];)s[1]=Math.max(u[l++][1],s[1]);for(r[n++]=s;l<u.length;++l)r[n++]=u[l];return r}e.exports=class{constructor(e){this.toProcess=[e],this.parentStack=[]}process(){for(;this.toProcess.length;){const t=this.toProcess.pop(),r=t.getChildren();if(0===r.length)t._exclusiveDuration=t.getDurationInMillis(),this.parentStack.length&&this.finishLeaf(t.timer.toRange());else{this.parentStack.push({childrenLeft:r.length,segment:t,childPairs:[]});for(var e=r.length-1;e>=0;--e)this.toProcess.push(r[e])}}}finishLeaf(e){let t=this.parentStack[this.parentStack.length-1];for(t.childPairs=n(t.childPairs,[e]);0==--t.childrenLeft;){const{segment:e,childPairs:r}=this.parentStack.pop(),i=e.timer,o=i.getDurationInMillis()+i.start;let s=e.getDurationInMillis();for(let e=0;e<r.length;++e){const t=r[e];if(t[0]>=o)break;s-=Math.min(t[1],o)-t[0]}if(e._exclusiveDuration=s,t=this.parentStack[this.parentStack.length-1],!t)break;{const i=n(r,[e.timer.toRange()]);t.childPairs=n(t.childPairs,i)}}}}},function(e,t,r){"use strict";const{MAXIMUM_CUSTOM_ATTRIBUTES:n}=r(52),{PrioritizedAttributes:i,ATTRIBUTE_PRIORITY:o}=r(172),{DESTINATIONS:s}=r(6);e.exports=class{constructor(e,t){this.intrinsicAttributes=e||Object.create(null),this.customAttributes=t||new i("segment",n),this.ATTRIBUTE_PRIORITY=o,this.hasError=!1,this.errorDetails=null}addIntrinsicAttribute(e,t){this.intrinsicAttributes[e]=t}addCustomAttribute(e,t,r){this.customAttributes.addAttribute(s.SPAN_EVENT,e,t,!1,r)}setError(e){this.hasError=!0,this.errorDetails=e}}},function(e,t,r){"use strict";const n=r(17),i=r(0).child({component:"attributes"}),o=r(53),s=r(33),a=r(5),c={HIGH:1/0,LOW:-1/0};e.exports={PrioritizedAttributes:class{constructor(e,t=1/0){this.filter=function(e){const{attributeFilter:t}=n.getInstance();if("transaction"===e)return(e,r)=>t.filterTransaction(e,r);if("segment"===e)return(e,r)=>t.filterSegment(e,r)}(e),this.limit=t,this.attributes=new Map}isValidLength(e){return"number"==typeof e||s.isValidLength(e,255)}_set(e,t,r,n,i){this.attributes.set(t,{value:r,destinations:e,truncateExempt:n,priority:i})}get(e){const t=Object.create(null);for(let[r,n]of this.attributes)n.destinations&e&&(t[r]="string"!=typeof n.value||n.truncateExempt?n.value:s.truncate(n.value,255));return t}has(e){this.attributes.has(e)}reset(){this.attributes=new Map}addAttribute(e,t,r,n=!1,s=c.HIGH){const a=this.attributes.get(t);let u=null;if(!a&&this.attributes.size===this.limit&&(u=this._getDroppableAttributeKey(s),!u))return void i.debug(`Maximum number of custom attributes have been added.\n          Dropping attribute ${t} with ${r} type.`);if(a&&s<a.priority)return i.debug("incoming priority for '%s' is lower than existing, not updating.",t),void i.trace("%s attribute retained value: %s, ignored value: %s",t,a.value,r);if(!o(r))return void i.debug("Not adding attribute %s with %s value type. This is expected for undefinedattributes and only an issue if an attribute is not expected to be undefinedor not of the type expected.",t,typeof r);if(!this.isValidLength(t))return void i.warn("Length limit exceeded for attribute name, not adding: %s",t);const l=this.filter(e,t);l&&(u&&(i.trace("dropping existing lower priority attribute %s to add higher priority attribute %s",u,t),this.attributes.delete(u)),this._set(l,t,r,n,s))}addAttributes(e,t){for(let r in t)a.hasOwn(t,r)&&this.addAttribute(e,r,t[r])}hasValidDestination(e,t){return!!this.filter(e,t)}_getDroppableAttributeKey(e){if(e===c.LOW)return null;this.lastFoundIndexCache=this.lastFoundIndexCache||Object.create(null);const t=this.lastFoundIndexCache[e];if(-1===t)return null;let r=null,n=-1,i=0;for(const[o,s]of this.attributes){if(t&&i>t)break;s.priority<e&&(r=o,n=i),i++}return this.lastFoundIndexCache[e]=n,r}},ATTRIBUTE_PRIORITY:c}},function(e,t,r){"use strict";const n=r(0).child({component:"TraceContext"}),i=r(15),o=["App","Browser","Mobile"],s=o.indexOf("App"),a=/^((?![f]{2})[a-f0-9]{2})$/,c=/^((?![0]{32})[a-f0-9]{32})$/,u=/^((?![0]{16})[a-f0-9]{16})$/,l=/^([a-f0-9]{2})$/,f={sampled:1};e.exports.TraceContext=class{constructor(e){this.transaction=e,this.tracingVendors=null,this.trustedParentId=null,this._traceStateRaw=null,this.flags={get sampled(){return e.sampled}}}createTraceparent(){let e=this.transaction.traceId;e=e.padStart(32,"0"),e===this.transaction.traceId||c.test(e)||(e=e.toLowerCase());const t=this.transaction.agent.tracer.getSegment();let r=t&&t.id;return r||(r=i.makeId(16),n.debug("No segment/span in context. Generated new traceparent parentId (%s) for traceId (%s)",r,e)),`00-${e}-${r}-${this.createFlagsHex()}`}createTracestate(){const e=this.transaction.agent.config,t=e.trusted_account_key,r=s,i=e.primary_application_id,o=e.account_id;if(!o||!i||!t)return n.debug("Unable to create tracestate header due to missing required fields (account_id: %s, primary_application_id: %s, trusted_account_key: %s) in transaction %sThis may occur if a trace is created prior to the agent fully starting.",o,i,t,this.transaction.id),this.transaction.agent.recordSupportability("TraceContext/TraceState/Create/Exception"),this._traceStateRaw||"";let a="";if(e.span_events.enabled){const e=this.transaction.agent.tracer.getSegment();e?a=e.id:n.debug("No segment/span in context. Not sending spanId in tracestate.")}else n.trace("Span events disabled. Not sending spanId in tracestate.");const c=`${t}@nr=0-${r}-${o}-${i}-${a}-${e.transaction_events.enabled?this.transaction.id:""}-${this.transaction.sampled?"1":"0"}-${this.transaction.priority?this.transaction.priority.toFixed(6):""}-${Date.now()}`;return this._traceStateRaw?`${c},${this._traceStateRaw}`:c}addTraceContextHeaders(e){if(!e)return;const t=this.createTraceparent();e.traceparent=t,n.trace("traceparent added with %s",t);const r=this.createTracestate();r&&(e.tracestate=r,n.trace("tracestate added with %s",r)),this.transaction.agent.recordSupportability("TraceContext/Create/Success")}acceptTraceContextPayload(e,t){const r={acceptedTraceparent:!1,acceptedTracestate:!1,acceptedNRTracestate:!1,traceId:null,parentSpanId:null,parentType:null,accountId:null,appId:null,transactionId:null,sampled:null,priority:null,transportDuration:null};if(!e)return r;n.trace("Accepting TraceContext for transaction %s",this.transaction.id);const i=this._validateAndParseTraceParentHeader(e);if("00"!==i.version&&n.trace("Incoming traceparent version: %s, agent traceparent version: %s",i.version,"00"),!i.entryValid)return n.trace("Invalid traceparent for transaction %s: %s",this.transaction.id,e),this.transaction.agent.recordSupportability("TraceContext/TraceParent/Parse/Exception"),r;if(n.trace("Accepted traceparent for transaction %s",this.transaction.id),r.acceptedTraceparent=!0,r.traceId=i.traceId,r.parentSpanId=i.parentId,!t)return n.trace("No tracestate for transaction %s",this.transaction.id),r;const o=this._validateAndParseTraceStateHeader(t);return o.traceStateValid?(this._traceStateRaw=o.newTraceState,this.tracingVendors=o.vendors,o.intrinsics&&0!==o.intrinsics.version&&n.trace("Incoming tracestate version: %s, agent tracestate version: %s",o.intrinsics.version,0),o.entryValid?(n.trace("Accepted tracestate for transaction %s",this.transaction.id),r.acceptedTracestate=!0,r.parentType=o.intrinsics.parentType,r.accountId=o.intrinsics.accountId,r.appId=o.intrinsics.appId,r.transactionId=o.intrinsics.transactionId,r.sampled=o.intrinsics.sampled,r.priority=o.intrinsics.priority,r.transportDuration=Math.max(0,(Date.now()-o.intrinsics.timestamp)/1e3),this.trustedParentId=o.intrinsics.spanId,this._traceStateRaw=o.newTraceState,this.transaction.agent.recordSupportability("TraceContext/Accept/Success")):o.entryFound&&(n.error("Invalid tracestate for transaction %s: %s",this.transaction.id,t),this.transaction.agent.recordSupportability("TraceContext/TraceState/InvalidNrEntry")),r):(n.trace("Invalid tracestate for transaction %s: %s",this.transaction.id,t),this.transaction.agent.recordSupportability("TraceContext/TraceState/Parse/Exception"),r)}_validateAndParseTraceParentHeader(e){const t={entryValid:!1,version:null,traceId:null,parentId:null,flags:null};if(!e)return t;const r=e.trim().split("-");if("00"===r[0]&&4!==r.length)return t;const[n,i,o,s]=r;return a.test(n)&&c.test(i)&&u.test(o)&&l.test(s)&&(t.entryValid=!0,t.version=n,t.traceId=i,t.parentId=o,t.flags=s),t}parseFlagsHex(e){const t=parseInt(e,16);return Object.keys(f).reduce((e,r)=>(e[r]=Boolean(t&f[r]),e),{})}createFlagsHex(){return Object.keys(this.flags).reduce((e,t)=>(this.flags[t]&&(e+=f[t]),e),0).toString(16).padStart(2,"0")}_validateAndParseTraceStateHeader(e){let t={entryFound:!1,entryValid:void 0,entryInvalidReason:void 0,traceStateValid:void 0,intrinsics:void 0,newTraceState:void 0,vendors:void 0};const r=this.transaction.agent.config.trusted_account_key,i=Boolean(r),o=r+"@nr";i||(n.debug("Unable to accept any New Relic tracestate list members. Missing trusted_account_key. This may occur if a trace is received prior to the agent fully starting."),this.transaction.agent.recordSupportability("TraceContext/TraceState/Accept/Exception"));let s=null;const a=[],c=[],u=e.split(",");for(let e=0;e<u.length;e++){const r=u[e].trim();if(""!==r){const e=r.split("=");if(2!==e.length)return t.traceStateValid=!1,n.debug("Unable to parse tracestate list members."),this.transaction.agent.recordSupportability("TraceContext/TraceState/Parse/Exception/ListMember"),t;const[u,l]=e;i&&u===o?s=s||l:(c.push(u),a.push(r))}}if(t.traceStateValid=!0,t.newTraceState=a.join(","),c.length>0&&(t.vendors=c.join(",")),!i)return t;if(s){t.entryFound=!0;const e=this._validateAndParseIntrinsics(s);e.entryValid?(t.entryValid=!0,t.intrinsics=e):(t.entryInvalidReason=e.invalidReason,t.entryValid=!1)}else this.transaction.agent.recordSupportability("TraceContext/TraceState/NoNrEntry");return t}_validateAndParseIntrinsics(e){const t=this._parseIntrinsics(e),r=e=>null==e,n={version:isNaN,parentType:r,accountId:r,appId:r,sampled:e=>null!=e&&isNaN(e),priority:e=>null!=e&&isNaN(e),timestamp:isNaN};t.entryValid=!0;for(const e of Object.keys(n)){const r=n[e];r&&r(t[e])&&(t.entryValid=!1,t.entryInvalidReason=e+" failed invalidation test")}return null!=t.sampled&&(t.sampled=Boolean(t.sampled)),t.parentType=o[t.parentType],t.parentType||(t.entryValid=!1),t}_parseIntrinsics(e){const t=this._extractTraceStateIntrinsics(e),r={version:parseInt,parentType:parseInt,sampled:e=>null==e?e:parseInt(e,10),priority:e=>null==e?e:parseFloat(e),timestamp:parseInt};for(const e of Object.keys(r)){const n=r[e];n&&(t[e]=n(t[e]))}return t}_extractTraceStateIntrinsics(e){const t=e.split("-");t.forEach((e,r)=>{""===e&&(t[r]=null)});return{version:t[0],parentType:t[1],accountId:t[2],appId:t[3],spanId:t[4],transactionId:t[5],sampled:t[6],priority:t[7],timestamp:t[8]}}},e.exports.TRACE_CONTEXT_PARENT_HEADER="traceparent",e.exports.TRACE_CONTEXT_STATE_HEADER="tracestate"},function(e,t,r){"use strict";var n=r(0).child({component:"distributedTracePayload"});e.exports=class{constructor(e){n.trace("DistributedTracePayload created with %s",e),this.plainTextPayload=JSON.stringify({v:[0,1],d:e}),this.base64Payload=null}text(){return n.trace("DistributedTracePayload text: %s",this.plainTextPayload),this.plainTextPayload}httpSafe(){return this.base64Payload||(this.base64Payload=Buffer.from(this.plainTextPayload,"utf-8").toString("base64")),n.trace("DistributedTracePayload httpSafe: %s",this.base64Payload),this.base64Payload}},e.exports.Stub=class{text(){return n.debug("DistributedTracePayloadStub text"),""}httpSafe(){return n.debug("DistributedTracePayloadStub httpSafe"),""}}},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=175},function(e,t,r){"use strict";var n=r(11);e.exports.selfRegister=function(e){e.registerInstrumentation({moduleName:"amqplib",type:"message",onRequire:s}),e.registerInstrumentation({moduleName:"amqplib/channel_api",type:"message",onRequire:s}),e.registerInstrumentation({moduleName:"amqplib/channel_api.js",type:"message",onRequire:s}),e.registerInstrumentation({moduleName:"amqplib/callback_api",type:"message",onRequire:a}),e.registerInstrumentation({moduleName:"amqplib/callback_api.js",type:"message",onRequire:a})},e.exports.instrumentPromiseAPI=s,e.exports.instrumentCallbackAPI=a;var i=["close","open","assertQueue","checkQueue","deleteQueue","bindQueue","unbindQueue","assertExchange","checkExchange","deleteExchange","bindExchange","unbindExchange","cancel","prefetch","recover"],o=/^amq\./;function s(e,t){c(e,t,!0),function(e){var t=e.require("./lib/channel_model");t&&t.Channel&&t.Channel.prototype||e.logger.debug("Could not get promise model Channel to instrument");var r=t.Channel.prototype;if(e.isWrapped(r.consume))return void e.logger.trace("Promise model already isntrumented.");e.record(r,i,(function(e,t,r){return{name:"Channel#"+r,promise:!0}})),e.recordConsume(r,"get",{destinationName:e.FIRST,promise:!0,messageHandler:function(e,t,r,n){if(!n)return e.logger.trace("No results from consume."),null;var i=Object.create(null);u(i,n.fields),u(i,n.properties);var o=null;return n.properties&&n.properties.headers&&(o=n.properties.headers),{parameters:i,headers:o}}}),e.recordPurgeQueue(r,"purgeQueue",(function(e,t,r,n){var i=n[0]||null;return o.test(i)&&(i=null),{queue:i,promise:!0}})),e.recordSubscribedConsume(r,"consume",{name:"amqplib.Channel#consume",queue:e.FIRST,consumer:e.SECOND,promise:!0,messageHandler:l})}(e)}function a(e,t){c(e,t,!1),function(e){var t=e.require("./lib/callback_model");if(!t||!t.Channel||!t.Channel.prototype)return void e.logger.debug("Could not get callback model Channel to instrument");var r=t.Channel.prototype;if(e.isWrapped(r.consume))return;e.record(r,i,(function(e,t,r){return{name:"Channel#"+r,callback:e.LAST}})),e.recordConsume(r,"get",{destinationName:e.FIRST,callback:e.LAST,messageHandler:function(e,t,r,n){var i=n[1];if(!i)return e.logger.trace("No results from consume."),null;var o=Object.create(null);u(o,i.fields),u(o,i.properties);var s=null;return i.properties&&i.properties.headers&&(s=i.properties.headers),{parameters:o,headers:s}}}),e.recordPurgeQueue(r,"purgeQueue",(function(e,t,r,n){var i=n[0];return o.test(i)&&(i=null),{queue:i,callback:e.LAST}})),e.recordSubscribedConsume(r,"consume",{name:"amqplib.Channel#consume",queue:e.FIRST,consumer:e.SECOND,callback:e.FOURTH,promise:!1,messageHandler:l})}(e)}function c(e,t,r){if(!t||!t.connect)return e.logger.debug("This module is not the amqplib we're looking for."),!1;e.isWrapped(t.connect)?e.logger.trace("This module has already been instrumented, skipping."):(e.setLibrary(e.RABBITMQ),e.record(t,"connect",(function(e,t,i,o){var s=o[0],a=null;return e.isString(s)&&(a={host:(s=n.parse(s)).hostname},s.port&&(a.port=s.port)),{name:"amqplib.connect",callback:r?null:e.LAST,promise:r,parameters:a,stream:null,recorder:null}})),function(e){var t=e.require("./lib/channel");if(!t||!t.Channel||!t.Channel.prototype)return void e.logger.debug("Could not get Channel class to instrument.");var r=t.Channel.prototype;if(e.isWrapped(r.sendMessage))return void e.logger.trace("Channel already instrumented.");e.logger.trace("Instrumenting basic Channel class."),e.wrap(r,"sendOrEnqueue",(function(e,t){return e.isFunction(t)?function(){var r=e.getSegment(),n=arguments[arguments.length-1];if(!e.isFunction(n)||!r)return e.logger.debug({cb:!!n,segment:!!r},"Not binding sendOrEnqueue callback"),t.apply(this,arguments);e.logger.trace("Binding sendOrEnqueue callback to %s",r.name);var i=e.argsToArray.apply(e,arguments);return i[i.length-1]=e.bindSegment(n,r),t.apply(this,i)}:t})),e.recordProduce(r,"sendMessage",(function(e,t,r,n){var i=n[0];if(!i)return null;let s="Default";return""===i.exchange||(s=o.test(i.exchange)?null:i.exchange),{destinationName:s,destinationType:e.EXCHANGE,routingKey:i.routingKey,headers:i.headers,parameters:u(Object.create(null),i)}}))}(e))}function u(e,t){return t.routingKey&&(e.routing_key=t.routingKey),t.correlationId&&(e.correlation_id=t.correlationId),t.replyTo&&(e.reply_to=t.replyTo),e}function l(e,t,r,n){var i=n[0];if(!i||!i.properties)return e.logger.debug({message:i},"Failed to find message in consume arguments."),null;var s=i.fields.exchange,a=u(Object.create(null),i.fields);return u(a,i.properties),s?o.test(s)&&(s=null):s="Default",{destinationName:s,destinationType:e.EXCHANGE,routingKey:i.fields.routingKey,headers:i.properties.headers,parameters:a}}},function(e,t,r){"use strict";const n=r(178),i=r(179),o=r(180),s=r(0).child({component:"aws-lambda"}),a=r(83),c=r(81),u=r(25),l=r(19),f=r(6).DESTINATIONS,p=r(2),d=r(181);function h(){}let g=[],m=null,y=!1,v=!1;function b(e){return function(t){if(n.isValidLambdaProxyResponse(t)){const r=new n.LambdaProxyWebResponse(t);!function(e,t){e.statusCode=t.statusCode;const r=String(t.statusCode);if(/^\d+$/.test(r)){e.trace.attributes.addAttribute(f.TRANS_COMMON,"http.statusCode",r);e.baseSegment.addSpanAttribute("http.statusCode",r)}i.collectResponseHeaders(t.headers,e)}(e,r)}else s.debug("Did not contain a valid API Gateway Lambda Proxy response.")}}function E(e,t,r){t.type=e.WEB;const n=t.baseSegment;if(t.url=l.scrub(r.url.path),t.verb=r.method,t.trace.attributes.addAttribute(f.TRANS_COMMON,"request.method",r.method),n.addSpanAttribute("request.method",r.method),t.port=r.url.port,t.addRequestParameters(r.url.requestParameters),t.trace.attributes.addAttribute(f.TRANS_EVENT|f.ERROR_EVENT,"request.uri",r.url.path),n.addSpanAttribute("request.uri",r.url.path),i.collectRequestHeaders(r.headers,t),e.agent.config.distributed_tracing.enabled){const e=(o=r.headers,Object.keys(o).reduce((e,t)=>(e[t.toLowerCase()]=o[t],e),{})),n=r.transportType&&r.transportType.toUpperCase();t.acceptDistributedTraceHeaders(n,e)}var o}function w(e,t){if(g[t]!==h){null!==m&&(e.agent.errors.add(e,m),m=null),e.baseSegment.end(),g[t]=h,e.finalizeName(),e.end();try{e.agent.harvestSync()}catch(e){s.warn("Failed to harvest transaction",e)}}}e.exports=class{constructor(e){this.agent=e,this.shim=new u(e,"aws-lambda")}_resetModuleState(){y=!1,v=!1,g=[]}_detectEventType(e){const t=(e,t)=>null!==o(e,t,null);for(const r of Object.values(d))if(r.required_keys.every(r=>t(e,r)))return r;return null}patchLambdaHandler(e){const t=this,r=this.shim;return"function"!=typeof e?(s.warn("handler argument is not a function and cannot be recorded"),e):(y||(y=!0,r.wrap(process,"emit",(function(e,t){return function(e){return"beforeExit"===e&&(g.forEach(e=>{e()}),g=[]),t.apply(process,arguments)}})),r.wrap(process,"_fatalException",(function(e,t){return function(e){return m=e,g.forEach(e=>{e()}),g=[],t.apply(this,arguments)}}))),r.bindCreateTransaction((function(){const s=r.argsToArray.apply(r,arguments),u=s[0],l=s[1],d=l.functionName,h=p.FUNCTION.PREFIX,y=h+d,v=r.tracer.getTransaction();if(!v)return e.apply(this,arguments);v.setPartialName(y);const _=n.isLambdaProxyEvent(u),A=_?c:a,C=r.createSegment(d,A);let T;if(v.baseSegment=C,_){const e=new n.LambdaProxyWebRequest(u);E(r,v,e),T=b(v)}const S=s.length-1,I=w.bind(null,v,g.length);g.push(I),s[S]=o(v,I,s[S],T),l.done=o(v,I,l.done),l.fail=o(v,I,l.fail),r.wrap(l,"succeed",(function(e,t){return function(){return I(),t.apply(this,arguments)}}));const N=t._getAwsAgentAttributes(u,l);let O;v.trace.attributes.addAttributes(f.TRANS_COMMON,N),r.agent.setLambdaArn(l.invokedFunctionArn),r.agent.setLambdaFunctionVersion(l.functionVersion),C.addSpanAttributes(N),C.start();try{O=r.applySegment(e,C,!1,this,s)}catch(e){throw m=e,I(),e}r.isPromise(O)&&(O=i(O,T,I));return O}),{type:r.BG}));function i(e,t,r){return e.then((function(e){return t&&t(e),r(),e}),(function(e){throw m=e,r(),e}))}function o(e,t,n,i){return function(){let o=arguments[0];if("string"==typeof o&&(o=new Error(o)),r.agent.errors.add(e,o),i){i(arguments[1])}return t(),n.apply(this,arguments)}}}_getAwsAgentAttributes(e,t){const r={"aws.lambda.arn":t.invokedFunctionArn,"aws.requestId":t.awsRequestId},n=this._detectEventType(e);if(n){r["aws.lambda.eventSource.eventType"]=n.name;for(const t of Object.keys(n.attributes)){const i=o(e,n.attributes[t],null);null!==i&&(r[t]=i)}}return function(e,t){if(e.Records){const r=e.Records[0];r.eventSourceARN?t["aws.lambda.eventSource.arn"]=r.eventSourceARN:r.s3&&r.s3.bucket&&r.s3.bucket.arn?t["aws.lambda.eventSource.arn"]=r.s3.bucket.arn:r.EventSubscriptionArn?t["aws.lambda.eventSource.arn"]=r.EventSubscriptionArn:s.trace("Unable to determine ARN from event record.",e,r)}else e.records&&e.deliveryStreamArn?t["aws.lambda.eventSource.arn"]=e.deliveryStreamArn:e.requestContext&&e.requestContext.elb&&e.requestContext.elb.targetGroupArn?t["aws.lambda.eventSource.arn"]=e.requestContext.elb.targetGroupArn:e.resources&&e.resources[0]?t["aws.lambda.eventSource.arn"]=e.resources[0]:s.trace("Unable to determine ARN for event type.",e)}(e,r),v||(v=r["aws.lambda.coldStart"]=!0),r}}},function(e,t,r){"use strict";e.exports={LambdaProxyWebRequest:class{constructor(e){this.headers=e.headers,this.url={path:e.path,port:e.headers["X-Forwarded-Port"],requestParameters:e.queryStringParameters},this.method=e.httpMethod,this.transportType=e.headers["X-Forwarded-Proto"]}},LambdaProxyWebResponse:class{constructor(e){this.headers=e.headers,this.statusCode=e.statusCode}},isLambdaProxyEvent:function(e){return!!(e.path&&e.headers&&e.httpMethod)},isValidLambdaProxyResponse:function(e){return!(!e||!e.statusCode)}}},function(e,t,r){"use strict";const n=r(6).DESTINATIONS,i=["accept","content-length","content-type","referer","user-agent","host"],o={accept:"accept","accept-charset":"acceptCharset","accept-encoding":"acceptEncoding","access-control-allow-headers":"accessControlAllowHeaders","access-control-allow-methods":"accessControlAllowMethods","access-control-allow-origin":"accessControlAllowOrigin",age:"age",allow:"allow",authorization:"authorization","cache-control":"cacheControl",connection:"connection",cookie:"cookie","content-encoding":"contentEncoding","content-length":"contentLength","content-type":"contentType",date:"date",etag:"eTag",expect:"expect",expires:"expires",forwarded:"forwarded",host:"host","if-match":"ifMatch","if-modified-since":"ifModifiedSince","last-modified":"lastModified",location:"location",newrelic:"newrelic",origin:"origin","proxy-authorization":"proxyAuthorization",referer:"referer",refresh:"refresh",server:"server","set-cookie":"setCookie","transfer-encoding":"transferEncoding","user-agent":"userAgent",upgrade:"upgrade",vary:"vary","x-correlation-id":"xCorrelationId","x-csrf-token":"xCsrfToken","x-forwarded-for":"xForwardedFor","x-http-method-override":"xHttpMethodOverride","x-newrelic-app-data":"xNewrelicAppData","x-newrelic-id":"xNewrelicId","x-newrelic-synthetics":"xNewrelicSynthetics","x-newrelic-transaction":"xNewrelicTransaction","x-powered-by":"xPoweredBy","x-queue-start":"xQueueStart","x-request-id":"xRequestId","x-request-start":"xRequestStart","x-requested-with":"xRequestedWith"},s=Object.create(null),a=Object.create(null);function c(e,t){Object.keys(o).forEach((function(r){e[r]=t+o[r]}))}function u(e){if(0===e.length)return"";if(1===e.length)return e.toLowerCase();return(e.charAt(0).toLowerCase()+e.slice(1)).replace(/[\W_]+(\w)/g,(function(e,t){return t.toUpperCase()}))}function l(e,t,r,o){if(!e)return;o.agent.config.allow_all_headers||(e=Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{}));var s=o.agent.config.allow_all_headers?Object.keys(e):i;const a=o.agent.tracer.getSegment();for(var c=0;c<s.length;c++){var l=s[c],f=e[l];if(void 0!==f){if("referer"===l&&"string"==typeof f){var p=f.indexOf("?");-1!==p&&(f=f.substring(0,p))}var d=t[l]||r+u(l);o.trace.attributes.addAttribute(n.TRANS_COMMON,d,f),a.addSpanAttribute(d,f)}}}c(s,"request.headers."),c(a,"response.headers."),e.exports={collectRequestHeaders:function(e,t){l(e,s,"request.headers.",t)},collectResponseHeaders:function(e,t){l(e,a,"response.headers.",t)}}},function(e,t,r){"use strict";e.exports=function e(t,r,n){return(t=t[(r=Array.isArray(r)?r:r.replace(/(\[(\d)\])/g,".$2").split("."))[0]])&&r.length>1?e(t,r.slice(1),n):void 0===t?n:t}},function(e){e.exports=JSON.parse('{"alb":{"attributes":{},"name":"alb","required_keys":["httpMethod","requestContext.elb"]},"apiGateway":{"attributes":{"aws.lambda.eventSource.accountId":"requestContext.accountId","aws.lambda.eventSource.apiId":"requestContext.apiId","aws.lambda.eventSource.resourceId":"requestContext.resourceId","aws.lambda.eventSource.resourcePath":"requestContext.resourcePath","aws.lambda.eventSource.stage":"requestContext.stage"},"name":"apiGateway","required_keys":["headers","httpMethod","path","requestContext","requestContext.stage"]},"cloudFront":{"attributes":{},"name":"cloudFront","required_keys":["Records[0].cf"]},"cloudWatchScheduled":{"attributes":{"aws.lambda.eventSource.account":"account","aws.lambda.eventSource.id":"id","aws.lambda.eventSource.region":"region","aws.lambda.eventSource.resource":"resources[0]","aws.lambda.eventSource.time":"time"},"name":"cloudWatch_scheduled","required_keys":["detail-type","source"]},"dynamoStreams":{"attributes":{"aws.lambda.eventSource.length":"Records.length"},"name":"dynamo_streams","required_keys":["Records[0].dynamodb"]},"firehose":{"attributes":{"aws.lambda.eventSource.length":"records.length","aws.lambda.eventSource.region":"region"},"name":"firehose","required_keys":["deliveryStreamArn","records[0].kinesisRecordMetadata"]},"kinesis":{"attributes":{"aws.lambda.eventSource.length":"Records.length","aws.lambda.eventSource.region":"Records[0].awsRegion"},"name":"kinesis","required_keys":["Records[0].kinesis"]},"s3":{"attributes":{"aws.lambda.eventSource.bucketName":"Records[0].s3.bucket.name","aws.lambda.eventSource.eventName":"Records[0].eventName","aws.lambda.eventSource.eventTime":"Records[0].eventTime","aws.lambda.eventSource.length":"Records.length","aws.lambda.eventSource.objectKey":"Records[0].s3.object.key","aws.lambda.eventSource.objectSequencer":"Records[0].s3.object.sequencer","aws.lambda.eventSource.objectSize":"Records[0].s3.object.size","aws.lambda.eventSource.region":"Records[0].awsRegion"},"name":"s3","required_keys":["Records[0].s3"]},"ses":{"attributes":{"aws.lambda.eventSource.date":"Records[0].ses.mail.commonHeaders.date","aws.lambda.eventSource.length":"Records.length","aws.lambda.eventSource.messageId":"Records[0].ses.mail.commonHeaders.messageId","aws.lambda.eventSource.returnPath":"Records[0].ses.mail.commonHeaders.returnPath"},"name":"ses","required_keys":["Records[0].ses"]},"sns":{"attributes":{"aws.lambda.eventSource.length":"Records.length","aws.lambda.eventSource.messageId":"Records[0].Sns.MessageId","aws.lambda.eventSource.timestamp":"Records[0].Sns.Timestamp","aws.lambda.eventSource.topicArn":"Records[0].Sns.TopicArn","aws.lambda.eventSource.type":"Records[0].Sns.Type"},"name":"sns","required_keys":["Records[0].Sns"]},"sqs":{"attributes":{"aws.lambda.eventSource.length":"Records.length"},"name":"sqs","required_keys":["Records[0].receiptHandle"]}}')},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=182},function(module,exports,__webpack_require__){"use strict";var logger=__webpack_require__(0),RealAPI=__webpack_require__(80),TransactionHandle=__webpack_require__(96);function stubFunction(name){return eval("(function () {return function "+name+"() {logger.debug('Not calling "+name+" because New Relic is disabled.');}}())")}function Stub(){}for(var keys=Object.keys(RealAPI.prototype),length=keys.length,i=0;i<length;i++){var functionName=keys[i];Stub.prototype[functionName]=stubFunction(functionName)}function getBrowserTimingHeader(){return logger.debug("Not calling getBrowserTimingHeader because New Relic is disabled."),""}function getTransaction(){return new TransactionHandle.Stub}function setLambdaHandler(e){return logger.debug("Not calling setLambdaHandler because New Relic is disabled."),e}function startSegment(e,t,r,n){return logger.debug("Not calling `startSegment` because New Relic is disabled."),"function"==typeof r?r(n):null}function getLinkingMetadata(){return{}}function getTraceMetadata(){return{traceId:"",spanId:""}}function startWebTransaction(e,t){return logger.debug("Not calling startWebTransaction because New Relic is disabled."),"function"==typeof t?t():null}function startBackgroundTransaction(e,t,r){return logger.debug("Not calling startBackgroundTransaction because New Relic is disabled."),"function"==typeof r?r():"function"==typeof t?t():null}function shutdown(e,t){logger.debug("Not calling shutdown because New Relic is disabled.");var r=t;r||(r="function"==typeof e?e:function(){}),setImmediate(r)}Stub.prototype.startSegment=startSegment,Stub.prototype.startWebTransaction=startWebTransaction,Stub.prototype.startBackgroundTransaction=startBackgroundTransaction,Stub.prototype.getTransaction=getTransaction,Stub.prototype.getBrowserTimingHeader=getBrowserTimingHeader,Stub.prototype.shutdown=shutdown,Stub.prototype.setLambdaHandler=setLambdaHandler,Stub.prototype.getLinkingMetadata=getLinkingMetadata,Stub.prototype.getTraceMetadata=getTraceMetadata,module.exports=Stub},function(e,t,r){"use strict";const n=r(185),i=r(186),o=r(213),s=r(6).DESTINATIONS,a=r(214),c=r(219),u=r(220),l=r(221),f=r(9).EventEmitter,p=r(15),d=r(0),h=r(222),g=r(223),m=r(226),y=r(2),v=r(227),b=r(231),E=r(239),w=r(240),_=r(241),A=r(242),C=r(105),T=r(3),S=r(243),I={stopped:!1,starting:!0,connecting:!0,connected:!0,started:!0,disconnected:!1,stopping:!1,errored:!1};function N(e){if(f.call(this),!e)throw new Error("Agent must be created with a configuration!");this._state="stopped",this.config=e,this.environment=r(278),this.version=this.config.version,e.serverless_mode.enabled?this.collector=new o(this):this.collector=new i(this),this.mapper=new h,this.metricNameNormalizer=new g(this.config,"metric name"),this.metrics=new m({periodMs:6e4,apdexT:this.config.apdex_t,mapper:this.mapper,normalizer:this.metricNameNormalizer},this.collector),this.metrics.on("starting metric_data data send.",this._beforeMetricDataSend.bind(this)),this.spanEventAggregator=S(e,this.collector,this.metrics),this.transactionNameNormalizer=new g(this.config,"transaction name"),this.txSegmentNormalizer=new A,this.urlNormalizer=new g(this.config,"URL"),this.userNormalizer=new g(this.config,"user"),this.userNormalizer.loadFromConfig(),this.transactionEventAggregator=new w({periodMs:e.event_harvest_config.report_period_ms,limit:e.event_harvest_config.harvest_limits.analytic_event_data},this.collector,this.metrics),this.customEventAggregator=new a({periodMs:e.event_harvest_config.report_period_ms,limit:e.event_harvest_config.harvest_limits.custom_event_data},this.collector,this.metrics);const t=new u({periodMs:6e4,limit:20},this.collector),s=new l({periodMs:e.event_harvest_config.report_period_ms,limit:e.event_harvest_config.harvest_limits.error_event_data},this.collector,this.metrics);this.errors=new c(e,t,s,this.metrics),this.tracer=new _(this),this.traces=new E({periodMs:6e4,config:this.config,isAsync:!e.serverless_mode.enabled,method:"transaction_sample_data"},this.collector),this.transactionSampler=new n({agent:this,serverless:e.serverless_mode.enabled,period:1e3*e.sampling_target_period_in_seconds,target:e.sampling_target}),this.queries=new v({config:this.config,periodMs:6e4,method:"sql_trace_data",isAsync:!e.serverless_mode.enabled},this.collector),this._listenForConfigChanges(),this.totalActiveSegments=0,this.segmentsCreatedInHarvest=0,this.segmentsClearedInHarvest=0,this.activeTransactions=0,this.on("transactionFinished",this._transactionFinished.bind(this))}T.inherits(N,f),N.prototype.start=function(e){if(!e)throw new TypeError("callback required!");const t=this;return this.setState("starting"),!0!==this.config.agent_enabled?(d.warn("The New Relic Node.js agent is disabled by its configuration. Not starting!"),this.setState("stopped"),process.nextTick(e)):(b.start(t),this.config.serverless_mode.enabled?this._serverlessModeStart(e):this.config.license_key?(d.info("Starting New Relic for Node.js connection process."),void this.collector.connect((function(r,n){if(r||n.shouldShutdownRun())return t.setState("errored"),b.stop(),void e(r||new Error("Failed to connect to collector"),n&&n.payload);if(t.collector.isConnected()){t.onConnect(),t.setState("started");const r=n.payload;t.config.no_immediate_harvest?(t.startAggregators(),e(null,r)):(t.startStreaming(),setTimeout((function(){d.info("Starting initial 1000ms harvest."),t.forceHarvestAll((function(){t.startAggregators(),e(null,r)}))}),1e3))}else e(new Error("Collector did not connect and did not error"))}))):(d.error("A valid account license key cannot be found. Has a license key been specified in the agent configuration file or via the NEW_RELIC_LICENSE_KEY environment variable?"),this.setState("errored"),b.stop(),process.nextTick((function(){e(new Error("Not starting without license key!"))}))))},N.prototype.forceHarvestAll=function(e){const t=this,r=[],n=new Promise(e=>{t.metrics.once("finished metric_data data send.",(function(){e()})),t.metrics.send()});if(r.push(n),t.config.distributed_tracing.enabled&&t.config.span_events.enabled&&!t.spanEventAggregator.isStream){const e=new Promise(e=>{t.spanEventAggregator.once("finished span_event_data data send.",(function(){e()})),t.spanEventAggregator.send()});r.push(e)}if(t.config.custom_insights_events.enabled){const e=new Promise(e=>{t.customEventAggregator.once("finished custom_event_data data send.",(function(){e()})),t.customEventAggregator.send()});r.push(e)}if(t.config.transaction_events.enabled){const e=new Promise(e=>{t.transactionEventAggregator.once("finished analytic_event_data data send.",(function(){e()})),t.transactionEventAggregator.send()});r.push(e)}if(t.config.transaction_tracer.enabled&&t.config.collect_traces){const e=new Promise(e=>{t.traces.once("finished transaction_sample_data data send.",(function(){e()})),t.traces.send()});r.push(e)}if(t.config.slow_sql.enabled){const e=new Promise(e=>{t.queries.once("finished sql_trace_data data send.",(function(){e()})),t.queries.send()});r.push(e)}const i=t.config.error_collector&&t.config.error_collector.enabled;if(i&&t.config.collect_errors){const e=new Promise(e=>{t.errors.traceAggregator.once("finished error_data data send.",(function(){e()})),t.errors.traceAggregator.send()});r.push(e)}if(i&&t.config.error_collector.capture_events){const e=new Promise(e=>{t.errors.eventAggregator.once("finished error_event_data data send.",(function(){e()})),t.errors.eventAggregator.send()});r.push(e)}Promise.all(r).then(()=>{setImmediate(e)})},N.prototype.stopAggregators=function(){this.metrics.stop(),this.errors.stop(),this.traces.stop(),this.queries.stop(),this.spanEventAggregator.stop(),this.transactionEventAggregator.stop(),this.customEventAggregator.stop()},N.prototype.startStreaming=function(){this.spanEventAggregator.isStream&&this.config.distributed_tracing.enabled&&this.config.span_events.enabled&&this.spanEventAggregator.start()},N.prototype.startAggregators=function(){this.metrics.start(),this.errors.start(),this.config.transaction_tracer.enabled&&this.config.collect_traces&&this.traces.start(),this.config.slow_sql.enabled&&this.queries.start(),this.config.distributed_tracing.enabled&&this.config.span_events.enabled&&this.spanEventAggregator.start(),this.config.transaction_events.enabled&&this.transactionEventAggregator.start(),this.config.custom_insights_events.enabled&&this.customEventAggregator.start()},N.prototype.onConnect=function(){this.metrics.reconfigure(this.config),this.errors.reconfigure(this.config),this.traces.reconfigure(this.config),this.queries.reconfigure(this.config),this.spanEventAggregator.reconfigure(this.config),this.transactionEventAggregator.reconfigure(this.config),this.customEventAggregator.reconfigure(this.config),this.config.certificates&&this.config.certificates.length>0&&this.metrics.getOrCreateMetric(y.FEATURES.CERTIFICATES).incrementCallCount()},N.prototype._serverlessModeStart=function(e){d.info("New Relic for Node.js starting in serverless mode -- skipping connection process."),setImmediate(()=>e(null,this.config))},N.prototype.stop=function(e){if(!e)throw new TypeError("callback required!");const t=this;this.setState("stopping"),this.stopAggregators(),b.stop(),this.collector.isConnected()?this.collector.shutdown((function(r){r?(t.setState("errored"),d.warn(r,"Got error shutting down connection to New Relic:")):(t.setState("stopped"),d.info("Stopped New Relic for Node.js.")),e(r)})):(d.trace("Collector was not connected, invoking callback."),process.nextTick(e))},N.prototype._resetQueries=function(){this.queries.clear()},N.prototype._resetErrors=function(){this.errors.clearAll(),this.errors.reconfigure(this.config)},N.prototype._resetEvents=function(){this.transactionEventAggregator.clear()},N.prototype._resetCustomEvents=function(){this.customEventAggregator.clear()},N.prototype.harvestSync=function(){if(d.trace("Peparing to harvest."),!this.collector.isConnected())throw new Error("Sync harvest not connected/enabled!");this.emit("harvestStarted"),d.info("Harvest started.");const e=this.collector;this.metrics.send(),this.errors.traceAggregator.send(),this.errors.eventAggregator.send(),this.traces.send(),this.queries.send(),this.spanEventAggregator.send(),this.transactionEventAggregator.send(),this.customEventAggregator.send(),e.flushPayloadSync(),this.emit("harvestFinished"),d.info("Harvest finished.")},N.prototype._beforeMetricDataSend=function(){this._generateEntityStatsAndClear(),C.createMetrics(this.metrics),this.spanEventAggregator.isStream&&this.spanEventAggregator.createMetrics()},N.prototype._generateEntityStatsAndClear=function(){d.traceEnabled()&&d.trace({segmentTotal:this.totalActiveSegments,harvestCreated:this.segmentsCreatedInHarvest,harvestCleared:this.segmentsClearedInHarvest,activeTransactions:this.activeTransactions},"Entity stats on metric harvest"),this.segmentsCreatedInHarvest=0,this.segmentsClearedInHarvest=0},N.prototype.reconfigure=function(e){if(!e)throw new TypeError("must pass configuration");this.config.onConnect(e)},N.prototype.setState=function(e){if(!I.hasOwnProperty(e))throw new TypeError("Invalid state "+e);d.info("Agent state changed from %s to %s.",this._state,e),this._state=e,this.emit(this._state)},N.prototype.canCollectData=function(){return I[this._state]},N.prototype._enabledChange=function(){!1===this.config.agent_enabled&&(d.warn("agent_enabled has been changed to false, stopping the agent."),this.stop((function(){})))},N.prototype._configChange=function(){this.collector.reportSettings()},N.prototype._addIntrinsicAttrsFromTransaction=function(e){const t={webDuration:e.timer.getDurationInMillis()/1e3,timestamp:e.timer.start,name:e.getFullName(),duration:e.timer.getDurationInMillis()/1e3,totalTime:e.trace.getTotalTimeDurationInMillis()/1e3,type:"Transaction",error:e.hasErrors()};let r=e.metrics.getMetric(y.QUEUETIME);r&&(t.queueDuration=r.total);r=e.metrics.getMetric(y.EXTERNAL.ALL),r&&(t.externalDuration=r.total,t.externalCallCount=r.callCount);r=e.metrics.getMetric(y.DB.ALL),r&&(t.databaseDuration=r.total,t.databaseCallCount=r.callCount);if(this.config.distributed_tracing.enabled)e.addDistributedTraceIntrinsics(t),e.parentSpanId&&(t.parentSpanId=e.parentSpanId),e.parentId&&(t.parentId=e.parentId);else if(this.config.cross_application_tracer.enabled&&!e.invalidIncomingExternalTransaction&&(e.referringTransactionGuid||e.includesOutboundRequests())){if(t["nr.guid"]=e.id,t["nr.tripId"]=e.tripId||e.id,t["nr.pathHash"]=p.calculatePathHash(this.config.applications()[0],e.getFullName(),e.referringPathHash),e.referringPathHash&&(t["nr.referringPathHash"]=e.referringPathHash),e.referringTransactionGuid){var n=e.referringTransactionGuid;t["nr.referringTransactionGuid"]=n}var i=e.alternatePathHashes();if(i&&(t["nr.alternatePathHashes"]=i),e.baseSegment&&"web"===e.type){var o=this.config.web_transactions_apdex[e.getFullName()]||this.config.apdex_t,s=e.baseSegment.getDurationInMillis()/1e3;t["nr.apdexPerfZone"]=function(e,t){if(e<=t)return"S";if(e<=4*t)return"T";return"F"}(s,o)}}e.syntheticsData&&(t["nr.syntheticsResourceId"]=e.syntheticsData.resourceId,t["nr.syntheticsJobId"]=e.syntheticsData.jobId,t["nr.syntheticsMonitorId"]=e.syntheticsData.monitorId);return t},N.prototype._addEventFromTransaction=function(e){if(!this.config.transaction_events.enabled)return;const t=[this._addIntrinsicAttrsFromTransaction(e),e.trace.custom.get(s.TRANS_EVENT),e.trace.attributes.get(s.TRANS_EVENT)];this.transactionEventAggregator.add(t,e.priority||Math.random())},N.prototype._transactionFinished=function(e){if(null!==e.forceIgnore&&(e.ignore=e.forceIgnore),e.ignore)!0===e.forceIgnore?d.debug("Explicitly ignoring %s (%s).",e.name,e.id):d.debug("Ignoring %s (%s).",e.name,e.id);else{!1===e.forceIgnore&&d.debug("Explicitly not ignoring %s (%s).",e.name,e.id),this.metrics.merge(e.metrics,!1),this.errors.onTransactionFinished(e),this.traces.add(e);e.trace.intrinsics=e.getIntrinsicAttributes(),this._addEventFromTransaction(e)}--this.activeTransactions,this.totalActiveSegments-=e.numSegments,this.segmentsClearedInHarvest+=e.numSegments},N.prototype.setLambdaArn=function(e){this.collector instanceof o&&this.collector.setLambdaArn(e)},N.prototype.setLambdaFunctionVersion=function(e){this.collector instanceof o&&this.collector.setLambdaFunctionVersion(e)},N.prototype.getTransaction=function(){return this.tracer.getTransaction()},N.prototype.recordSupportability=function(e,t){const r=this.metrics.getOrCreateMetric(y.SUPPORTABILITY.PREFIX+e);null!=t?r.recordValue(t):r.incrementCallCount()},N.prototype._listenForConfigChanges=function(){const e=this;this.config.on("agent_enabled",this._enabledChange.bind(this)),this.config.on("change",this._configChange.bind(this)),this.config.on("metric_name_rules",(function(){e.metricNameNormalizer.load.apply(e.metricNameNormalizer,arguments)})),this.config.on("transaction_name_rules",(function(){e.transactionNameNormalizer.load.apply(e.transactionNameNormalizer,arguments)})),this.config.on("url_rules",(function(){e.urlNormalizer.load.apply(e.urlNormalizer,arguments)})),this.config.on("transaction_segment_terms",(function(){e.txSegmentNormalizer.load.apply(e.txSegmentNormalizer,arguments)})),this.config.on("sampling_target",(function(t){e.transactionSampler.samplingTarget=t})),this.config.on("sampling_target_period_in_seconds",(function(t){e.transactionSampler.samplingPeriod=1e3*t})),this.config.on("event_harvest_config",(function(t){t&&function(e,t){const r=t.harvest_limits,n=y.EVENT_HARVEST,i=n.HARVEST_LIMIT;e.metrics.getOrCreateMetric(n.REPORT_PERIOD).recordValue(t.report_period_ms);const o=r.analytic_event_data;if(o){e.metrics.getOrCreateMetric(i.ANALYTIC).recordValue(o)}const s=r.custom_event_data;if(s){e.metrics.getOrCreateMetric(i.CUSTOM).recordValue(s)}const a=r.error_event_data;if(a){e.metrics.getOrCreateMetric(i.ERROR).recordValue(a)}const c=r.span_event_data;if(c){e.metrics.getOrCreateMetric(i.SPAN).recordValue(c)}}(e,t)}))},e.exports=N},function(e,t,r){"use strict";e.exports=class{constructor(e){this._serverless=e.serverless,this._seen=0,this._sampled=0,this._samplingPeriod=0,this._samplingTarget=e.target,this._maxSamples=2*e.target,this._samplingThreshold=0,this._resetCount=0,this._resetInterval=null,this.samplingPeriod=e.period,this._serverless&&(this._windowStart=null,e.agent.on("transactionStarted",this.maybeUpdateWindow.bind(this)))}get sampled(){return this._sampled}get samplingThreshold(){return this._samplingThreshold}get samplingTarget(){return this._samplingTarget}set samplingTarget(e){this._samplingTarget=e,this._maxSamples=2*e,this._adjustStats(this._samplingTarget)}get samplingPeriod(){return this._samplingPeriod}set samplingPeriod(e){this._samplingPeriod=e,this._serverless||(clearInterval(this._resetInterval),e&&(this._resetInterval=setInterval(()=>this._reset(),e),this._resetInterval.unref()))}maybeUpdateWindow(e){const t=e.timer.start;(!this._windowStart||t-this._windowStart>=this._samplingPeriod)&&(this._windowStart=t,this._reset())}shouldSample(e){return++this._seen,e>=this._samplingThreshold&&(this._incrementSampled(),!0)}_reset(){++this._resetCount,this._adjustStats(this._samplingTarget),this._seen=0,this._sampled=0}_incrementSampled(){if(++this._sampled>=this._samplingTarget){let e=0;if(this._resetCount>0){const t=this._samplingTarget,r=t/this._sampled,n=t/this._maxSamples;e=Math.pow(t,r)-Math.pow(t,n)}this._adjustStats(e)}}_adjustStats(e){if(this._seen){const t=Math.min(e/this._seen,1);this._samplingThreshold=1-t}}}},function(e,t,r){"use strict";const n=r(47),i=r(187),o=r(0).child({component:"collector_api"}),s=r(201),a=r(2),c=[{interval:15,warn:!1},{interval:15,warn:!1},{interval:30,warn:!1},{interval:60,warn:!0},{interval:120,warn:!1},{interval:300,warn:!1}],u=new Set([200,202]),l=new Set([401,409]),f=new Set([408,429,500,503]),p=new Set([400,403,404,405,407,411,413,414,415,417,431]),d=n.AGENT_RUN_BEHAVIOR;function h(e,t){var r=1;e.forEach((function(e){o.trace(e,"Error %s during %s:",r++,t),e.laterErrors&&e.laterErrors.forEach((function(e){o.trace(e,"Error %s during %s:",r++,t)}))}))}function g(e){this._agent=e,this._reqHeadersMap=null;const t={host:e.config.host,port:e.config.port};this._methods={preconnect:new s("preconnect",e.config,t),connect:new s("connect",e.config,t),settings:new s("agent_settings",e.config,t),errors:new s("error_data",e.config,t),metrics:new s("metric_data",e.config,t),traces:new s("transaction_sample_data",e.config,t),shutdown:new s("shutdown",e.config,t),events:new s("analytic_event_data",e.config,t),customEvents:new s("custom_event_data",e.config,t),queryData:new s("sql_trace_data",e.config,t),errorEvents:new s("error_event_data",e.config,t),spanEvents:new s("span_event_data",e.config,t)}}function m(e,t,r){o.error("Agent endpoint %s returned %s status. %s.",e,t,r)}g.prototype._updateEndpoints=function(e){o.trace("Updating endpoints to: ",e);for(const[t,r]of Object.entries(this._methods))"preconnect"!==t&&r.updateEndpoint(e)},g.prototype.connect=function(e){if(!e)throw new TypeError("callback is required");o.trace("Starting collector."),this._agent.setState("connecting");const t=this,r=c.length,i=[];let s=1;const l=this._agent.metrics.getOrCreateMetric(a.SUPPORTABILITY.REGISTRATION+"/Attempts");this._reqHeadersMap&&(this._reqHeadersMap=null),this._login((function a(f,p){if(l.incrementCallCount(),f)i.push(f);else if(p&&u.has(p.status))return h(i,"connect"),e(null,n.success(p.payload));if(p||(p=n.retry()),410===p.status||p.agentRun===d.SHUTDOWN)return o.error("The New Relic collector rejected this agent."),e(null,n.fatal(p.payload));401===p.status?o.warn(f,"Your license key appears to be invalid. Reattempting connection to New Relic. If the problem persists, please contact support@newrelic.com. (status code %s)",p.status):function(e){const r=t._agent.config;return e&&["EPROTO","ECONNRESET"].includes(e.code)&&r.proxy_host&&r.proxy_port&&!r.proxy}(f)&&o.warn(f,"Your proxy server appears to be configured to accept connections over http. When setting `proxy_host` and `proxy_port` New Relic attempts to connect over SSL(https). If your proxy is configured to accept connections over http, try setting `proxy` to a fully qualified URL(e.g http://proxy-host:8080).");let g=c[Math.min(s,r)-1];g.warn&&o.warn("No connection has been established to New Relic after %d attempts.",s),o.debug(f,"Failed to connect to New Relic after attempt %d, waiting %ds to retry.",s,g.interval),++s,setTimeout((function(){t._login(a)}),1e3*g.interval).unref()}))},g.prototype._login=function(e){var t=this._methods,r=this._agent,n=this;const i={high_security:r.config.high_security};r.config.security_policies_token&&(i.security_policies_token=r.config.security_policies_token);const s=[i];t.preconnect.invoke(s,(function(t,i){if(t||!u.has(i.status))return e(t,i);const s=i.payload||Object.create(null);if(s.redirect_host){var a=s.redirect_host.split(":");if(a.length>2)o.error("Requesting collector from %s returned bogus result '%s'; trying default.",r.config.host,s.redirect_host);else{o.debug("Requesting this account's collector from %s returned %s; reconfiguring.",r.config.host,s.redirect_host);const[e,t]=a,i={host:e,port:t||443};n._updateEndpoints(i)}}else o.error("Requesting this account's collector from %s failed; trying default.",r.config.host);var c=s.security_policies||Object.create(null);const l=r.config.applyLasp(r,c);if(l.shouldShutdownRun())return e(null,l);n._getFacts(l.payload,e)}))},g.prototype._getFacts=function(e,t){var r=this._agent,n=this;i(r,(function(r){e&&(r.security_policies=e);var i=[r];n._connect(i,t)}))},g.prototype._connect=function(e,t){const r=this,n=this._methods,i=this._agent;n.connect.invoke(e,(function(e,s){if(e||!u.has(s.status))return t(e,s);const a=s.payload;if(!a||!a.agent_run_id)return t(new Error("No agent run ID received from handshake."),s);i.setState("connected"),o.info("Connected to %s:%d with agent run ID %s.",n.connect.endpoint.host,n.connect.endpoint.port,a.agent_run_id),a.messages&&a.messages.forEach(e=>{o.info(e.message)});r._reqHeadersMap=a.request_headers_map,i.reconfigure(a),t(null,s)}))},g.prototype.reportSettings=function(e){this._methods.settings.invoke([this._agent.config.publicSettings()],this._reqHeadersMap,(function(t,r){t&&h([t],"agent_settings"),e&&e(t,r)}))},g.prototype.error_data=function(e,t){if(!t)throw new TypeError("callback is required");if(!e)return t(new TypeError("must pass errors to send"));this._sendData(this._methods.errors,e,t)},g.prototype.error_event_data=function(e,t){if(!t)throw new TypeError("callback is required");if(!e)return t(new TypeError("must pass errors to send"));this._sendData(this._methods.errorEvents,e,t)},g.prototype.analytic_event_data=function(e,t){if(!t)throw new TypeError("callback is required");if(!e)return t(new TypeError("must pass events to send"));this._sendData(this._methods.events,e,t)},g.prototype.custom_event_data=function(e,t){if(!t)throw new TypeError("callback is required");if(!e)return t(new TypeError("must pass events to send"));this._sendData(this._methods.customEvents,e,t)},g.prototype.metric_data=function(e,t){if(!t)throw new TypeError("callback is required");if(!e)return t(new TypeError("must pass metrics to send"));this._sendData(this._methods.metrics,e,t)},g.prototype.sql_trace_data=function(e,t){if(!t)throw new TypeError("callback is required");if(!e)return t(new TypeError("must pass queries to send"));this._sendData(this._methods.queryData,e,t)},g.prototype.span_event_data=function(e,t){if(!t)throw new TypeError("callback is required");if(!e)return t(new TypeError("must pass spans to send"));this._sendData(this._methods.spanEvents,e,t)},g.prototype.transaction_sample_data=function(e,t){if(!t)throw new TypeError("callback is required");if(!e)return t(new TypeError("must pass traces to send"));this._sendData(this._methods.traces,e,t)},g.prototype.shutdown=function(e){if(!e)throw new TypeError("callback is required");o.info("Shutting down collector.");var t=this._agent;this._methods.shutdown.invoke(null,this._reqHeadersMap,(function(r,i){r&&h([r],"shutdown");t.setState("disconnected"),o.info("Disconnected from New Relic; clearing run ID %s.",t.config.run_id),t.config.run_id=void 0,e(r,n.fatal(i&&i.payload))}))},g.prototype.restart=function(e){o.info("Restarting collector."),this._agent.stopAggregators();var t=this;this.shutdown((function(){t.connect((function(){return t._agent.onConnect(),t._agent.startAggregators(),e.apply(null,arguments)}))}))},g.prototype._runLifecycle=function(e,t,r){if(!this.isConnected()){o.warn("Not connected to New Relic. Not calling.",e.name);const t=new Error("Not connected to collector.",null,null);return setImmediate(r,t)}const n=this;e.invoke(t,this._reqHeadersMap,(function(t,i){return t?r(t):n._handleResponseCode(i,e.name,r)}))},g.prototype._sendData=function(e,t,r){this._runLifecycle(e,t,(e,t)=>{e?r(e,{retainData:!0}):t?t.agentRun===d.SHUTDOWN?r(null,{retainData:t.retainData}):t.agentRun===d.RESTART?this.restart((function(e){e?o.warn("Failed to restart agent run."):o.trace("Restart succeeded."),r(null,{retainData:t.retainData})})):r(null,{retainData:t.retainData}):r()})},g.prototype.isConnected=function(){return!!this._agent.config.run_id},g.prototype._handleResponseCode=function(e,t,r){const i=e.status;if(u.has(i))return setImmediate(r,null,n.success(e.payload));if(l.has(i))return m(t,i,"Restarting"),setImmediate(r,null,n.reconnect(0,null));if(p.has(i))return m(t,i,"Discarding harvest data"),setImmediate(r,null,n.discard(null));if(f.has(i))return m(t,i,"Retaining data for next harvest"),setImmediate(r,null,n.error(e.payload));if(410===i)return m(t,i,"Disconnecting from New Relic"),this._agent.stop((function(){r(null,n.fatal(e.payload))}));return o.error("Agent endpoint %s returned unexpected status %s.",t,i),setImmediate(r,null,n.discard(null))},e.exports=g},function(e,t,r){"use strict";const n=r(34),i=r(188),o=r(0).child({component:"facts"}),s=r(10),a=r(200),c=r(17);e.exports=function(e,t){var r=Date.now();n.parallel({systemInfo:n.apply(i,e),environment:e.environment.getJSON},(function(n,i){o.trace("Facts gathering finished in %dms",Date.now()-r),n&&o.debug(n,"Failed to load system facts!");const u=(i=i||Object.create(null)).systemInfo||Object.create(null),l=i.environment||[],f=e.config.getHostnameSafe(),p={utilization:{metadata_version:5,logical_processors:u.logicalProcessors||null,total_ram_mib:u.memory||null,hostname:f},pid:process.pid,host:f,display_host:e.config.getDisplayHost()||f,language:"nodejs",app_name:e.config.applications(),agent_version:e.version,environment:l,settings:e.config.publicSettings(),high_security:e.config.high_security,labels:a(e.config.labels),metadata:Object.keys(process.env).reduce((e,t)=>(t.startsWith("NEW_RELIC_METADATA_")&&(e[t]=process.env[t]),e),{})};o.debug("New Relic metadata %o",p.metadata),p.event_harvest_config={harvest_limits:{analytic_event_data:e.config.transaction_events.max_samples_stored,custom_event_data:e.config.custom_insights_events.max_samples_stored,error_event_data:e.config.error_collector.max_event_samples_stored,span_event_data:c.SPAN_EVENT_LIMIT}},p.identifier=["nodejs",p.app_name.concat([]).sort().join(",")].join(":");const d=function(){const e=s.networkInterfaces(),t=/^lo/;return Object.keys(e).reduce((function(r,n){if(!t.test(n)){const t=e[n].map((function(e){return e.address}));for(let e=0;e<t.length;e++){const n=t[e];r.push(n)}}return r}),[])}();return d.length&&(p.utilization.ip_address=d),u.bootId&&(p.utilization.boot_id=u.bootId),u.vendors&&(p.utilization.vendors=u.vendors),u.config&&(p.utilization.config=u.config),t(p)}))}},function(e,t,r){"use strict";var n=r(97).exec,i=r(26).readProc,o=r(98).getBootId,s=r(192),a=r(0).child({component:"system-info"}),c=r(10),u=r(198),l=r(199),f=c.platform();function p(e){return e===parseInt(e,10)}function d(e,t){if(!e)return t(null);var r=!1,i=0;e.forEach((function(o){n("sysctl -n "+o,(function(n,s,c){if(r)return;n?(a.debug("Error when trying to run: sysctl -n %s: %s",o,n.message),t(null),r=!0):c||(t(s),r=!0);++i!==e.length||r||(a.debug("No sysctl info found for names: %j",e),t(null))}))}))}e.exports=function(t,r){var n=t.config,u={processorArch:c.arch()},l=Object.create(null);if(n.utilization){var h=n.utilization.logical_processors,g=n.utilization.total_ram_mib,m=n.utilization.billing_hostname;if(h){var y=parseFloat(h,10);!isNaN(y)&&p(y)?l.logical_processors=y:a.info("%s supplied in config for utilization.logical_processors, expected a number",h)}if(g){var v=parseFloat(g,10);!isNaN(v)&&p(v)?l.total_ram_mib=v:a.info("%s supplied in config for utilization.total_ram_mib, expected a number",g)}m&&("string"==typeof m?l.hostname=m:a.info("%s supplied in config for utilization.Hostname, expected a string",m)),Object.keys(l).length>0&&(u.config=l)}var b=0;function E(){5==++b&&r(null,u)}e.exports._getProcessorStats((function(e){u.packages=e.packages,u.logicalProcessors=e.logical,u.cores=e.cores,E()})),e.exports._getMemoryStats((function(e){u.memory=e,E()})),function(e){f.match(/darwin/i)||f.match(/bsd/i)?d(["kern.version"],(function(t){e(t)})):f.match(/linux/i)?i("/proc/version",(function(t,r){e(r)})):(a.debug("Unknown platform: %s; could not read kernel version",f),e(null))}((function(e){u.kernelVersion=e,E()})),s.getVendors(t,(function(e,t){t&&(u.vendors=t),E()})),o(t,(function(e,t){t&&(u.bootId=t),E()}))},e.exports._getProcessorStats=function(e){var t={logical:null,cores:null,packages:null};f.match(/darwin/i)?d(["hw.packages"],(function(r){d(["hw.physicalcpu_max","hw.physicalcpu"],(function(n){d(["hw.logicalcpu_max","hw.logicalcpu","hw.ncpu"],(function(i){for(var o in t.logical=parseFloat(i,10),t.cores=parseFloat(n,10),t.packages=parseFloat(r,10),t)t[o]&&p(t[o])||(t[o]=null);e(t)}))}))})):f.match(/bsd/i)?d(["hw.ncpu"],(function(r){t.logical=r,e(t)})):f.match(/linux/i)?i("/proc/cpuinfo",(function(t,r){e(u(r))})):(a.debug("Unknown platform: %s; could not retrieve processor info",f),e(t))},e.exports._getMemoryStats=function(e){f.match(/darwin/i)?d(["hw.memsize"],(function(t){e(parseInt(t,10)/1048576)})):f.match(/bsd/i)?d(["hw.realmem"],(function(t){e(parseInt(t,10)/1048576)})):f.match(/linux/i)?i("/proc/meminfo",(function(t,r){e(l(r))})):(a.debug("Unknown platform: %s; could not retrieve memory info",f),e(null))}},function(e,t,r){var n=r(68).Writable,i=r(23),o=r(190);if("undefined"==typeof Uint8Array)var s=r(191).Uint8Array;else s=Uint8Array;function a(e,t){if(!(this instanceof a))return new a(e,t);"function"==typeof e&&(t=e,e={}),e||(e={});var r=e.encoding,i=!1;r?"u8"!==(r=String(r).toLowerCase())&&"uint8"!==r||(r="uint8array"):i=!0,n.call(this,{objectMode:!0}),this.encoding=r,this.shouldInferEncoding=i,t&&this.on("finish",(function(){t(this.getBody())})),this.body=[]}e.exports=a,i(a,n),a.prototype._write=function(e,t,r){this.body.push(e),r()},a.prototype.inferEncoding=function(e){var t=void 0===e?this.body[0]:e;return Buffer.isBuffer(t)?"buffer":"undefined"!=typeof Uint8Array&&t instanceof Uint8Array?"uint8array":Array.isArray(t)?"array":"string"==typeof t?"string":"[object Object]"===Object.prototype.toString.call(t)?"object":"buffer"},a.prototype.getBody=function(){return this.encoding||0!==this.body.length?(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),"array"===this.encoding?function(e){for(var t=[],r=0;r<e.length;r++)t.push.apply(t,e[r]);return t}(this.body):"string"===this.encoding?function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"string"==typeof n||Buffer.isBuffer(n)?t.push(n):c(n)?t.push(o(n)):t.push(o(String(n)))}t=Buffer.isBuffer(e[0])?(t=Buffer.concat(t)).toString("utf8"):t.join("");return t}(this.body):"buffer"===this.encoding?function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];Buffer.isBuffer(n)?t.push(n):c(n)?t.push(o(n)):t.push(o(String(n)))}return Buffer.concat(t)}(this.body):"uint8array"===this.encoding?function(e){for(var t=0,r=0;r<e.length;r++)"string"==typeof e[r]&&(e[r]=o(e[r])),t+=e[r].length;for(var n=new s(t),i=(r=0,0);r<e.length;r++)for(var a=e[r],c=0;c<a.length;c++)n[i++]=a[c];return n}(this.body):this.body):[]};Array.isArray;function c(e){return"string"==typeof e||(t=e,/Array\]$/.test(Object.prototype.toString.call(t)))||e&&"function"==typeof e.subarray;var t}},function(e,t){var r=Object.prototype.toString,n="undefined"!=typeof Buffer&&"function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;e.exports=function(e,t,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return o=e,"ArrayBuffer"===r.call(o).slice(8,-1)?function(e,t,r){t>>>=0;var i=e.byteLength-t;if(i<0)throw new RangeError("'offset' is out of bounds");if(void 0===r)r=i;else if((r>>>=0)>i)throw new RangeError("'length' is out of bounds");return n?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}(e,t,i):"string"==typeof e?function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return n?Buffer.from(e,t):new Buffer(e,t)}(e,t):n?Buffer.from(e):new Buffer(e);var o}},function(e,t){var r,n,i,o=(r=Object.prototype.toString,n=Object.prototype.hasOwnProperty,{Class:function(e){return r.call(e).replace(/^\[object *|\]$/g,"")},HasProperty:function(e,t){return t in e},HasOwnProperty:function(e,t){return n.call(e,t)},IsCallable:function(e){return"function"==typeof e},ToInt32:function(e){return e>>0},ToUint32:function(e){return e>>>0}}),s=Math.LN2,a=Math.abs,c=Math.floor,u=Math.log,l=Math.min,f=Math.pow,p=Math.round;function d(e){if(h&&i){var t,r=h(e);for(t=0;t<r.length;t+=1)i(e,r[t],{value:e[r[t]],writable:!1,enumerable:!1,configurable:!1})}}i=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()?Object.defineProperty:function(e,t,r){if(!e===Object(e))throw new TypeError("Object.defineProperty called on non-object");return o.HasProperty(r,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(e,t,r.get),o.HasProperty(r,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(e,t,r.set),o.HasProperty(r,"value")&&(e[t]=r.value),e};var h=Object.getOwnPropertyNames||function(e){if(e!==Object(e))throw new TypeError("Object.getOwnPropertyNames called on non-object");var t,r=[];for(t in e)o.HasOwnProperty(e,t)&&r.push(t);return r};function g(e){if(i){if(e.length>1e5)throw new RangeError("Array too large for polyfill");var t;for(t=0;t<e.length;t+=1)r(t)}function r(t){i(e,t,{get:function(){return e._getter(t)},set:function(r){e._setter(t,r)},enumerable:!0,configurable:!1})}}function m(e,t){var r=32-t;return e<<r>>r}function y(e,t){var r=32-t;return e<<r>>>r}function v(e){return[255&e]}function b(e){return m(e[0],8)}function E(e){return[255&e]}function w(e){return y(e[0],8)}function _(e){return[(e=p(Number(e)))<0?0:e>255?255:255&e]}function A(e){return[e>>8&255,255&e]}function C(e){return m(e[0]<<8|e[1],16)}function T(e){return[e>>8&255,255&e]}function S(e){return y(e[0]<<8|e[1],16)}function I(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function N(e){return m(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function O(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function R(e){return y(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function M(e,t,r){var n,i,o,p,d,h,g,m=(1<<t-1)-1;function y(e){var t=c(e),r=e-t;return r<.5?t:r>.5||t%2?t+1:t}for(e!=e?(i=(1<<t)-1,o=f(2,r-1),n=0):e===1/0||e===-1/0?(i=(1<<t)-1,o=0,n=e<0?1:0):0===e?(i=0,o=0,n=1/e==-1/0?1:0):(n=e<0,(e=a(e))>=f(2,1-m)?(i=l(c(u(e)/s),1023),(o=y(e/f(2,i)*f(2,r)))/f(2,r)>=2&&(i+=1,o=1),i>m?(i=(1<<t)-1,o=0):(i+=m,o-=f(2,r))):(i=0,o=y(e/f(2,1-m-r)))),d=[],p=r;p;p-=1)d.push(o%2?1:0),o=c(o/2);for(p=t;p;p-=1)d.push(i%2?1:0),i=c(i/2);for(d.push(n?1:0),d.reverse(),h=d.join(""),g=[];h.length;)g.push(parseInt(h.substring(0,8),2)),h=h.substring(8);return g}function x(e,t,r){var n,i,o,s,a,c,u,l,p=[];for(n=e.length;n;n-=1)for(o=e[n-1],i=8;i;i-=1)p.push(o%2?1:0),o>>=1;return p.reverse(),s=p.join(""),a=(1<<t-1)-1,c=parseInt(s.substring(0,1),2)?-1:1,u=parseInt(s.substring(1,1+t),2),l=parseInt(s.substring(1+t),2),u===(1<<t)-1?0!==l?NaN:c*(1/0):u>0?c*f(2,u-a)*(1+l/f(2,r)):0!==l?c*f(2,-(a-1))*(l/f(2,r)):c<0?-0:0}function D(e){return x(e,11,52)}function k(e){return M(e,11,52)}function B(e){return x(e,8,23)}function j(e){return M(e,8,23)}!function(){var e=function(e){if((e=o.ToInt32(e))<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");var t;for(this.byteLength=e,this._bytes=[],this._bytes.length=e,t=0;t<this.byteLength;t+=1)this._bytes[t]=0;d(this)};t.ArrayBuffer=t.ArrayBuffer||e;var r=function(){};function n(t,n,i){var s;return(s=function(t,r,n){var i,a,c,u;if(arguments.length&&"number"!=typeof arguments[0])if("object"==typeof arguments[0]&&arguments[0].constructor===s)for(i=arguments[0],this.length=i.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,c=0;c<this.length;c+=1)this._setter(c,i._getter(c));else if("object"!=typeof arguments[0]||(arguments[0]instanceof e||"ArrayBuffer"===o.Class(arguments[0]))){if("object"!=typeof arguments[0]||!(arguments[0]instanceof e||"ArrayBuffer"===o.Class(arguments[0])))throw new TypeError("Unexpected argument type(s)");if(this.buffer=t,this.byteOffset=o.ToUint32(r),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=o.ToUint32(n),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else for(a=arguments[0],this.length=o.ToUint32(a.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,c=0;c<this.length;c+=1)u=a[c],this._setter(c,Number(u));else{if(this.length=o.ToInt32(arguments[0]),n<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0}this.constructor=s,d(this),g(this)}).prototype=new r,s.prototype.BYTES_PER_ELEMENT=t,s.prototype._pack=n,s.prototype._unpack=i,s.BYTES_PER_ELEMENT=t,s.prototype._getter=function(e){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if(!((e=o.ToUint32(e))>=this.length)){var t,r,n=[];for(t=0,r=this.byteOffset+e*this.BYTES_PER_ELEMENT;t<this.BYTES_PER_ELEMENT;t+=1,r+=1)n.push(this.buffer._bytes[r]);return this._unpack(n)}},s.prototype.get=s.prototype._getter,s.prototype._setter=function(e,t){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if(!((e=o.ToUint32(e))>=this.length)){var r,n,i=this._pack(t);for(r=0,n=this.byteOffset+e*this.BYTES_PER_ELEMENT;r<this.BYTES_PER_ELEMENT;r+=1,n+=1)this.buffer._bytes[n]=i[r]}},s.prototype.set=function(e,t){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var r,n,i,s,a,c,u,l,f,p;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(r=arguments[0],(i=o.ToUint32(arguments[1]))+r.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(l=this.byteOffset+i*this.BYTES_PER_ELEMENT,f=r.length*this.BYTES_PER_ELEMENT,r.buffer===this.buffer){for(p=[],a=0,c=r.byteOffset;a<f;a+=1,c+=1)p[a]=r.buffer._bytes[c];for(a=0,u=l;a<f;a+=1,u+=1)this.buffer._bytes[u]=p[a]}else for(a=0,c=r.byteOffset,u=l;a<f;a+=1,c+=1,u+=1)this.buffer._bytes[u]=r.buffer._bytes[c]}else{if("object"!=typeof arguments[0]||void 0===arguments[0].length)throw new TypeError("Unexpected argument type(s)");if(n=arguments[0],s=o.ToUint32(n.length),(i=o.ToUint32(arguments[1]))+s>this.length)throw new RangeError("Offset plus length of array is out of range");for(a=0;a<s;a+=1)c=n[a],this._setter(i+a,Number(c))}},s.prototype.subarray=function(e,t){function r(e,t,r){return e<t?t:e>r?r:e}e=o.ToInt32(e),t=o.ToInt32(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=r(e,0,this.length);var n=(t=r(t,0,this.length))-e;return n<0&&(n=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,n)},s}var i=n(1,v,b),s=n(1,E,w),a=n(1,_,w),c=n(2,A,C),u=n(2,T,S),l=n(4,I,N),f=n(4,O,R),p=n(4,j,B),h=n(8,k,D);t.Int8Array=t.Int8Array||i,t.Uint8Array=t.Uint8Array||s,t.Uint8ClampedArray=t.Uint8ClampedArray||a,t.Int16Array=t.Int16Array||c,t.Uint16Array=t.Uint16Array||u,t.Int32Array=t.Int32Array||l,t.Uint32Array=t.Uint32Array||f,t.Float32Array=t.Float32Array||p,t.Float64Array=t.Float64Array||h}(),function(){function e(e,t){return o.IsCallable(e.get)?e.get(t):e[t]}var r,n=(r=new t.Uint16Array([4660]),18===e(new t.Uint8Array(r.buffer),0)),i=function(e,r,n){if(0===arguments.length)e=new t.ArrayBuffer(0);else if(!(e instanceof t.ArrayBuffer||"ArrayBuffer"===o.Class(e)))throw new TypeError("TypeError");if(this.buffer=e||new t.ArrayBuffer(0),this.byteOffset=o.ToUint32(r),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteLength=arguments.length<3?this.buffer.byteLength-this.byteOffset:o.ToUint32(n),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");d(this)};function s(r){return function(i,s){if((i=o.ToUint32(i))+r.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");i+=this.byteOffset;var a,c=new t.Uint8Array(this.buffer,i,r.BYTES_PER_ELEMENT),u=[];for(a=0;a<r.BYTES_PER_ELEMENT;a+=1)u.push(e(c,a));return Boolean(s)===Boolean(n)&&u.reverse(),e(new r(new t.Uint8Array(u).buffer),0)}}function a(r){return function(i,s,a){if((i=o.ToUint32(i))+r.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var c,u=new r([s]),l=new t.Uint8Array(u.buffer),f=[];for(c=0;c<r.BYTES_PER_ELEMENT;c+=1)f.push(e(l,c));Boolean(a)===Boolean(n)&&f.reverse(),new t.Uint8Array(this.buffer,i,r.BYTES_PER_ELEMENT).set(f)}}i.prototype.getUint8=s(t.Uint8Array),i.prototype.getInt8=s(t.Int8Array),i.prototype.getUint16=s(t.Uint16Array),i.prototype.getInt16=s(t.Int16Array),i.prototype.getUint32=s(t.Uint32Array),i.prototype.getInt32=s(t.Int32Array),i.prototype.getFloat32=s(t.Float32Array),i.prototype.getFloat64=s(t.Float64Array),i.prototype.setUint8=a(t.Uint8Array),i.prototype.setInt8=a(t.Int8Array),i.prototype.setUint16=a(t.Uint16Array),i.prototype.setInt16=a(t.Int16Array),i.prototype.setUint32=a(t.Uint32Array),i.prototype.setInt32=a(t.Int32Array),i.prototype.setFloat32=a(t.Float32Array),i.prototype.setFloat64=a(t.Float64Array),t.DataView=t.DataView||i}()},function(e,t,r){"use strict";var n=r(0).child({component:"utilization"}),i={aws:r(193),pcf:r(194),azure:r(195),gcp:r(196),docker:r(98).getVendorInfo,kubernetes:r(197)},o=Object.keys(i);e.exports.getVendors=function(e,t){var r=0,s=null;o.forEach((function(a){i[a](e,(function(e,i){n.trace("Vendor %s finished.",a),i&&((s=s||Object.create(null))[a]=i),++r===o.length&&t(null,s)}))}))}},function(e,t,r){"use strict";var n=r(0).child({component:"aws-info"}),i=r(26),o=r(2);e.exports=function(e,t){if(!e.config.utilization||!e.config.utilization.detect_aws)return setImmediate(t,null);if(s)return setImmediate(t,null,s);i.request("http://169.254.169.254/2016-09-02/dynamic/instance-identity/document",e,(function(r,a){if(r)return t(r);try{a=JSON.parse(a)}catch(e){n.debug(e,"Failed to parse AWS metadata."),a=null}null==(s=i.getKeys(a,["availabilityZone","instanceId","instanceType"]))&&(n.debug("AWS metadata was invalid."),e.metrics.getOrCreateMetric(o.UTILIZATION.AWS_ERROR).incrementCallCount()),t(null,s)}))},e.exports.clearCache=function(){s=null};var s=null},function(e,t,r){"use strict";var n=r(0).child({component:"pcf-info"}),i=r(2),o=r(26);e.exports=function(e,t){if(!e.config.utilization||!e.config.utilization.detect_pcf)return setImmediate(t,null,null);for(var r={CF_INSTANCE_GUID:"cf_instance_guid",CF_INSTANCE_IP:"cf_instance_ip",MEMORY_LIMIT:"memory_limit"},s=Object.create(null),a=Object.keys(r),c=0;c<a.length;c++){var u=a[c],l=process.env[u];if(null==l)return n.trace("Could not find environment value for %s",u),setImmediate(t,null,null);if(!o.checkValueString(l))return n.trace("Invalid environment value for %s: %j",u,l),e.metrics.getOrCreateMetric(i.UTILIZATION.PCF_ERROR).incrementCallCount(),setImmediate(t,null,null);s[r[u]]=l}setImmediate(t,null,s)}},function(e,t,r){"use strict";var n=r(26),i=r(0).child({component:"azure-info"}),o=r(2);e.exports=function(e,t){if(!e.config.utilization||!e.config.utilization.detect_azure)return setImmediate(t,null,null);if(s)return setImmediate(t,null,s);n.request({host:"169.254.169.254",path:"/metadata/instance/compute?api-version=2017-03-01",headers:{Metadata:"true"}},e,(function(r,a){if(r)return t(r);try{a=JSON.parse(a)}catch(e){i.debug(e,"Failed to parse Azure metadata."),a=null}null==(s=n.getKeys(a,["location","name","vmId","vmSize"]))&&(i.debug("Azure metadata was invalid."),e.metrics.getOrCreateMetric(o.UTILIZATION.AZURE_ERROR).incrementCallCount()),t(null,s)}))},e.exports.clearCache=function(){s=null};var s=null},function(e,t,r){"use strict";var n,i=r(0).child({component:"gcp-info"}),o=r(26),s=r(2);e.exports=function(e,t){if(!e.config.utilization||!e.config.utilization.detect_gcp)return setImmediate(t,null);if(n)return setImmediate(t,null,n);o.request({host:"metadata.google.internal",path:"/computeMetadata/v1/instance/?recursive=true",headers:{"Metadata-Flavor":"Google"}},e,(function(r,a){if(r)return t(r);try{a=JSON.parse(a)}catch(e){i.debug(e,"Failed to parse GCP metadata."),a=null}var c=o.getKeys(a,["id","machineType","name","zone"]);null==c?(i.debug("GCP metadata was invalid."),e.metrics.getOrCreateMetric(s.UTILIZATION.GCP_ERROR).incrementCallCount()):(c.machineType=c.machineType.substr(c.machineType.lastIndexOf("/")+1),c.zone=c.zone.substr(c.zone.lastIndexOf("/")+1),n=c),t(null,c)}))},e.exports.clearCache=function(){n=null}},function(e,t,r){"use strict";const n=r(0).child({component:"kubernetes-info"});let i=null;e.exports=function(e,t){if(!e.config.utilization||!e.config.utilization.detect_kubernetes)return setImmediate(t,null,null);if(i)return setImmediate(t,null,i);if(!process.env.KUBERNETES_SERVICE_HOST)return n.debug("No Kubernetes service host found."),setImmediate(t,null,null);i={kubernetes_service_host:process.env.KUBERNETES_SERVICE_HOST},setImmediate(t,null,i)},e.exports.clearCache=function(){i=null}},function(e,t,r){"use strict";var n=r(0).child({component:"proc-cpuinfo"});e.exports=function(e){var t=["processor","physical id","cpu cores","core id"],r={logical:null,cores:null,packages:null},i=e.split("\n").map((function(e){return e.split(":").map((function(e){return e.replace(/\\r|\\t| {2,}/g,"").trim()}))}));if(0===i.filter((function(e){return 2===e.length&&-1!==t.indexOf(e[0])})).length)return n.debug("No applicable cpu attributes found"),r;var o=function(e){for(var t=[],r=Object.create(null),n=0;n<e.length;++n){var i=e[n][0],o=e[n][1];void 0!==r[i]&&(t.push(r),r=Object.create(null)),r[i]=o}return t.push(r),t}(i=function(e){for(var t,r=[],n=0;n<e.length;++n)2===e[n].length?(t=e[n],r.push(t)):t[1]+=e[n][0];return r}(i));(r=function(e){for(var t=[],r=[],n=0;n<e.length;n++){var i=e[n];i["physical id"]&&i["cpu cores"]&&-1===t.indexOf(i["physical id"])&&(t.push(i["physical id"]),r.push(i["cpu cores"]))}return{logical:e.length,cores:r.map((function(e){return parseInt(e,10)})).reduce((function(e,t){return e+t}),0),packages:t.length}}(o)).cores||(1===r.logical?(r.cores=1,r.packages=1):(r.cores=null,r.packages=null));return r}},function(e,t,r){"use strict";var n=r(0).child({component:"proc-meminfo"});e.exports=function(e){var t=parseInt(e.replace(/MemTotal:\s*(\d*)\skB/,"$1"),10);return t?t/1024:(n.debug("Unable to parse memory string:",e),null)}},function(e,t,r){"use strict";e.exports=function(e){var t;if(!e)return[];"string"==typeof e?t=s(e):e&&(t=a(e));return t.warnings.forEach((function(e){i.warn(e)})),t.labels},e.exports.fromString=s,e.exports.fromMap=a;var n=Function.prototype.call.bind(String.prototype.trim),i=r(0).child({component:"label-parser"}),o=r(13);function s(e){var t=Object.create(null);if(!e)return{labels:[],warnings:[]};for(var r,i=e.split(";").map(n);!i[i.length-1];)i.pop();for(;!i[0];)i.shift();for(var o=0,s=i.length;o<s;++o){if(2!==(r=i[o].split(":").map(n)).length)return c("Could not create a Label pair from "+r[o]);if(!r[0])return c("Label key can not be empty");if(!r[1])return c("Label value can not be empty");t[r[0]]=r[1]}return a(t);function c(t){return{labels:[],warnings:["Invalid Label String: "+e,t]}}}function a(e){var t=[],r=[];if(Object.keys(e).forEach((function(n){var i=c(n,255);if(!e[n]||"string"!=typeof e[n])return t.push("Label value for "+i+"should be a string with a length between 1 and 255 characters");var o=c(e[n],255);i!==n&&t.push("Label key too long: "+i),o!==e[n]&&t.push("Label value too long: "+o),r.push({label_type:i,label_value:o})})),r.length>64&&(t.push("Too many Labels, list truncated to 64"),r=r.slice(0,64)),t.length)try{t.unshift("Partially Invalid Label Setting: "+o(e))}catch(e){i.debug(e,"Failed to stringify labels")}return{labels:r,warnings:t}}function c(e,t){for(var r,n=0,i=0,o=e.length;i<o&&((r=e.charCodeAt(i))>=55296&&r<=56319&&i!==o&&(i+=1),++n!==t);++i);return e.slice(0,i+1)}},function(e,t,r){"use strict";var n=r(3),i=r(11),o=r(27),s=r(32),a=r(0).child({component:"remote_method"}),c=r(202),u=r(13),l=r(203),f=r(204),p=r(102);const d=r(33).isValidLength;function h(e,t,r){if(!e)throw new TypeError("Must include name of method to invoke on collector.");this.name=e,this._config=t,this._protocolVersion=17,this.endpoint=r}function g(e){return e?e instanceof Buffer?e.length:Buffer.byteLength(e,"utf8"):0}h.prototype.updateEndpoint=function(e){e&&(this.endpoint=e)},h.prototype.serialize=function(e,t){try{var r=u(e)}catch(e){return a.error(e,"Unable to serialize payload for method %s.",this.name),process.nextTick((function(){return t(e)}))}return t(null,r)},h.prototype.invoke=function(e,t,r){"function"==typeof t&&(r=t,t=null),e||(e=[]),a.trace("Invoking remote method %s",this.name),this.serialize(e,function(e,n){if(e)return r(e);this._post(n,t,r)}.bind(this))},h.prototype._post=function(e,t,r){var n=this,i={port:this.endpoint.port,host:this.endpoint.host,compressed:this._shouldCompress(e),path:this._path(),onError:r,onResponse:function(e){e.on("end",(function(){a.debug("Finished receiving data back from the collector for %s.",n.name)})),e.setEncoding("utf8"),e.pipe(new l(c(n.name,e,r)))},nrHeaders:t};if(a.traceEnabled()&&a.trace({data:e,compressed:i.compressed},"Calling %s on collector API",this.name),i.compressed)try{("gzip"===this._config.compressed_content_encoding?s.gzip:s.deflate)(e,(function(e,t){if(e)return a.warn(e,"Error compressing JSON for delivery. Not sending."),r(e);i.body=t,o()}))}catch(e){return a.warn(e,"Error compressing JSON for delivery. Not sending."),r(e)}else i.body=e,o();function o(){try{n._safeRequest(i)}catch(e){a.warn(e,"Failed to prepare request to collector method %s!",n.name),r(e)}}},h.prototype._safeRequest=function(e){if(!e)throw new Error("Must include options to make request!");if(!e.host)throw new Error("Must include collector hostname!");if(!e.port)throw new Error("Must include collector port!");if(!e.onError)throw new Error("Must include error handler!");if(!e.onResponse)throw new Error("Must include response handler!");if(!e.body)throw new Error("Must include body to send to collector!");if(!e.path)throw new Error("Must include URL to request!");var t=this._config.logging,r=this._config.audit_log;const n=this._config.max_payload_size_in_bytes;var i="trace";if(!d(e.body,n))throw a.warn("The payload size %d being sent to method %s exceeded the maximum size of %d",Buffer.byteLength(e.body,"utf8"),this.name,n),new Error("Maximum payload size exceeded");null!=t&&"trace"!==t.level&&r.enabled&&(0===r.endpoints.length||r.endpoints.indexOf(this.name)>-1)&&(i="info");const o=Buffer.isBuffer(e.body)?"Buffer "+e.body.length:e.body;a[i]({body:o},"Posting to %s://%s:%s%s","https",e.host,e.port,e.path),this._request(e)},h.prototype._request=function(e){var t,r={method:this._config.put_for_data_send?"PUT":"POST",setHost:!1,host:e.host,port:e.port,path:e.path,headers:this._headers(e),agent:f.keepAliveAgent(),__NR__connection:!0};if(!!(this._config.proxy||this._config.proxy_port||this._config.proxy_host))r.agent=f.proxyAgent(this._config),t=o.request(r);else{if(this._config.certificates&&this._config.certificates.length>0&&(r.ca=this._config.certificates,this._config.feature_flag.certificate_bundle)){a.debug("Adding custom certificate to the cert bundle.");const e=["Deprecation Warning: The certificate bundle included by New Relic will be ","disabled by default and then fully removed in later major versions. We recommend ","testing with the certificate_bundle feature flag set to `false` to determine if ","you will need to modify your environment or setup your own appropriate bundle. ","Example configuration: feature_flag: { certificate_bundle: false }."].join("");a.warnOnce("CERT_WARNING",e),r.ca=this._config.certificates.concat(p)}t=o.request(r)}t.on("error",e.onError),t.on("response",e.onResponse),t.end(e.body)},h.prototype._userAgent=function(){return n.format("NewRelic-NodeAgent/%s (nodejs %s %s-%s)",this._config.version,process.versions.node,process.platform,process.arch)},h.prototype._path=function(){var e={marshal_format:"json",protocol_version:this._protocolVersion,license_key:this._config.license_key,method:this.name};return this._config.run_id&&(e.run_id=this._config.run_id),i.format({pathname:"/agent_listener/invoke_raw_method",query:e})},h.prototype._headers=function(e){var t=this._userAgent(),r={Host:this.endpoint.host,"User-Agent":t,Connection:"Keep-Alive","Content-Length":g(e.body),"Content-Type":"application/json"};return e.compressed?r["CONTENT-ENCODING"]=this._config.compressed_content_encoding:r["CONTENT-ENCODING"]="identity",e.nrHeaders&&Object.assign(r,e.nrHeaders),r},h.prototype._shouldCompress=function(e){return e&&g(e)>65536},e.exports=h},function(e,t,r){"use strict";const n=r(0).child({component:"new_relic_response"});e.exports=function(e,t,r){if(!r)throw new TypeError("callback required!");return e?t?function(e,i){if(e)return setImmediate(()=>r(e));let o=null;if(i)try{const e=JSON.parse(i);n.trace(e,"Deserialized from collector:"),o=e.return_value||o}catch(e){n.warn(e,"Could not parse response from the collector: %s",i)}const s={status:t.statusCode,payload:o};setImmediate(()=>r(null,s))}:r(new TypeError("HTTP response required!")):r(new TypeError("collector method name required!"))}},function(e,t,r){"use strict";var n=r(9).EventEmitter;function i(e){n.call(this),this.callback=e,this.sink="",this.writable=!0;var t=this;this.on("error",(function(r){t.writable=!1,e(r)}))}r(3).inherits(i,n),i.prototype.write=function(e){return this.writable?(this.sink+=e.toString(),!0):(this.emit("error",new Error("Sink no longer writable!")),!1)},i.prototype.end=function(){this.writable=!1,this.callback(null,this.sink)},i.prototype.destroy=function(){this.emit("close"),this.writable=!1,delete this.sink},e.exports=i},function(e,t,r){"use strict";var n=r(11).parse,i=r(205),o=r(0).child({component:"http-agent"}),s=r(102);const a=r(27);let c=null,u=null;t.keepAliveAgent=function(e){return null!==c||((e=e||{}).keepAlive=!0,c=new a.Agent(e)),c},t.proxyAgent=function(e){if(null!==u)return u;var t=function(e){if(e.proxy)var t=n(e.proxy),r={protocol:t.protocol||"https:",host:t.hostname,port:t.port||80,auth:t.auth};else{var i=e.proxy_user;""!==e.proxy_pass&&(i+=":"+e.proxy_pass),r={protocol:"https:",host:e.proxy_host||"localhost",port:e.proxy_port||80,auth:i}}var a={proxy_url:r};if(e.certificates&&e.certificates.length>0&&(a.certificates=e.certificates,e.feature_flag.certificate_bundle)){o.info("Using a proxy with a special cert. This enables our cert bundle which, combined with some versions of node, exacerbates a leak in node core TLS.");const t=["Deprecation Warning: The certificate bundle included by New Relic will be ","disabled by default and then fully removed in later major versions. We recommend ","testing with the certificate_bundle feature flag set to `false` to determine if ","you will need to modify your environment or setup your own appropriate bundle. ","Example configuration: feature_flag: { certificate_bundle: false }."].join("");o.warnOnce("CERT_WARNING",t),a.certificates=e.certificates.concat(s)}return a}(e),r=t.proxy_url,a={host:r.host,port:r.port,protocol:r.protocol,secureEndpoint:e.ssl,auth:r.auth,ca:t.certificates,keepAlive:!0};return o.info({host:a.host,port:a.port,auth:!!a.auth,protocol:r.protocol},"using proxy"),u=new i(a),u}},function(e,t,r){var n=r(55),i=r(99),o=r(11),s=r(56),a=r(206),c=r(3).inherits,u=r(208)("https-proxy-agent");function l(e){if(!(this instanceof l))return new l(e);if("string"==typeof e&&(e=o.parse(e)),!e)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");u("creating new HttpsProxyAgent instance: %o",e),a.call(this,e);var t=Object.assign({},e);this.secureProxy=!!t.protocol&&/^https:?$/i.test(t.protocol),t.host=t.hostname||t.host,t.port=+t.port||(this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in t)&&(t.ALPNProtocols=["http 1.1"]),t.host&&t.path&&(delete t.path,delete t.pathname),this.proxy=t}function f(e){e.resume()}e.exports=l,c(l,a),l.prototype.callback=function(e,t,r){var o,a=this.proxy;o=this.secureProxy?i.connect(a):n.connect(a);var c=[],l=0;function p(){var s=o.read();s?function(s){c.push(s),l+=s.length;var a=Buffer.concat(c,l),h=a.toString("ascii");if(!~h.indexOf("\r\n\r\n"))return u("have not received end of HTTP headers yet..."),void p();var g=h.substring(0,h.indexOf("\r\n")),m=+g.split(" ")[1];if(u("got proxy server response: %o",g),200==m){var v=o;c=a=null,t.secureEndpoint&&(u("upgrading proxy-connected socket to TLS connection: %o",t.host),t.socket=o,t.servername=t.servername||t.host,t.host=null,t.hostname=null,t.port=null,v=i.connect(t)),d(),e.once("socket",f),r(null,v)}else d(),o.destroy(),(o=new n.Socket).readable=!0,c=a,e.once("socket",y),r(null,o)}(s):o.once("readable",p)}function d(){o.removeListener("end",g),o.removeListener("error",m),o.removeListener("close",h),o.removeListener("readable",p)}function h(e){u("onclose had error %o",e)}function g(){u("onend")}function m(e){d(),r(e)}function y(e){u("replaying proxy buffer for failed request"),s(e.listenerCount("data")>0),e.push(c),c=null}o.on("error",m),o.on("close",h),o.on("end",g),p();var v="CONNECT "+(t.host+":"+t.port)+" HTTP/1.1\r\n",b=Object.assign({},a.headers);a.auth&&(b["Proxy-Authorization"]="Basic "+Buffer.from(a.auth).toString("base64"));var E,w,_=t.host;E=t.port,w=t.secureEndpoint,Boolean(!w&&80===E||w&&443===E)||(_+=":"+t.port),b.Host=_,b.Connection="close",Object.keys(b).forEach((function(e){v+=e+": "+b[e]+"\r\n"})),o.write(v+"\r\n")}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const i=r(9),o=n(r(207));function s(){const{stack:e}=new Error;return"string"==typeof e&&e.split("\n").some(e=>-1!==e.indexOf("(https.js:"))}function a(e,t){return new a.Agent(e,t)}!function(e){class t extends i.EventEmitter{constructor(e,t){super(),this.promisifiedCallback=void 0;let r=t;"function"==typeof e?this.callback=e:e&&(r=e),this.timeout=null,r&&"number"==typeof r.timeout&&(this.timeout=r.timeout),this.options=r||{},this.maxFreeSockets=1,this.maxSockets=1,this.sockets=[],this.requests=[]}get defaultPort(){return"number"==typeof this.explicitDefaultPort?this.explicitDefaultPort:s()?443:80}set defaultPort(e){this.explicitDefaultPort=e}get protocol(){return"string"==typeof this.explicitProtocol?this.explicitProtocol:s()?"https:":"http:"}set protocol(e){this.explicitProtocol=e}callback(e,t,r){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(e,t){const r=Object.assign({},t);"boolean"!=typeof r.secureEndpoint&&(r.secureEndpoint=s()),null==r.host&&(r.host="localhost"),null==r.port&&(r.port=r.secureEndpoint?443:80);const n=Object.assign(Object.assign({},this.options),r);n.host&&n.path&&delete n.path,delete n.agent,delete n.hostname,delete n._defaultAgent,delete n.defaultPort,delete n.createConnection,e._last=!0,e.shouldKeepAlive=!1;let i=!1,a=null;const c=this.timeout,u=this.freeSocket;function l(t){e._hadError||(e.emit("error",t),e._hadError=!0)}function f(e){i||(null!==a&&(clearTimeout(a),a=null),l(e))}if("function"==typeof this.callback){this.promisifiedCallback||(this.callback.length>=3?this.promisifiedCallback=o.default(this.callback):this.promisifiedCallback=this.callback),"number"==typeof c&&c>0&&(a=setTimeout((function(){a=null,i=!0;const e=new Error(`A "socket" was not created for HTTP request before ${c}ms`);e.code="ETIMEOUT",l(e)}),c)),"port"in n&&"number"!=typeof n.port&&(n.port=Number(n.port));try{Promise.resolve(this.promisifiedCallback(e,n)).then((function(t){let r;if(i)return;if(null!=a&&(clearTimeout(a),a=null),o=t,Boolean(o)&&"function"==typeof o.addRequest||function(e){return Boolean(e)&&"function"==typeof e.addRequest}(t))return void t.addRequest(e,n);var o;if(t)return r=t,r.on("free",(function(){u(r,n)})),void e.onSocket(r);l(new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``))}),f)}catch(e){Promise.reject(e).catch(f)}}else l(new Error("`callback` is not defined"))}freeSocket(e,t){e.destroy()}destroy(){}}e.Agent=t}(a||(a={})),a.prototype=a.Agent.prototype,e.exports=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r){return new Promise((n,i)=>{e.call(this,t,r,(e,t)=>{e?i(e):n(t)})})}}},function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(209):e.exports=r(211)},function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(100)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var r=1e3,n=6e4,i=60*n,o=24*i;function s(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return s(e,t,o,"day");if(t>=i)return s(e,t,i,"hour");if(t>=n)return s(e,t,n,"minute");if(t>=r)return s(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){const n=r(42),i=r(3);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${n} [0m`;r[0]=o+r[0].split("\n").join("\n"+o),r.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(101);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(100)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},function(e,t,r){"use strict";e.exports=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return-1!==n&&(-1===i||n<i)}},function(e,t,r){"use strict";const n=r(47),i=r(0).child({component:"serverless_collector"}),o=r(32),s=r(30),a=r(13),c=r(8).resolve("/tmp","newrelic-telemetry");e.exports=class{constructor(e,t){this._agent=e,this.enabled=!0,this.metadata={arn:null,function_version:null,execution_environment:process.env.AWS_EXECUTION_ENV,protocol_version:16,agent_version:e.version},this.payload={},this.pipePath=t||process.env.NEWRELIC_PIPE_PATH||c}setLambdaArn(e){this.metadata.arn=e}setLambdaFunctionVersion(e){this.metadata.function_version=e}isConnected(){return this.enabled}shutdown(e){i.trace("Disabling serverless collector."),this.enabled=!1,setImmediate(e,null,n.success(null))}restart(e){setImmediate(e,null,n.success(null))}metric_data(e,t){this.enabled&&(this.payload.metric_data=e),t(null,{retainData:!1})}error_data(e,t){this.enabled&&(this.payload.error_data=e),t(null,{retainData:!1})}error_event_data(e,t){this.enabled&&(this.payload.error_event_data=e),t(null,{retainData:!1})}transaction_sample_data(e,t){this.enabled&&(this.payload.transaction_sample_data=e),t(null,{retainData:!1})}analytic_event_data(e,t){this.enabled&&(this.payload.analytic_event_data=e),t(null,{retainData:!1})}custom_event_data(e,t){this.enabled&&(this.payload.custom_event_data=e),t(null,{retainData:!1})}sql_trace_data(e,t){this.enabled&&(this.payload.sql_trace_data=e),t(null,{retainData:!1})}span_event_data(e,t){this.enabled&&(this.payload.span_event_data=e),t(null,{retainData:!1})}flushPayload(e){if(!this.enabled)return e&&setImmediate(e);const t=JSON.stringify({metadata:this.metadata,data:this.payload}),r=this;o.gzip(t,(function(t,n){if(r.payload={},t)return i.warn("Encountered an error while attempting to compress payload",t),e&&e(t);r._doFlush(n.toString("base64")),e&&e()}))}flushPayloadSync(){if(!this.enabled)return;const e=a({metadata:this.metadata,data:this.payload});try{this._doFlush(o.gzipSync(e).toString("base64"),!0)}catch(e){i.warn("Encountered an error while attempting to compress payload",e)}finally{this.payload=Object.create(null)}}flushToPipeSync(e){try{return s.writeFileSync(this.pipePath,e),!0}catch(e){return i.warn("Error attempting to write to pipe, falling back to stdout",e),!1}}flushToStdOut(e,t,r=!1){if(r){const r=process.stdout;t>65e3&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),s.writeSync(process.stdout.fd,e)}else process.stdout.write(e)}_doFlush(e,t=!1){const r=JSON.stringify([1,"NR_LAMBDA_MONITORING",e])+"\n";s.existsSync(this.pipePath)&&this.flushToPipeSync(r)||this.flushToStdOut(r,e.length,t)}}},function(e,t,r){"use strict";const n=r(0).child({component:"custom-event-aggregator"}),i=r(43),o=r(2);e.exports=class extends i{constructor(e,t,r){(e=e||{}).method=e.method||"custom_event_data",e.metricNames=o.CUSTOM_EVENTS,super(e,t,r)}_toPayloadSync(){const e=this.events;if(0===e.length)return void n.debug("No custom events to send.");const t=e.toArray();return[this.runId,t]}}},function(e,t,r){"use strict";var n=r(216).FibonacciHeap;function i(e){this.limit=null==e?10:e,this.seen=0,this._data=new n,Object.defineProperty(this,"length",{get:function(){return this._data._nodeCount}})}i.prototype.overflow=function(){var e=this.seen-this.limit;return e>=0?e:0},i.prototype.getMinimumPriority=function(){return this.length<this.limit?0:this._data.findMinimum().key},i.prototype.add=function(e,t){return this.seen++,!(this.limit<=0)&&(t=t||Math.random(),this.length===this.limit?this._replace(e,t):(this._data.insert(t,e),!0))},i.prototype._replace=function(e,t){return t>this._data.findMinimum().key&&(this._data.insert(t,e),this._data.extractMinimum(),!0)},i.prototype.getRawEvents=function(){var e=[],t=this._data.findMinimum();return t&&function e(t,r){var n=t;do{r.push({value:n.value,priority:n.key}),n.child&&e(n.child,r),n=n.next}while(n!==t)}(t,e),e},i.prototype.toArray=function(){var e=[],t=this._data.findMinimum();return t&&function e(t,r){var n=t;do{r.push(n.value),n.child&&e(n.child,r),n=n.next}while(n!==t)}(t,e),e},i.prototype.setLimit=function(e){for(this.limit=e;this.length>e;)this._data.extractMinimum()},i.prototype.merge=function(e){if(e&&e.length)if(e instanceof i)for(;e.length;){var t=e._data.extractMinimum();this.add(t.value,t.key)}else for(var r=0;r<e.length;++r)this.add(e[r].value,e[r].priority)},e.exports=i},function(e,t,r){"use strict";
/**
 * @license
 * Copyright Daniel Imms <http://www.growingwiththeweb.com>
 * Released under MIT license. See LICENSE in the project root for details.
 */Object.defineProperty(t,"__esModule",{value:!0});var n=r(217),i=r(218),o=function(){function e(e){this._minNode=null,this._nodeCount=0,this._compare=e||this._defaultCompare}return e.prototype.clear=function(){this._minNode=null,this._nodeCount=0},e.prototype.decreaseKey=function(e,t){if(!e)throw new Error("Cannot decrease key of non-existent node");if(this._compare({key:t},{key:e.key})>0)throw new Error("New key is larger than old key");e.key=t;var r=e.parent;r&&this._compare(e,r)<0&&(this._cut(e,r,this._minNode),this._cascadingCut(r,this._minNode)),this._compare(e,this._minNode)<0&&(this._minNode=e)},e.prototype.delete=function(e){var t=e.parent;t&&(this._cut(e,t,this._minNode),this._cascadingCut(t,this._minNode)),this._minNode=e,this.extractMinimum()},e.prototype.extractMinimum=function(){var e=this._minNode;if(e){if(e.child){var t=e.child;do{t.parent=null,t=t.next}while(t!==e.child)}var r=null;e.next!==e&&(r=e.next),this._removeNodeFromList(e),this._nodeCount--,this._minNode=this._mergeLists(r,e.child),this._minNode&&(this._minNode=this._consolidate(this._minNode))}return e},e.prototype.findMinimum=function(){return this._minNode},e.prototype.insert=function(e,t){var r=new n.Node(e,t);return this._minNode=this._mergeLists(this._minNode,r),this._nodeCount++,r},e.prototype.isEmpty=function(){return null===this._minNode},e.prototype.size=function(){return null===this._minNode?0:this._getNodeListSize(this._minNode)},e.prototype.union=function(e){this._minNode=this._mergeLists(this._minNode,e._minNode),this._nodeCount+=e._nodeCount},e.prototype._defaultCompare=function(e,t){return e.key>t.key?1:e.key<t.key?-1:0},e.prototype._cut=function(e,t,r){e.parent=null,t.degree--,e.next===e?t.child=null:t.child=e.next,this._removeNodeFromList(e);var n=this._mergeLists(r,e);return e.isMarked=!1,n},e.prototype._cascadingCut=function(e,t){var r=e.parent;return r&&(e.isMarked?(t=this._cut(e,r,t),t=this._cascadingCut(r,t)):e.isMarked=!0),t},e.prototype._consolidate=function(e){for(var t=[],r=new i.NodeListIterator(e);r.hasNext();){for(var n=r.next(),o=t[n.degree];o;){if(this._compare(n,o)>0){var s=n;n=o,o=s}this._linkHeaps(o,n),t[n.degree]=null,n.degree++,o=t[n.degree]}t[n.degree]=n}for(var a=null,c=0;c<t.length;c++){var u=t[c];u&&(u.next=u,u.prev=u,a=this._mergeLists(a,u))}return a},e.prototype._removeNodeFromList=function(e){var t=e.prev,r=e.next;t.next=r,r.prev=t,e.next=e,e.prev=e},e.prototype._linkHeaps=function(e,t){this._removeNodeFromList(e),t.child=this._mergeLists(e,t.child),e.parent=t,e.isMarked=!1},e.prototype._mergeLists=function(e,t){if(!e)return t||null;if(!t)return e;var r=e.next;return e.next=t.next,e.next.prev=e,t.next=r,t.next.prev=t,this._compare(e,t)<0?e:t},e.prototype._getNodeListSize=function(e){var t=0,r=e;do{t++,r.child&&(t+=this._getNodeListSize(r.child)),r=r.next}while(r!==e);return t},e}();t.FibonacciHeap=o},function(e,t,r){"use strict";
/**
 * @license
 * Copyright Daniel Imms <http://www.growingwiththeweb.com>
 * Released under MIT license. See LICENSE in the project root for details.
 */Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){this.parent=null,this.child=null,this.degree=0,this.isMarked=!1,this.key=e,this.value=t,this.prev=this,this.next=this};t.Node=n},function(e,t,r){"use strict";
/**
 * @license
 * Copyright Daniel Imms <http://www.growingwiththeweb.com>
 * Released under MIT license. See LICENSE in the project root for details.
 */Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._index=-1,this._items=[];var t=e;do{this._items.push(t),t=t.next}while(e!==t)}return e.prototype.hasNext=function(){return this._index<this._items.length-1},e.prototype.next=function(){return this._items[++this._index]},e}();t.NodeListIterator=n},function(e,t,r){"use strict";const n=r(103),i=r(0).child({component:"error_tracer"}),o=r(19),s=r(103).Exception,a=r(50),c=n.createError,u=n.createEvent,l=r(2);e.exports=class{constructor(e,t,r,n){this.config=e,this.traceAggregator=t,this.eventAggregator=r,this.metrics=n,this.seenObjectsByTransaction=Object.create(null),this.seenStringsByTransaction=Object.create(null),this.traceAggregator.on("starting error_data data send.",this._onSendErrorTrace.bind(this))}_onSendErrorTrace(){this._clearSeenErrors()}start(){const e=this.config.error_collector&&this.config.error_collector.enabled;e&&(e&&this.config.collect_errors&&this.traceAggregator.start(),this.config.error_collector.capture_events&&this.eventAggregator.start())}stop(){this.traceAggregator.stop(),this.eventAggregator.stop()}_haveSeen(e,t){const r=e?e.id:"Unknown";if("object"==typeof t){this.seenObjectsByTransaction[r]||(this.seenObjectsByTransaction[r]=new WeakSet);var n=this.seenObjectsByTransaction[r];if(n.has(t))return!0;n.add(t)}else{this.seenStringsByTransaction[r]||(this.seenStringsByTransaction[r]=Object.create(null));var i=this.seenStringsByTransaction[r];if(i[t])return!0;i[t]=!0}return!1}onTransactionFinished(e){if(!e)throw new Error("Error collector got a blank transaction.");if(e.ignore)return;let t=0,r=0;if(e.userErrors.length)for(let r=0;r<e.userErrors.length;r++){const n=e.userErrors[r];this.collect(e,n)&&++t}const n=o.isError(this.config,e.statusCode),i=o.isIgnoredError(this.config,e.statusCode),s=o.isExpectedError(this.config,e.statusCode);if(e.exceptions.length&&!i)for(let n=0;n<e.exceptions.length;n++){const i=e.exceptions[n];this.collect(e,i)&&(++t,(s||a.isExpectedException(e,i.error,this.config,o))&&++r)}else n&&this.collect(e)&&(++t,s&&++r);const c=t-r;c>0&&this.metrics.getOrCreateMetric(l.ERRORS.PREFIX+e.getFullName()).incrementCallCount(c)}add(e,t,r){if(!t)return;if(!this._shouldCollectErrors())return void i.trace("error_collector.enabled is false, dropping application error.");if(a.shouldIgnoreError(e,t,this.config))return void i.trace("Ignoring error");const n=Date.now(),o=new s({error:t,timestamp:n,customAttributes:r});e?e.addException(o):this.collect(e,o)}addUserError(e,t,r){if(!t)return;if(!this._shouldCollectErrors())return void i.trace("error_collector.enabled is false, dropping user reported error.");const n=Date.now(),o=new s({error:t,timestamp:n,customAttributes:r});e?e.addUserError(o):this.collect(e,o)}collect(e,t){if(t||(t=new s({})),t.error){if(this._haveSeen(e,t.error))return!1;const r=t.error;"string"==typeof r||r.message||r.stack||(i.trace(r,"Got error that is not an instance of Error or string."),t.error=null)}if(!t.error&&(!e||!e.statusCode||e.error))return!1;t.error&&i.trace(t.error,"Got exception to trace:");const r=c(e,t,this.config);if(!0===r[4].intrinsics["error.expected"]?this.metrics.getOrCreateMetric(l.ERRORS.EXPECTED).incrementCallCount():(this.metrics.getOrCreateMetric(l.ERRORS.ALL).incrementCallCount(),e&&(e.isWeb()?this.metrics.getOrCreateMetric(l.ERRORS.WEB).incrementCallCount():this.metrics.getOrCreateMetric(l.ERRORS.OTHER).incrementCallCount())),this.config.collect_errors&&this.traceAggregator.add(r),!0===this.config.error_collector.capture_events){const n=e&&e.priority||Math.random(),i=u(e,r,t.timestamp,this.config);this.eventAggregator.add(i,n)}return!0}clearAll(){this.traceAggregator.clear(),this.eventAggregator.clear(),this._clearSeenErrors()}_clearSeenErrors(){this.seenStringsByTransaction=Object.create(null),this.seenObjectsByTransaction=Object.create(null)}_shouldCollectErrors(){const e=this.config.error_collector&&this.config.error_collector.enabled,t=this.config.collect_errors||this.config.error_collector&&this.config.error_collector.capture_events;return e&&t}reconfigure(e){this.config=e,this.traceAggregator.reconfigure(e),this.eventAggregator.reconfigure(e);this.config.error_collector&&this.config.error_collector.enabled?(!1===this.config.collect_errors&&this.traceAggregator.stop(),!1===this.config.error_collector.capture_events&&this.eventAggregator.stop()):this.stop()}}},function(e,t,r){"use strict";const n=r(0).child({component:"error_tracer"}),i=r(104);e.exports=class extends i{constructor(e,t){(e=e||{}).method=e.method||"error_data",super(e,t),this.errors=[]}add(e){this.errors.length<this.limit?(n.debug(e,"Error to be sent to collector."),this.errors.push(e)):n.debug("Already have %d errors to send to collector, not keeping.",this.limit)}_toPayloadSync(){if(this.errors.length>0)return[this.runId,this.errors];n.debug("No error traces to send.")}_getMergeData(){return this.errors}_merge(e){if(!e)return;const t=Math.min(e.length,this.limit-this.errors.length);n.warn("Merging %s (of %s) errors for next delivery.",t,e.length);for(var r=0;r<t;r++)this.errors.push(e[r])}clear(){this.errors=[]}}},function(e,t,r){"use strict";const n=r(0).child({component:"error_tracer"}),i=r(43),o=r(2);e.exports=class extends i{constructor(e,t,r){(e=e||{}).method=e.method||"error_event_data",e.metricNames=o.TRANSACTION_ERROR,super(e,t,r)}_toPayloadSync(){const e=this.events;if(0===e.length)return void n.debug("No error events to send.");const t={reservoir_size:e.limit,events_seen:e.seen},r=e.toArray();return[this.runId,t,r]}}},function(e,t,r){"use strict";var n=r(0).child({component:"mapper"});function i(e){this.unscoped=Object.create(null),this.scoped=Object.create(null),this.length=0,this.load(e)}i.prototype.load=function(e){if(e&&e.length){for(var t=0;t<e.length;t++){var r,i=e[t][0],o=i.scope,s=i.name,a=e[t][1];o?(this.scoped[o]||(this.scoped[o]=Object.create(null)),r=this.scoped[o]):r=this.unscoped,r[s]||this.length++,r[s]=a,n.trace("Metric spec %s has been mapped to ID %s.",i,a)}n.debug("Parsed %d metric ids (%d total).",e.length,this.length)}else n.debug("No new metric mappings from server.")},i.prototype.map=function(e,t){return t?this.scoped[t]&&this.scoped[t][e]?this.scoped[t][e]:{name:e,scope:t}:this.unscoped[e]?this.unscoped[e]:{name:e}},e.exports=i},function(e,t,r){"use strict";var n=r(9).EventEmitter,i=r(3),o=r(0).child({component:"metric_normalizer"}),s=r(224),a=r(225),c=r(2);function u(e,t,r){return e?c.NORMALIZED+e:r.enforce_backstop?c.NORMALIZED+"/*":c.URI+t}function l(e,t){return e||t}function f(e,t){if(!e)throw new Error("normalizer must be created with configuration.");if(!t)throw new Error("normalizer must be created with a type.");n.call(this),this.config=e,this.type=t,this.formatter="URL"===t?u:l,this.rules=[]}i.inherits(f,n),f.prototype.load=function(e){e&&(this.rules=[],o.debug("Received %s %s normalization rule(s) from the server",e.length,this.type),e.forEach((function(e){var t=new a(e);this.rules.find(s.bind(null,t))||(this.rules.push(t),o.trace("Loaded %s normalization rule: %s",this.type,t))}),this),this.rules.sort((function(e,t){return e.precedence-t.precedence})),o.debug("Loaded %s %s normalization rule(s).",this.rules.length,this.type))},f.prototype.loadFromConfig=function(){var e=this.config.rules;e&&e.name&&e.name.length>0&&e.name.forEach((function(e){if(!e.pattern)return o.error({rule:e},"Simple naming rules require a pattern.");if(!e.name)return o.error({rule:e},"Simple naming rules require a replacement name.");var t=e.precedence,r=e.terminate_chain,n={match_expression:e.pattern,eval_order:"number"==typeof t?t:500,terminate_chain:"boolean"!=typeof r||r,replace_all:e.replace_all,replacement:e.name,ignore:!1},i=this.config.feature_flag.reverse_naming_rules,s=this.rules.findIndex((function(e){return i?e.precedence>=n.eval_order:e.precedence>n.eval_order}));-1===s?this.rules.push(new a(n)):this.rules.splice(s,0,new a(n))}),this),e&&e.ignore&&e.ignore.length>0&&e.ignore.forEach((function(e){this.addSimple(e)}),this)},f.prototype.addSimple=function(e,t){if(!e)return o.error("Simple naming rules require a pattern.");var r={match_expression:e,eval_order:0,terminate_chain:!0,replace_all:!1,replacement:null,ignore:!1};t?r.replacement=t:r.ignore=!0,this.rules.unshift(new a(r))},f.prototype.normalize=function(e){for(var t,r=e,n=this.rules.length,i=!1,s=!1,a=0;a<n;a++){var c=this.rules[a],u=c.apply(r);if(c.matched&&(c.ignore?s=!0:(i=!0,t=u,this.emit("appliedRule",c,t,r),o.trace({rule:c,type:this.type},"Normalized %s to %s.",r,t),r=t),c.isTerminal)){o.trace({rule:c},"Terminating normalization.");break}}return{matched:i,ignore:s,value:this.formatter(t,e,this.config)}},e.exports=f},function(e,t,r){"use strict";function n(e){return"[object Arguments]"===Object.prototype.toString.call(e)}function i(e){var t,r=e.length,n=[];for(t=0;t<r;t++)n[t]=e[t];return n}e.exports=function(e,t){return function e(t,r,o,s){if(t===r)return!0;if("object"!=typeof t||"object"!=typeof r)return!1;if(null===t||null===r)return!1;if(Buffer.isBuffer(t)&&Buffer.isBuffer(r)){if(t.length!==r.length)return!1;for(var a=0;a<t.length;a++)if(t[a]!==r[a])return!1;return!0}if(t instanceof Date&&r instanceof Date)return t.getTime()===r.getTime();if(t instanceof RegExp&&r instanceof RegExp)return t.source===r.source&&t.global===r.global&&t.multiline===r.multiline&&t.lastIndex===r.lastIndex&&t.ignoreCase===r.ignoreCase;if(n(t)||n(r))return!(!n(t)||!n(r))&&e(i(t),i(r),o,s);if(t.constructor!==r.constructor)return!1;var c=Object.keys(t),u=Object.keys(r);if(c.length!==u.length)return!1;for(var l,f=o.length;f--;)if(o[f]===t)return s[f]===r;o.push(t),s.push(r),c.sort(),u.sort();for(var p=c.length-1;p>=0;p--)if(c[p]!==u[p])return!1;for(var d=c.length-1;d>=0;d--)if(!e(t[l=c[d]],r[l],o,s))return!1;return o.pop(),s.pop(),!0}(e,t,[],[])}},function(e,t,r){"use strict";var n=r(0).child({component:"normalizer_rule"});function i(e){e||(n.debug("Received incompletely specified metric normalization rule from collector."),e=Object.create(null)),this.eachSegment=e.each_segment||!1,this.precedence=e.eval_order||0,this.isTerminal=e.terminate_chain||!1,this.replacement=(e.replacement||"$0").replace(/\\/g,"$"),this.replaceAll=e.replace_all||!1,this.ignore=e.ignore||!1,this.matched=!1;var t="i";if(this.replaceAll&&(t+="g"),e.match_expression instanceof RegExp)this.pattern=function(e,t){for(var r=!1,n=e.flags,i=0;i<t.length;++i)-1===n.indexOf(t[i])&&(r=!0,n+=t[i]);return r?new RegExp(e.source,n):e}(e.match_expression,t);else try{this.pattern=new RegExp(e.match_expression||"^$",t)}catch(e){n.warn(e,"Problem compiling metric normalization rule pattern."),this.pattern=/^$/}}i.prototype.getSegments=function(e){return this.eachSegment?e.split("/"):[e]},i.prototype.matches=function(e){for(var t=this.getSegments(e),r=0;r<t.length;++r)if(this.pattern.test(t[r]))return!0;return!1},i.prototype.apply=function(e){if(this.ignore)return(this.matched=this.matches(e))?null:e;this.matched=!1;var t=this.getSegments(e).map((function(e){return this.pattern.lastIndex=0,e&&this.pattern.test(e)?(this.matched=!0,e.replace(this.pattern,this.replacement)):e}),this).join("/");return"/"===e[0]&&"/"!==t[0]?"/"+t:t},i.prototype.toJSON=function(){return{eachSegment:this.eachSegment,precedence:this.precedence,isTerminal:this.isTerminal,replacement:this.replacement,replaceAll:this.replaceAll,ignore:this.ignore,pattern:this.pattern.source}},e.exports=i},function(e,t,r){"use strict";const n=r(0).child({component:"metric-aggregator"}),i=r(36),o=r(90);e.exports=class extends i{constructor(e,t){!function(e){if(!e)throw new Error("Metric aggregator must be created with options.");if(null==e.apdexT||""===e.apdexT)throw new Error("Metric aggregator must be created with apdexT");if(!e.mapper)throw new Error("Metric aggregator must be created with a mapper");if(!e.normalizer)throw new Error("Metric aggregator must be created with a name normalizer")}(e),e.method=e.method||"metric_data",super(e,t),this._apdexT=e.apdexT,this._mapper=e.mapper,this._normalizer=e.normalizer,this._metrics=new o(this._apdexT,this._mapper,this._normalizer)}get empty(){return this._metrics.empty}get started(){return this._metrics.started}_toPayloadSync(){if(this._metrics.empty)return void n.debug("No metrics to send.");const e=.001*this._metrics.started,t=.001*Date.now();return[this.runId,e,t,this._metrics.toJSON()]}_getMergeData(){return this._metrics}_merge(e){e&&this.merge(e,!0)}merge(e,t){this._metrics.merge(e,t)}clear(){this._metrics=new o(this._apdexT,this._mapper,this._normalizer)}getOrCreateMetric(e,t){return this._metrics.getOrCreateMetric(e,t)}measureMilliseconds(e,t,r,n){return this._metrics.measureMilliseconds(e,t,r,n)}measureBytes(e,t){return this._metrics.measureBytes(e,t)}getMetric(e,t){return this._metrics.getMetric(e,t)}getOrCreateApdexMetric(e,t,r){return this._metrics.getOrCreateApdexMetric(e,t,r)}reconfigure(e){super.reconfigure(e),this._apdexT=e.apdex_t,this._metrics.apdexT=this._apdexT}}},function(e,t,r){"use strict";const n=r(34),i=r(0).child({component:"query_tracer"}),o=r(36),s=r(228),a=r(230);e.exports=class extends o{constructor(e,t){if((e=e||{}).method=e.method||"sql_trace_data",!e.config)throw new Error("config required by query trace aggregator");super(e,t);const r=e.config;this.samples=new Map,this.config=r}removeShortest(){let e=null;for(let t of this.samples.values()){const r=t.trace;(!e||e.duration>r.duration)&&(e=r)}this.samples.delete(e.normalized)}_merge(e){for(let t of e.values()){let e=this.samples.get(t.trace.normalized);e?e.merge(t):this.samples.set(t.trace.normalized,t)}}add(e,t,r,n){const o=this.config.transaction_tracer;var c;switch(o.record_sql){case"raw":c=new s(e,t,r,n),i.trace("recording raw sql"),e.addAttribute("sql",c.query,!0);break;case"obfuscated":c=new s(e,t,r,n),i.trace("recording obfuscated sql"),e.addAttribute("sql_obfuscated",c.obfuscated,!0);break;default:return void i.trace("not recording sql statement, transaction_tracer.record_sql was set to %s",o.record_sql)}if(e.getDurationInMillis()<o.explain_threshold)return;if(c=c||new s(e,t,r,n),e.addAttribute("backtrace",c.trace),!this.config.slow_sql.enabled)return;const u=this.samples.get(c.normalized);if(u)return u.aggregate(c);this.samples.set(c.normalized,new a(this,c)),this.config.serverless_mode.enabled||this.samples.size>this.config.slow_sql.max_samples&&this.removeShortest()}_toPayload(e){if(0===this.samples.size)return i.debug("No query traces to send."),e(null,null);const t=this.runId;return this.prepareJSON((r,n)=>e(r,[t,n]))}_toPayloadSync(){if(this.samples.size>0)return[this.runId,this.prepareJSONSync()];i.debug("No query traces to send.")}_getMergeData(){return this.samples}clear(){this.samples=new Map}prepareJSON(e){n.map(this.samples.values(),(e,t)=>e.prepareJSON(t),e)}prepareJSONSync(){return Array.from(this.samples.values()).map(e=>e.prepareJSONSync())}}},function(e,t,r){"use strict";(function(t){const n=r(229),i=r(41),o=r(8).resolve(t,"..");function s(e){return-1===e.indexOf(o)}e.exports=function(e,t,r,o){var a;this.obfuscated=n(r,t),this.normalized=this.obfuscated.replace(/\?\s*,\s*|\s*/g,""),this.id=(a=this.normalized,parseInt(i.createHash("sha1").update(a).digest("hex").slice(-15),16)),this.segment=e,this.query=r,this.metric=e.name,this.trace=function(e){return e?e.split("\n").slice(1).filter(s).join("\n"):""}(o),this.duration=e.getDurationInMillis()}}).call(this,"/")},function(e,t,r){"use strict";e.exports=f;var n=/'(?:''|[^'])*?(?:\\'.*|'(?!'))/,i=/(?:#|--).*?(?=\r|\n|$)/,o=/\/\*(?:[^/]|\/[^*])*?(?:\*\/|\/\*.*)/,s=/\{?(?:[0-9a-f]\-*){32}\}?/,a=/0x[0-9a-f]+/,c=/true|false|null/,u=/\b-?(?:[0-9]+\.)?[0-9]+([eE][+-]?[0-9]+)?/,l=f.dialects=Object.create(null);function f(e,t){var r=l[t];r||(r=l.default);for(var n=e,i=0,o=r.length;i<o;++i)n=r[i](n);return n}function p(e,t){return new RegExp(e.map(d).join("|"),t)}function d(e){return e.toString().slice(1,-1)}function h(e){function t(t){return t.replace(e,"?")}return t.regex=e,t}function g(e){function t(t){return e.test(t)?"?":t}return t.regex=e,t}l.mysql=[h(p([/"(?:[^"]|"")*?(?:\\".*|"(?!"))/,n,i,o,a,c,u],"gi")),g(/'|"|\/\*|\*\//)],l.postgres=[h(p([/(\$(?!\d)[^$]*?\$).*?(?:\1|$)/,n,i,o,s,c,u],"gi")),g(/'|\/\*|\*\/|(?:\$(?!\?))/)],l.cassandra=[h(p([n,i,o,s,a,c,u],"gi")),g(/'|\/\*|\*\//)],l.oracle=[h(p([/q'\[.*?(?:\]'|$)|q'\{.*?(?:\}'|$)|q'\<.*?(?:\>'|$)|q'\(.*?(?:\)'|$)/,n,i,o,u],"gi")),g(/'|\/\*|\*\//)],l.default=l.mysql},function(e,t,r){"use strict";var n=r(92),i=r(91);function o(e,t){i.call(this),this.tracer=e,this.trace=t,this.aggregate(t)}function s(e,t,r,n){return[r.getFullName(),r.url||"<unknown>",t.id,a(e.tracer.config,t),t.metric,e.callCount,e.total,e.min,e.max,n]}function a(e,t){switch(e.transaction_tracer.record_sql){case"raw":return t.query;case"obfuscated":return t.obfuscated;default:return"?"}}r(3).inherits(o,i),o.prototype.aggregate=function(e){this.recordValue(e.duration),this.trace&&this.trace.duration>=e.duration||(this.trace=e)},o.prototype.merge=function(e){i.prototype.merge.call(this,e),this.trace.duration<e.trace.duration&&(this.trace=e.trace)},o.prototype.prepareJSON=function(e){var t=this.trace.segment.transaction,r=this,i=r.trace,o=r.getParams();function a(n,o){if(n)return e(n);e(null,s(r,i,t,o))}this.tracer.config.simple_compression?process.nextTick(a.bind(null,null,o)):n.encode(o,a)},o.prototype.prepareJSONSync=function(){const e=this.trace.segment.transaction,t=this.trace,r=this.getParams();return s(this,t,e,this.tracer.config.simple_compression?r:n.encodeSync(r))},o.prototype.getParams=function(){var e=this.trace.segment.getAttributes(),t={backtrace:this.trace.trace};return e.host&&(t.host=e.host),e.port_path_or_id&&(t.port_path_or_id=e.port_path_or_id),e.database_name&&(t.database_name=e.database_name),this.tracer.config.distributed_tracing.enabled&&this.trace.segment.transaction.addDistributedTraceIntrinsics(t),t},e.exports=o},function(e,t,r){"use strict";var n=r(2),i=r(0).child({component:"sampler"}),o=r(51),s=r(10),a=s.cpus().length,c=[];function u(e,t){this.id=setInterval(e,t),this.id.unref()}function l(e,t){t.end(),e.metrics.measureMilliseconds(n.EVENTS.WAIT,null,t.getDurationInMillis())}function f(e){return function(){try{var t=process.memoryUsage();e.metrics.measureBytes(n.MEMORY.PHYSICAL,t.rss),e.metrics.measureBytes(n.MEMORY.USED_HEAP,t.heapUsed),e.metrics.measureBytes(n.MEMORY.MAX_HEAP,t.heapTotal),e.metrics.measureBytes(n.MEMORY.FREE_HEAP,t.heapTotal-t.heapUsed),e.metrics.measureBytes(n.MEMORY.USED_NONHEAP,t.rss-t.heapTotal),i.trace(t,"Recorded memory")}catch(e){i.debug("Could not record memory usage",e)}}}function p(e){return function(){var t=new o;t.begin(),setTimeout(l.bind(null,e,t),0)}}function d(e){try{return process.cpuUsage(e)}catch(e){return i.debug("Could not record cpu usage",e),null}}function h(e){var t;return function(r,i){var o;o=t?(Date.now()-t)/1e3:process.uptime();var s=a*o;t=Date.now();var c=r/s,u=i/s;b(e,n.CPU.USER_TIME,r),b(e,n.CPU.SYSTEM_TIME,i),b(e,n.CPU.USER_UTILIZATION,c),b(e,n.CPU.SYSTEM_UTILIZATION,u)}}function g(e){var t,r=h(e);return function(){var e=d(t);null!=(t=d())&&r(e.user/1e6,e.system/1e6)}}function m(e,t){return function(){const r=t.getLoopMetrics();w(r.usage,1e6),E(e,n.LOOP.USAGE,r.usage)}}function y(e,t){return function(){const r=t.getGCMetrics();Object.keys(r).forEach((function(t){const o=r[t];w(o.metrics,1e3),E(e,n.GC.PAUSE_TIME,o.metrics),o.type?E(e,n.GC.PREFIX+o.type,o.metrics):i.debug(o,"Unknown GC type %j",o.typeId)}))}}u.prototype.stop=function(){clearInterval(this.id)};var v=e.exports={state:"stopped",sampleMemory:f,checkEvents:p,sampleCpu:g,sampleGc:y,sampleLoop:m,nativeMetrics:null,start:function(e){if(c.push(new u(f(e),5e3)),c.push(new u(p(e),15e3)),e.config.plugins.native_metrics.enabled&&!this.nativeMetrics)try{this.nativeMetrics=r(232)({timeout:15e3})}catch(t){i.info({error:{message:t.message,stack:t.stack}},"Not adding native metric sampler."),e.metrics.getOrCreateMetric(n.SUPPORTABILITY.DEPENDENCIES+"/NoNativeMetricsModule").incrementCallCount()}this.nativeMetrics&&(this.nativeMetrics.bound||this.nativeMetrics.bind(15e3),this.nativeMetrics.gcEnabled&&c.push(new u(y(e,this.nativeMetrics),15e3)),this.nativeMetrics.loopEnabled&&c.push(new u(m(e,this.nativeMetrics),15e3))),process.cpuUsage?c.push(new u(g(e),15e3)):this.nativeMetrics&&this.nativeMetrics.usageEnabled?c.push(new u(function(e,t){var r=h(e);return t.on("usage",(function(e){r(e.diff.ru_utime/1e3,e.diff.ru_stime/1e3)})),function(){}}(e,this.nativeMetrics),15e3)):i.debug("Not adding CPU metric sampler."),v.state="running"},stop:function(){c.forEach((function(e){e.stop()})),c=[],v.state="stopped",this.nativeMetrics&&(this.nativeMetrics.unbind(),this.nativeMetrics.removeAllListeners(),this.nativeMetrics=null)}};function b(e,t,r){e.metrics.getOrCreateMetric(t).recordValue(r),i.trace("Recorded metric %s: %j",t,r)}function E(e,t,r){e.metrics.getOrCreateMetric(t).merge(r),i.trace("Recorded metric %s: %j",t,r)}function w(e,t){e.min/=t,e.max/=t,e.total/=t,e.sumOfSquares/=t*t}},function(e,t,r){"use strict";var n=r(9).EventEmitter,i=r(3),o=r(233).load("native_metrics"),s={1:"Scavenge",2:"MarkSweepCompact",4:"IncrementalMarking",8:"ProcessWeakCallbacks",3:"All",15:"All"};function a(e){e=e||{timeout:15e3},n.call(this),this.bound=!1,this._timeout=null,this._rusageMeter=new o.RUsageMeter,this.usageEnabled=!0,this._gcBinder=new o.GCBinder,this.gcEnabled=!0,this._loopChecker=new o.LoopChecker,this.loopEnabled=!0,this.bind(e.timeout)}i.inherits(a,n),a.prototype.bind=function(e){this.bound||(e=e||15e3,this._gcBinder.bind(),this._loopChecker.bind(),this._timeout=setTimeout(function t(){this._rusageMeter&&this.emit("usage",this._rusageMeter.read());this.bound&&(this._timeout=setTimeout(t.bind(this),e).unref())}.bind(this),e).unref(),this.bound=!0)},a.prototype.unbind=function(){this.bound&&(this._gcBinder.unbind(),this._loopChecker.unbind(),clearTimeout(this._timeout),this.bound=!1)},a.prototype.getLoopMetrics=function(){return this._loopChecker.read()},a.prototype.getGCMetrics=function(){var e=this._gcBinder.read(),t=Object.create(null);for(var r in e)if(e.hasOwnProperty(r)&&e[r].count>0){var n=s[String(r)];t[n]={typeId:parseInt(r,10),type:n,metrics:e[r]}}return t};var c=null;e.exports=function(e){return c||(c=new a(e)),c}},function(e,t,r){"use strict";(function(e){const n=r(97),i=r(30),o=r(35),s=r(27),a=r(10),c=r(8),u=r(235),l=r(32),{getBinFileName:f,getPackageFileName:p,parseArgs:d,logStart:h,logFinish:g,PACKAGE_ROOT:m,BUILD_PATH:y,REMOTE_PATH:v}=r(236),b=a.cpus().length,E="win32"===process.platform,w=u.lt(function(){let e=null;const t=["-v"],r=C();r?(t.unshift(r),e=process.execPath):e=E?"node-gyp.cmd":"node-gyp";const i=n.spawnSync(e,t),o=/v(\d+\.\d+\.\d+)/.exec(i.stdout);return o&&o[1]}()||"0.0.0","3.7.0"),_=process.env.NR_NATIVE_METRICS_DOWNLOAD_HOST||"https://download.newrelic.com/",A={};if(t.load=function(e){return r(238)(c.join(y,f(e)))},r.c[r.s]===e){const[,,e,t]=d(process.argv,A);!function(e,t){h(e),"build"===e||"rebuild"===e?S(t,"rebuild"===e,(function(r){r?g(e,t,r):I(t,g.bind(this,e,t))})):"install"===e&&function(e,t){const r=[],n=A["no-build"]||process.env.NR_NATIVE_METRICS_NO_BUILD,a=A["no-download"]||process.env.NR_NATIVE_METRICS_NO_DOWNLOAD;if(n)return u();function u(){if(a&&!n)return d(new Error("Downloading is disabled."));!function(e,t){const r=p(e),n=_+v+r;let i=null,a=!1;_.startsWith("https:")?i=s:(console.log("Falling back to http, please consider enabling SSL on "+_),i=o);i.get(n,(function(e){if(404===e.statusCode)return t(new Error("No pre-built artifacts for your OS/architecture."));if(200!==e.statusCode)return t(new Error("Failed to download "+n+": code "+e.statusCode));var r=l.createGunzip(),i=[];let o=0;e.pipe(r).on("data",(function(e){i.push(e),o+=e.length})),e.on("error",(function(e){a||(a=!0,t(new Error("Failed to download "+n+": "+e.message)))})),r.on("error",(function(e){a||(a=!0,t(new Error("Failed to unzip "+n+": "+e.message)))})),r.on("end",(function(){a||(a=!0,t(null,Buffer.concat(i,o)))})),e.resume()}))}(e,(function(t,r){if(t)return d(t);!function(e,t,r){!function(e,t){const r=i.constants.R_OK|i.constants.W_OK,n=(e=c.relative(m,e)).split(c.sep);!function e(t,o,s){if(++t>=n.length)return s();o=c.join(o,n[t]),i.access(o,r,(function(r){return r?"ENOENT"!==r.code?s(new Error('Do not have access to "'+o+'": '+r)):void i.mkdir(o,(function(r){if(r)return s(r);e(t,o,s)})):e(t,o,s)}))}(-1,m,t)}(y,(function(n){if(n)return r(n);const o=c.join(y,f(e));i.writeFile(o,t,r)}))}(e,r,d)}))}function d(e){e?(r.push(e),t(e)):t()}S(e,!0,(function(t){if(!t)return I(e,(function(e){e?(r.push(e),u()):d()}));r.push(t),u()}))}(t,g.bind(this,e,t))}(e,t)}function C(){let e=null;if(process.env.npm_config_node_gyp)try{if(e=process.env.npm_config_node_gyp,i.existsSync(e))return e}catch(e){}try{const t=!function(){var e=new Error("Cannot find module 'node-gyp'");throw e.code="MODULE_NOT_FOUND",e}();if(e=c.resolve(t,"../../bin/node-gyp.js"),i.existsSync(e))return e}catch(e){}try{const t=!function(){var e=new Error("Cannot find module 'npm'");throw e.code="MODULE_NOT_FOUND",e}();if(e=c.resolve(t,"../../node_modules/node-gyp/bin/node-gyp.js"),i.existsSync(e))return e}catch(e){}const t=c.resolve(process.execPath,"../../lib/node_modules/npm/");return e=c.join(t,"node_modules/node-gyp/bin/node-gyp.js"),i.existsSync(e)?e:null}function T(e,t){let r=null;const i=C();i?(e.unshift(i),r=process.execPath):r=E?"node-gyp.cmd":"node-gyp";const o={};A.quiet||(o.stdio=[0,1,2]),console.log("> "+r+" "+e.join(" "));const s=n.spawn(r,e,o);s.on("error",t),s.on("close",(function(e){t(0!==e?new Error("Command exited with non-zero code: "+e):null)}))}function S(e,t,r){E&&w&&(e="/t:"+e);T(t?["clean","configure"]:["configure"],(function(t){if(t)return r(t);T(["build","-j",Math.round(b/2),e],r)}))}function I(e,t){const r=c.join(y,e+".node"),n=c.join(y,f(e));i.rename(r,n,t)}}).call(this,r(234)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var r;t=e.exports=z,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],o=t.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var u=s++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;o[l]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var f=s++;o[f]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var p=s++;o[p]="(?:"+o[a]+"|"+o[u]+")";var d=s++;o[d]="(?:"+o[c]+"|"+o[u]+")";var h=s++;o[h]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var g=s++;o[g]="(?:-?("+o[d]+"(?:\\."+o[d]+")*))";var m=s++;o[m]="[0-9A-Za-z-]+";var y=s++;o[y]="(?:\\+("+o[m]+"(?:\\."+o[m]+")*))";var v=s++,b="v?"+o[l]+o[h]+"?"+o[y]+"?";o[v]="^"+b+"$";var E="[v=\\s]*"+o[f]+o[g]+"?"+o[y]+"?",w=s++;o[w]="^"+E+"$";var _=s++;o[_]="((?:<|>)?=?)";var A=s++;o[A]=o[c]+"|x|X|\\*";var C=s++;o[C]=o[a]+"|x|X|\\*";var T=s++;o[T]="[v=\\s]*("+o[C]+")(?:\\.("+o[C]+")(?:\\.("+o[C]+")(?:"+o[h]+")?"+o[y]+"?)?)?";var S=s++;o[S]="[v=\\s]*("+o[A]+")(?:\\.("+o[A]+")(?:\\.("+o[A]+")(?:"+o[g]+")?"+o[y]+"?)?)?";var I=s++;o[I]="^"+o[_]+"\\s*"+o[T]+"$";var N=s++;o[N]="^"+o[_]+"\\s*"+o[S]+"$";var O=s++;o[O]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var R=s++;o[R]="(?:~>?)";var M=s++;o[M]="(\\s*)"+o[R]+"\\s+",i[M]=new RegExp(o[M],"g");var x=s++;o[x]="^"+o[R]+o[T]+"$";var D=s++;o[D]="^"+o[R]+o[S]+"$";var k=s++;o[k]="(?:\\^)";var B=s++;o[B]="(\\s*)"+o[k]+"\\s+",i[B]=new RegExp(o[B],"g");var j=s++;o[j]="^"+o[k]+o[T]+"$";var P=s++;o[P]="^"+o[k]+o[S]+"$";var F=s++;o[F]="^"+o[_]+"\\s*("+E+")$|^$";var L=s++;o[L]="^"+o[_]+"\\s*("+b+")$|^$";var U=s++;o[U]="(\\s*)"+o[_]+"\\s*("+E+"|"+o[T]+")",i[U]=new RegExp(o[U],"g");var V=s++;o[V]="^\\s*("+o[T]+")\\s+-\\s+("+o[T]+")\\s*$";var Q=s++;o[Q]="^\\s*("+o[S]+")\\s+-\\s+("+o[S]+")\\s*$";var G=s++;o[G]="(<|>)?=?\\s*\\*";for(var W=0;W<35;W++)r(W,o[W]),i[W]||(i[W]=new RegExp(o[W]));function Y(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof z)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?i[w]:i[v]).test(e))return null;try{return new z(e,t)}catch(e){return null}}function z(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof z){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof z))return new z(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[w]:i[v]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=Y,t.valid=function(e,t){var r=Y(e,t);return r?r.version:null},t.clean=function(e,t){var r=Y(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=z,z.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},z.prototype.toString=function(){return this.version},z.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof z||(e=new z(e,this.options)),this.compareMain(e)||this.comparePre(e)},z.prototype.compareMain=function(e){return e instanceof z||(e=new z(e,this.options)),q(this.major,e.major)||q(this.minor,e.minor)||q(this.patch,e.patch)},z.prototype.comparePre=function(e){if(e instanceof z||(e=new z(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return q(n,i)}while(++t)},z.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new z(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(K(e,t))return null;var r=Y(e),n=Y(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return i+s;return o},t.compareIdentifiers=q;var H=/^[0-9]+$/;function q(e,t){var r=H.test(e),n=H.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function J(e,t,r){return new z(e,r).compare(new z(t,r))}function X(e,t,r){return J(e,t,r)>0}function Z(e,t,r){return J(e,t,r)<0}function K(e,t,r){return 0===J(e,t,r)}function $(e,t,r){return 0!==J(e,t,r)}function ee(e,t,r){return J(e,t,r)>=0}function te(e,t,r){return J(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return K(e,r,n);case"!=":return $(e,r,n);case">":return X(e,r,n);case">=":return ee(e,r,n);case"<":return Z(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return q(t,e)},t.major=function(e,t){return new z(e,t).major},t.minor=function(e,t){return new z(e,t).minor},t.patch=function(e,t){return new z(e,t).patch},t.compare=J,t.compareLoose=function(e,t){return J(e,t,!0)},t.rcompare=function(e,t,r){return J(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=X,t.lt=Z,t.eq=K,t.neq=$,t.gte=ee,t.lte=te,t.cmp=re,t.Comparator=ne;var ie={};function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ne)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,n,i,o,s,a,c,u,l,f,p){return((t=se(r)?"":se(n)?">="+r+".0.0":se(i)?">="+r+"."+n+".0":">="+t)+" "+(a=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":f?"<="+c+"."+u+"."+l+"-"+f:"<="+a)).trim()}function ce(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(i=0;i<e.length;i++)if(r(e[i].semver),e[i].semver!==ie&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ue(e,t,r){try{t=new oe(t,r)}catch(e){return!1}return t.test(e)}function le(e,t,r,n){var i,o,s,a,c;switch(e=new z(e,n),t=new oe(t,n),r){case">":i=X,o=te,s=Z,a=">",c=">=";break;case"<":i=Z,o=ee,s=X,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],f=null,p=null;if(l.forEach((function(e){e.semver===ie&&(e=new ne(">=0.0.0")),f=f||e,p=p||e,i(e.semver,f.semver,n)?f=e:s(e.semver,p.semver,n)&&(p=e)})),f.operator===a||f.operator===c)return!1;if((!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?i[F]:i[L],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new z(r[2],this.options.loose):this.semver=ie},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new z(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new oe(e.value,t),ue(this.value,r,t);if(""===e.operator)return r=new oe(this.value,t),ue(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||o&&s||a||c},t.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?i[Q]:i[V];e=e.replace(n,ae),r("hyphen replace",e),e=e.replace(i[U],"$1$2$3"),r("comparator trim",e,i[U]),e=(e=(e=e.replace(i[M],"$1~")).replace(i[B],"$1^")).split(/\s+/).join(" ");var o=t?i[F]:i[L],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?i[P]:i[j];return e.replace(n,(function(t,n,i,o,s){var a;return r("caret",e,t,n,i,o,s),se(n)?a="":se(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(o)?a="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===i?">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===i?">="+n+"."+i+"."+o+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?i[D]:i[x];return e.replace(n,(function(t,n,i,o,s){var a;return r("tilde",e,t,n,i,o,s),se(n)?a="":se(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(o)?a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0"):a=">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?i[N]:i[I];return e.replace(n,(function(t,n,i,o,s,a){r("xRange",e,t,n,i,o,s,a);var c=se(i),u=c||se(o),l=u||se(s);return"="===n&&l&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),t=n+i+"."+o+"."+s):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(i[G],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s=s.map((function(e){return new ne(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new z(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=ue,t.maxSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(n&&-1!==i.compare(e)||(i=new z(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(n&&1!==i.compare(e)||(i=new z(n=e,r)))})),n},t.minVersion=function(e,t){e=new oe(e,t);var r=new z("0.0.0");if(e.test(r))return r;if(r=new z("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach((function(e){var t=new z(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!X(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(r&&e.test(r))return r;return null},t.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return le(e,t,"<",r)},t.gtr=function(e,t,r){return le(e,t,">",r)},t.outside=le,t.prerelease=function(e,t){var r=Y(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new oe(e,r),t=new oe(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof z)return e;if("string"!=typeof e)return null;var t=e.match(i[O]);if(null==t)return null;return Y(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t,r){"use strict";(function(t){const n=r(8),i=e.exports;i.PACKAGE_ROOT=n.resolve(t,".."),i.BUILD_PATH=n.resolve(i.PACKAGE_ROOT,"./build/Release"),i.REMOTE_PATH=process.env.NR_NATIVE_METRICS_REMOTE_PATH||"nodejs_agent/builds/",i.parseArgs=function(e,t){const r=[];for(let n=0;n<e.length;++n)/^--/.test(e[n])?t[e[n].substr(2)]=!0:r.push(e[n]);return r},i.logStart=function(e){console.log(["============================================================================",`Attempting ${e} in native-metrics module. Please note that this is an`,"OPTIONAL dependency, and any resultant errors in this process will not","affect the general performance of the New Relic agent, but event loop and","garbage collection metrics will not be collected.","============================================================================",""].join("\n"))},i.logFinish=function(e,t,r){r?(console.error(`Failed to execute native-metrics ${e}: ${r.message}`),process.exit(1)):console.log(e+" successful: "+i.getFileName(t))},i.getFileName=function(e){const t=process.versions.modules,n=process.arch,i=process.platform,o=r(237),s=o.name.replace(/[^\w]/g,"_"),a=o.version.toString().replace(/[^\w]/g,"_");if(!(t&&n&&e&&i&&o&&s&&a))throw new Error("Missing information for naming compiled binary.");return(process.env.npm_config_runtime||"").includes("electron")||(process.env.npm_config_disturl||"").includes("electron")?[s,a,e,i,n].join("-"):[s,a,e,t,i,n].join("-")},i.getPackageFileName=function(e){return i.getFileName(e)+".gz"},i.getBinFileName=function(e){return i.getFileName(e)+".node"}}).call(this,"/")},function(e){e.exports=JSON.parse('{"_args":[["@newrelic/native-metrics@6.0.2","/builds/dtci-bp-software-solutions/ui/dash"]],"_development":true,"_from":"@newrelic/native-metrics@6.0.2","_id":"@newrelic/native-metrics@6.0.2","_inBundle":false,"_integrity":"sha512-MYJnPyR2lJAH0B5yKkHaBL+ui3ZLWViKNCAIXAeMmrNzEC/wlM6Yyl0Ryo6THX3E3Hq3ArXE4uQTXVn7x8ijKQ==","_location":"/@newrelic/native-metrics","_optional":true,"_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@newrelic/native-metrics@6.0.2","name":"@newrelic/native-metrics","escapedName":"@newrelic%2fnative-metrics","scope":"@newrelic","rawSpec":"6.0.2","saveSpec":null,"fetchSpec":"6.0.2"},"_requiredBy":["/newrelic"],"_resolved":"https://nexus.dtci.co/repository/npm-proxy-all/@newrelic/native-metrics/-/native-metrics-6.0.2.tgz","_spec":"6.0.2","_where":"/builds/dtci-bp-software-solutions/ui/dash","author":{"name":"New Relic Node.js agent team","email":"nodejs@newrelic.com"},"bugs":{"url":"https://github.com/newrelic/node-native-metrics/issues"},"contributors":[{"name":"Natalie Wolfe","email":"nwolfe@newrelic.com","url":"https://newrelic.com"},{"name":"Peter Svetlichny","email":"psvetlichny@newrelic.com","url":"https://newrelic.com"},{"name":"Alan Storm","email":"astorm@newrelic.com","url":"https://newrelic.com"},{"name":"Bryan Clement","email":"bclement@newrelic.com","url":"https://newrelic.com"},{"name":"Michael Goin","email":"mgoin@newrelic.com","url":"https://newrelic.com"},{"name":"Nick Tzaperas","email":"ntzaperas@newrelic.com","url":"https://newrelic.com"},{"name":"Carlo Pearson","email":"cpearson@newrelic.com","url":"https://newrelic.com"}],"dependencies":{"nan":"^2.14.2","semver":"^5.5.1"},"description":"A module for generating metrics from V8.","devDependencies":{"async":"^3.2.0","aws-sdk":"^2.266.1","eslint":"^7.27.0","segfault-handler":"^1.3.0","tap":"^15.0.9"},"engines":{"node":">=10","npm":">=3"},"homepage":"https://github.com/newrelic/node-native-metrics#readme","keywords":["newrelic","gc","metrics","stats","gc-stats","gc stats","gc metrics","native-metrics","native metrics"],"license":"Apache-2.0","main":"index.js","name":"@newrelic/native-metrics","repository":{"type":"git","url":"git+ssh://git@github.com/newrelic/node-native-metrics.git"},"scripts":{"build":"node ./lib/pre-build build native_metrics","clean":"node-gyp clean","install":"node ./lib/pre-build.js install native_metrics","integration":"tap --timeout 360000 --jobs=1 --no-coverage tests/integration/*.tap.js","lint":"eslint .","native":"node tests/native/*.js","rebuild":"node ./lib/pre-build rebuild native_metrics","test":"npm run lint && npm run unit && npm run integration","unit":"tap --expose-gc --jobs=1 --no-coverage tests/unit/*.tap.js","upload":"node ./lib/upload native_metrics"},"version":"6.0.2"}')},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=238},function(e,t,r){"use strict";const n=r(34),i=r(0).child({component:"Transaction Trace Aggregator"}),o=r(104);e.exports=class extends o{constructor(e,t){if((e=e||{}).method=e.method||"trace_sample_data",!e.config)throw new Error("config required by trace aggregator");super(e,t);const r=e.config;this.reported=0,this.config=r,this.capacity=1,r.transaction_tracer&&r.transaction_tracer.top_n&&(this.capacity=r.transaction_tracer.top_n),this.trace=null,this.syntheticsTraces=[],this.requestTimes=Object.create(null),this.noTraceSubmitted=0}resetTimingTracker(){this.requestTimes=Object.create(null),this.noTraceSubmitted=0}add(e){if(e&&this.config.collect_traces&&this.config.transaction_tracer&&this.config.transaction_tracer.enabled&&e&&e.metrics){const t=e.trace,r=e.getFullName(),n=t.getDurationInMillis(),i=e.metrics.apdexT;e.syntheticsData?this.addSyntheticsTrace(t):this.isBetter(r,n,i)&&(this.trace=t,(!this.requestTimes[r]||this.requestTimes[r]<n)&&(this.requestTimes[r]=n))}}addSyntheticsTrace(e){return this.syntheticsTraces.length<20&&(this.syntheticsTraces.push(e),!0)}clear(){this.trace=null,this.syntheticsTraces=[]}_merge(e){if(e&&(e.trace&&this.add(e.trace.transaction),e.synthetics))for(let t=0;t<e.synthetics.length;++t){const r=e.synthetics[t];if(!this.addSyntheticsTrace(r))break}}_getMergeData(){return{trace:this.trace,synthetics:this.synthetricsTraces}}getTraces(){const e=[].concat(this.syntheticsTraces),t=this.config.max_trace_segments;if(this.trace){const r=this.trace;r.segmentsSeen>t&&i.warn("Transaction %s (%s) contained %d segments, only collecting the first %d",r.transaction.name,r.transaction.id,r.segmentsSeen,t),this.noTraceSubmitted=0,e.push(r)}else++this.noTraceSubmitted>=5&&this.resetTimingTracker();return 0===e.length?null:e}_toPayloadSync(){const e=this.getTraces();return e?[this.runId,e.map(e=>e.generateJSONSync())]:(i.debug("No transaction traces to send."),null)}_toPayload(e){const t=this.getTraces();return t?n.map(t,(e,t)=>e.generateJSON(t),(t,r)=>e(t,[this.runId,r])):e(null,t)}_afterSend(e){e&&++this.reported}isBetter(e,t,r){const n=this.config.transaction_tracer;let i;if(i=n&&null!=n.transaction_threshold&&"apdex_f"!==n.transaction_threshold&&"number"==typeof n.transaction_threshold?t>=1e3*n.transaction_threshold:t>=4e3*r,!i)return!1;let o=!0;if(this.trace&&(o=this.trace.getDurationInMillis()<t),!o)return!1;const s=this.reported>=5;let a=!0;return s&&this.requestTimes[e]&&(a=this.requestTimes[e]<t),!!a&&!(s&&!this.requestTimes[e]&&Object.keys(this.requestTimes).length>=this.capacity)}}},function(e,t,r){"use strict";const n=r(34),i=r(0).child({component:"transaction-event-aggregator"}),o=r(43),s=r(2);e.exports=class extends o{constructor(e,t,r){(e=e||{}).method=e.method||"analytic_event_data",e.metricNames=s.EVENTS,super(e,t,r),this.splitThreshold=e.splitThreshold||5e3}_toPayloadSync(){const e=this.events;if(0===e.length)return void i.debug("No transaction events to send.");const t={reservoir_size:e.limit,events_seen:e.seen},r=e.toArray();return[this.runId,t,r]}send(){if(this.events.length<this.splitThreshold)return super.send();this.emit(`starting ${this.method} data send.`),i.debug("Splitting transaction events into multiple payloads");const e=this._getMergeData();this.clear();const t=this._splitData(e);this._sendMultiple(t,()=>{this.emit(`finished ${this.method} data send.`)})}_splitData(e){const t=e.getRawEvents(),r=Math.floor(e.length/2),n=Math.floor(e.limit/2),i=Math.floor(e.seen/2),o=t.splice(0,r),s={reservoir_size:n,events_seen:i},a=o.map(this._rawEventsToValues),c=[this.runId,s,a],u=t,l={reservoir_size:e.limit-n,events_seen:e.seen-i},f=u.map(this._rawEventsToValues);return[{rawData:o,payload:c},{rawData:u,payload:[this.runId,l,f]}]}_rawEventsToValues(e){return e.value}_sendMultiple(e,t){const r=this;n.eachOfSeries(e,(t,n,o)=>{i.debug("Sending payload %d of %d to %s",n+1,e.length,r.method),r._sendSplitPayload(t.rawData,t.payload,t=>{t&&i.warn(t,"An error occurred sending payload"),i.trace("Finished sending payload %d of %d to %s",n+1,e.length,r.method),o()})},(function(){i.debug("Finished sending %d payloads to %s",e.length,r.method),t()}))}_sendSplitPayload(e,t,r){this.collector[this.method](t,(t,n)=>{n&&n.retainData&&this._merge(e),r(t)})}}},function(e,t,r){"use strict";var n=r(89),i=r(0).child({component:"tracer"}),o="__NR_original";function s(e){if(!e)throw new Error("Must be initialized with an agent.");this.agent=e,this._segment=null}function a(e){return e&&e[o]?e[o]:e}e.exports=s,s.prototype.getTransaction=function(){if(this.segment&&this.segment.transaction&&this.segment.transaction.isActive())return this.segment.transaction;return null},s.prototype.getSegment=function(){return this.segment},s.prototype.getSpanContext=function(){return this.segment&&this.segment.getSpanContext()},s.prototype.createSegment=function(e,t,r){var n=r||this.segment;if(!n||!n.transaction.isActive())return i.trace({hasParent:!!n,transactionActive:n&&n.transaction.isActive()},"Not creating segment %s, no parent or active transaction available.",e),null;return n.add(e,t)},s.prototype.addSegment=function(e,t,r,n,i){if("function"!=typeof i)throw new Error("task must be a function");var o=this.createSegment(e,t,r);return this.bindFunction(i,o,n)(o)},s.prototype.transactionProxy=function(e){if("function"!=typeof e)return e;var t=this,r=function(){if(!t.agent.canCollectData())return e.apply(this,arguments);var r=t.segment;if(r)return r.transaction.traceStacks&&(r.probe("!!! Nested transaction creation !!!"),r.transaction.traceFlag=!0),i.warn({transaction:{id:r.transaction.id,name:r.transaction.getName()},segment:r.name},"Active transaction when creating non-nested transaction"),t.agent.recordSupportability("Nodejs/Transactions/Nested"),e.apply(this,arguments);var o=new n(t.agent);return t.bindFunction(e,o.trace.root,!0).apply(this,arguments)};return r[o]=e,r},s.prototype.transactionNestProxy=function(e,t){void 0===t&&"function"==typeof e&&(t=e,e=void 0);if("function"!=typeof t)return t;var r=this,i=function(){if(!r.agent.canCollectData())return t.apply(this,arguments);var i=r.getTransaction(),o=r.segment,s=!1;return i&&i.type===e||(s=!0),s&&((i=new n(r.agent)).type=e,o=i.trace.root),r.bindFunction(t,o).apply(this,arguments)};return i[o]=t,i},s.prototype.bindFunction=function(e,t,r){if("function"!=typeof e)return e;return function(e,t,r,n){return s[o]=a(t),s.__NR_segment=r,s;function s(){var o=e.segment;e.segment=r,r&&n&&r.start();try{return t.apply(this,arguments)}catch(t){throw i.trace(t,"Error from wrapped function:"),null===o&&null!=process.domain&&(process.domain.__NR_transactionSegment=e.segment),t}finally{r&&n&&r.touch(),e.segment=o}}}(this,e,t||this.segment,!!r)},s.prototype.bindEmitter=function(e,t){if(!e||!e.emit)return e;var r=a(e.emit);return e.emit=this.bindFunction(r,t),e},s.prototype.getOriginal=a,s.prototype.getSegmentFromWrapped=function(e){return e&&e.__NR_segment?e.__NR_segment:null},s.prototype.slice=function(e){for(var t=e.length,r=new Array(t),n=0;n<t;n++)r[n]=e[n];return r},s.prototype.wrapFunctionNoSegment=function(e,t,r){if("function"!=typeof e)return e;i.trace("Wrapping function %s (no segment)",t||e.name||"anonymous");var n=this;return function(){if(!n.getTransaction())return e.apply(this,arguments);var t=n.slice(arguments);if(void 0===r){var i=t.length-1,o=t[i];"function"==typeof o&&(t[i]=n.bindFunction(o))}else t=r(t);return e.apply(this,t)}},s.prototype.wrapFunctionFirstNoSegment=function(e,t){if("function"!=typeof e)return e;i.trace("Wrapping function %s (no segment)",t||e.name||"anonymous");var r=this;return function(){if(!r.getTransaction())return e.apply(this,arguments);var t=r.slice(arguments),n=t[0];"function"==typeof n&&(t[0]=r.bindFunction(n));return e.apply(this,t)}},s.prototype.wrapFunction=function(e,t,r,n,o){if("function"!=typeof r||!n)return i.trace('Not wrapping "%s" because it was not a function',e),r;i.trace("Wrapping %s using a custom wrapper",e);var s=this;return function(){var a=s.getTransaction();if(!a)return i.trace('Not creating segment "%s" because no transaction was active',e),r.apply(this,arguments);i.trace('Creating "%s" segment for transaction %s.',e,a.id);var c=s.createSegment(e,t),u=n.call(this,c,s.slice(arguments),f);c.start();var l=s.bindFunction(r,c).apply(this,u);o&&(l=o.call(this,c,l,f));return l;function f(t){return t?s.wrapCallback(t,c,(function(){return i.trace('Touching "%s" segment for transaction %s.',e,a.id),c.touch(),t.apply(this,arguments)})):t}}},s.prototype.wrapFunctionLast=function(e,t,r){if("function"!=typeof r)return i.trace('Not wrapping "%s" because it was not a function',e),r;i.trace("Wrapping %s as a callback-last function",e);var n=this;return function(){var o=n.getTransaction();if(!o)return i.trace('Not creating segment "%s" because no transaction was active',e),r.apply(this,arguments);i.trace('Creating "%s" segment for transaction %s.',e,o.id);var s=n.slice(arguments),a=s.length-1,c=s[a];if("function"!=typeof c)return r.apply(this,arguments);var u=n.createSegment(e,t);return s[a]=n.wrapCallback(c,u,l),u.start(),n.bindFunction(r,u).apply(this,s);function l(){return i.trace('Ending "%s" segment for transaction %s.',e,o.id),u.touch(),c.apply(this,arguments)}}},s.prototype.wrapFunctionFirst=function(e,t,r){if("function"!=typeof r)return i.trace('Not wrapping "%s" because it was not a function',e),r;i.trace("Wrapping %s as a callback-first function",e);var n=this;return function(){var o=n.getTransaction();if(!o)return i.trace('Not creating segment "%s" because no transaction was active',e),r.apply(this,arguments);i.trace('Creating "%s" segment for transaction %s.',e,o.id);var s=n.slice(arguments),a=s[0];if("function"!=typeof a)return r.apply(this,arguments);var c=n.createSegment(e,t);return s[0]=n.wrapCallback(a,c,u),c.start(),n.bindFunction(r,c).apply(this,s);function u(){i.trace('Ending "%s" segment for transaction %s.',e,o.id),c.touch();var t=a.apply(this,arguments);return t}}},s.prototype.wrapSyncFunction=function(e,t,r){if("function"!=typeof r)return i.trace('Not wrapping "%s" because it was not a function',e),r;i.trace('Wrapping "%s" as a synchronous function',e);var n=this;return function(){var o=n.getTransaction();if(!o)return i.trace('Not creating segment "%s" because no transaction was active',e),r.apply(this,arguments);i.trace('Creating "%s" sync segment for transaction %s.',e,o.id);var s=n.createSegment(e,t);s&&(s.async=!1);return n.bindFunction(r,s,!0).apply(this,arguments)}},s.prototype.wrapCallback=function(e,t,r){var n=this;return"function"!=typeof e?e:(i.trace('Wrapping callback for "%s" segment',t?t.name:"unknown"),n.bindFunction((function(){r&&(r[o]=e);var i=n.createSegment("Callback: "+(e.name||"anonymous"),null,t);return i&&(i.async=!1),n.bindFunction(r||e,i,!0).apply(this,arguments)}),t,!1))},Object.defineProperty(s.prototype,"segment",{get:function(){return this._segment},set:function(e){return this._segment&&this._segment.probe("Segment removed from tracer"),e&&e.probe("Set tracer.segment"),this._segment=e}})},function(e,t,r){"use strict";var n=r(0).child({component:"tx_segment_normalizer"});function i(){this.terms=[]}e.exports=i,i.prototype.normalize=function(e){for(var t,r,i=0;i<this.terms.length;i++)if(r=(t=this.terms[i]).prefix,-1!==e.lastIndexOf(r,0)){for(var o,s,a=e.slice(r.length).split("/"),c=[],u=0;u<a.length&&(""!==(s=a[u])||u+1!==a.length);u++)if(-1===t.terms.indexOf(s)){if("*"===o)continue;c.push(o="*")}else c.push(o=s);return n.trace("Normalizing %s because of rule: %s",e,t),{matched:!0,ignore:!1,value:r+c.join("/")}}return{matched:!1,ignore:!1,value:e}},i.prototype.load=function(e){Array.isArray(e)?this.terms=function(e){for(var t=Object.create(null),r=0,n=e.length;r<n;++r){var i=e[r].prefix;if(i&&"string"==typeof i){"/"!==i[i.length-1]&&(i+="/",e[r].prefix=i);var o=i.split("/");3===o.length&&o[0]&&o[1]&&!o[3]&&Array.isArray(e[r].terms)&&(t[i]=e[r])}}var s=Object.keys(t),a=new Array(s.length);for(r=0,n=s.length;r<n;++r)a[r]=t[s[r]];return a}(e):n.warn("transaction_segment_terms was not an array got: %s (%s)",typeof e,e)}},function(e,t,r){"use strict";const n=r(48),i=r(0),o=r(244),s=r(246);e.exports=function(e,t,a){const c=e.infinite_tracing.trace_observer;let u=!1;return c.host&&(u=function(){if(!n.satisfies(">=10.10.0"))return i.warn("Infinite tracing disabled: this version of Node is not supported (must be >=10.10.0)"),!1;return!0}(),u||(c.host="",c.port="")),u?(c.host=c.host.trim(),"string"!=typeof c.port&&(c.port=String(c.port)),c.port=c.port.trim(),function(e,t,n){i.trace("Creating streaming span event aggregator for infinite tracing.");const o=new(r(250))(e.infinite_tracing.trace_observer,n),a=new(r(277))(e.license_key,o,n,e.infinite_tracing.span_events.queue_size);return new s({periodMs:1e3,limit:5e4,span_streamer:a},t,n)}(e,t,a)):function(e,t,r){i.trace("Creating standard span event aggregator.");const n={periodMs:e.event_harvest_config.report_period_ms,limit:e.event_harvest_config.harvest_limits.span_event_data};return new o(n,t,r)}(e,t,a)}},function(e,t,r){"use strict";const n=r(0);let i=null;const o=r(43),s=r(245),a=r(2);e.exports=class extends o{constructor(e,t,r){(e=e||{}).method=e.method||"span_event_data",e.metricNames=e.metricNames||a.SPAN_EVENTS,i=n.child({component:"span_aggregator"}),super(e,t,r)}_toPayloadSync(){const e=this.events;if(0===e.length)return void i.debug("No span events to send.");const t={reservoir_size:e.limit,events_seen:e.seen},r=e.toArray();return[this.runId,t,r]}start(){return n.debug("starting SpanEventAggregator"),super.start()}send(){i.traceEnabled()&&i.trace({spansCollected:this.length,spansSeen:this.seen},"Entity stats on span harvest"),super.send()}addSegment(e,t,r){const n=e.transaction;if(n.priority<this._items.getMinimumPriority())return++this.events.seen,this._metrics.getOrCreateMetric(this._metricNames.SEEN).incrementCallCount(),!1;const i=s.fromSegment(e,t||null,r);return this.add(i,n.priority)}},e.exports.LIMIT=1e3},function(e,t,r){"use strict";const n=r(17),{truncate:i}=r(33),{DESTINATIONS:o}=r(6),s={HTTP:"http",DATASTORE:"datastore",GENERIC:"generic"},a=/^(?:Truncated\/)?External\//,c=/^(?:Truncated\/)?Datastore\//,u=Object.freeze(Object.create(null));class l{constructor(){this.type="Span",this.traceId=null,this.guid=null,this.parentId=null,this.transactionId=null,this.sampled=null,this.priority=null,this.name=null,this.category=s.GENERIC,this.component=null,this.timestamp=null,this.duration=null,this["nr.entryPoint"]=null,this["span.kind"]=null,this.trustedParentId=null,this.tracingVendors=null}}class f{constructor(e,t){this.customAttributes=t,this.attributes=e,this.intrinsics=new l}static get CATEGORIES(){return s}static get DatastoreSpanEvent(){return d}static get HttpSpanEvent(){return p}static fromSegment(e,t=null,r=!1){const n=e.getSpanContext();if(n.hasError&&!e.transaction.hasIgnoredErrorStatusCode()){const t=n.errorDetails;e.addSpanAttribute("error.message",t.message),e.addSpanAttribute("error.class",t.type),t.expected&&e.addSpanAttribute("error.expected",t.expected)}const i=e.attributes.get(o.SPAN_EVENT),s=n.customAttributes.get(o.SPAN_EVENT);let a=null;a=p.testSegment(e)?new p(i,s):d.testSegment(e)?new d(i,s):new f(i,s);for(const[e,t]of Object.entries(n.intrinsicAttributes))a.intrinsics[e]=t;const c=e.transaction;return a.intrinsics.traceId=c.traceId,a.intrinsics.guid=e.id,a.intrinsics.parentId=t,a.intrinsics.transactionId=c.id,a.intrinsics.sampled=c.sampled,a.intrinsics.priority=c.priority,a.intrinsics.name=e.name,r&&(a.intrinsics.trustedParentId=c.traceContext.trustedParentId,c.traceContext.tracingVendors&&(a.intrinsics.tracingVendors=c.traceContext.tracingVendors)),c.baseSegment===e&&(a.intrinsics["nr.entryPoint"]=!0),a.intrinsics.timestamp=e.timer.start,a.intrinsics.duration=e.timer.getDurationInMillis()/1e3,a}toJSON(){return[g(this.intrinsics),this.customAttributes?g(this.customAttributes):u,g(this.attributes)]}addCustomAttribute(e,t,r=!1){const{attributeFilter:i}=n.getInstance();i.filterSegment(o.SPAN_EVENT,e)&o.SPAN_EVENT&&(this.customAttributes[e]=r?t:h(t))}addAttribute(e,t,r=!1){const{attributeFilter:i}=n.getInstance();i.filterSegment(o.SPAN_EVENT,e)&o.SPAN_EVENT&&(this.attributes[e]=r?t:h(t))}}class p extends f{constructor(e,t){super(e,t),this.intrinsics.category=s.HTTP,this.intrinsics.component=e.library||"http",this.intrinsics["span.kind"]="client",e.library&&(e.library=null),e.url&&(this.addAttribute("http.url",e.url),e.url=null),e.procedure&&(this.addAttribute("http.method",e.procedure),e.procedure=null)}static testSegment(e){return a.test(e.name)}}class d extends f{constructor(e,t){if(super(e,t),this.intrinsics.category=s.DATASTORE,this.intrinsics["span.kind"]="client",e.product&&(this.intrinsics.component=e.product,e.product=null),e.collection&&(this.addAttribute("db.collection",e.collection),e.collection=null),e.sql||e.sql_obfuscated){let t=null;e.sql_obfuscated?(t=h(e.sql_obfuscated),e.sql_obfuscated=null):e.sql&&(t=h(e.sql),e.sql=null),this.addAttribute("db.statement",t,!0)}if(e.database_name&&(this.addAttribute("db.instance",e.database_name),e.database_name=null),e.host){if(this.addAttribute("peer.hostname",e.host),e.port_path_or_id){const t=`${e.host}:${e.port_path_or_id}`;this.addAttribute("peer.address",t),e.port_path_or_id=null}e.host=null}}static testSegment(e){return c.test(e.name)}}function h(e){let t=i(e,1997);return t!==e&&(t+="..."),t}function g(e){const t=Object.create(null);for(let r in e)null!=e[r]&&(t[r]=e[r]);return t}e.exports=f},function(e,t,r){"use strict";const n=r(36),i=r(247),o=r(0).child({component:"streaming-span-event-aggregator"});e.exports=class extends n{constructor(e,t,r){(e=e||{}).periodMs=e.periodMs?e.periodMs:1e3,e.limit=e.limit?e.limit:1e4,e.method=e.method||"span_event_data",super(e,t),this.stream=e.span_streamer,this.metrics=r,this.started=!1,this.isStream=!0}start(){this.started||(o.trace("StreamingSpanEventAggregator starting up"),this.stream.connect(this.runId,this.requestHeadersMap),this.started=!0,this.emit("started"))}stop(){this.started&&(o.trace("StreamingSpanEventAggregator stopping"),this.stream.disconnect(),this.started=!1,this.emit("stopped"))}send(){this.started&&o.warnOnce("SEND_WARNING","send() is not currently supported on streaming span event aggregator. This warning will not appear again this agent run."),this.emit(`finished ${this.method} data send.`)}_toPayloadSync(){}addSegment(e,t,r){if(!this.started)return void o.trace("Aggregator has not yet started, dropping span (%s).",e.name);const n=i.fromSegment(e,t,r);this.stream.write(n)}reconfigure(e){super.reconfigure(e),this.requestHeadersMap=e.request_headers_map}createMetrics(){this.stream.createMetrics()}}},function(e,t,r){"use strict";const n=r(248),{truncate:i}=r(33),o=r(17),{DESTINATIONS:s}=r(6),a="http",c="datastore",u="generic",l=/^(?:Truncated\/)?External\//,f=/^(?:Truncated\/)?Datastore\//;class p{constructor(e,t,r){this._traceId=e,this._intrinsicAttributes=new n,this._intrinsicAttributes.addAttribute("traceId",e),this._intrinsicAttributes.addAttribute("type","Span"),this._intrinsicAttributes.addAttribute("category",u),this._customAttributes=new n(r),this._agentAttributes=new n(t)}addIntrinsicAttribute(e,t){this._intrinsicAttributes.addAttribute(e,t)}addCustomAttribute(e,t,r=!1){if(this._checkFilter(e)){const n=r?t:g(t);this._customAttributes.addAttribute(e,n)}}addAgentAttribute(e,t,r=!1){if(this._checkFilter(e)){const n=r?t:g(t);this._agentAttributes.addAttribute(e,n)}}_checkFilter(e){const{attributeFilter:t}=o.getInstance();return t.filterSegment(s.SPAN_EVENT,e)&s.SPAN_EVENT}toStreamingFormat(){return{trace_id:this._traceId,intrinsics:this._intrinsicAttributes,user_attributes:this._customAttributes,agent_attributes:this._agentAttributes}}static fromSegment(e,t=null,r=!1){const n=e.getSpanContext();if(n.hasError&&!e.transaction.hasIgnoredErrorStatusCode()){const t=n.errorDetails;e.addSpanAttribute("error.message",t.message),e.addSpanAttribute("error.class",t.type),t.expected&&e.addSpanAttribute("error.expected",t.expected)}const i=e.attributes.get(s.SPAN_EVENT),o=n.customAttributes.get(s.SPAN_EVENT),a=e.transaction,c=a.traceId;let u=null;u=d.isHttpSegment(e)?new d(c,i,o):h.isDatastoreSegment(e)?new h(c,i,o):new p(c,i,o);for(const[e,t]of Object.entries(n.intrinsicAttributes))u.addIntrinsicAttribute(e,t);return u.addIntrinsicAttribute("guid",e.id),u.addIntrinsicAttribute("parentId",t),u.addIntrinsicAttribute("transactionId",a.id),u.addIntrinsicAttribute("sampled",a.sampled),u.addIntrinsicAttribute("priority",a.priority),u.addIntrinsicAttribute("name",e.name),r&&(u.addIntrinsicAttribute("trustedParentId",a.traceContext.trustedParentId),a.traceContext.tracingVendors&&u.addIntrinsicAttribute("tracingVendors",a.traceContext.tracingVendors)),a.baseSegment===e&&u.addIntrinsicAttribute("nr.entryPoint",!0),u.addIntrinsicAttribute("timestamp",e.timer.start),u.addIntrinsicAttribute("duration",e.timer.getDurationInMillis()/1e3),u}}class d extends p{constructor(e,t,r){super(e,t,r),this.addIntrinsicAttribute("category",a),this.addIntrinsicAttribute("component",t.library||"http"),this.addIntrinsicAttribute("span.kind","client"),t.library&&(t.library=null),t.url&&(this.addAgentAttribute("http.url",t.url),t.url=null),t.procedure&&(this.addAgentAttribute("http.method",t.procedure),t.procedure=null)}static isHttpSegment(e){return l.test(e.name)}}class h extends p{constructor(e,t,r){if(super(e,t,r),this.addIntrinsicAttribute("category",c),this.addIntrinsicAttribute("span.kind","client"),t.product&&(this.addIntrinsicAttribute("component",t.product),t.product=null),t.collection&&(this.addAgentAttribute("db.collection",t.collection),t.collection=null),t.sql||t.sql_obfuscated){let e=null;t.sql_obfuscated?(e=g(t.sql_obfuscated),t.sql_obfuscated=null):t.sql&&(e=g(t.sql),t.sql=null),this.addAgentAttribute("db.statement",e,!0)}if(t.database_name&&(this.addAgentAttribute("db.instance",t.database_name),t.database_name=null),t.host){if(this.addAgentAttribute("peer.hostname",t.host),t.port_path_or_id){const e=`${t.host}:${t.port_path_or_id}`;this.addAgentAttribute("peer.address",e),t.port_path_or_id=null}t.host=null}}static isDatastoreSegment(e){return f.test(e.name)}}function g(e){let t=i(e,1997);return t!==e&&(t+="..."),t}e.exports=p},function(e,t,r){"use strict";const n=r(249);e.exports=class{constructor(e){e&&this.addAttributes(e)}addAttribute(e,t){const r=n(t);return!!r&&(this[e]=r,!0)}addAttributes(e){if(e)for(let[t,r]of Object.entries(e))this.addAttribute(t,r)}}},function(e,t,r){"use strict";e.exports=function(e){if(null==e)return;let t=null;switch(typeof e){case"string":t="string_value";break;case"boolean":t="bool_value";break;case"number":t=Number.isInteger(e)?"int_value":"double_value";break;default:t=null}return t?{[t]:e}:void 0}},function(e,t,r){"use strict";(function(t){const n=r(251),i=r(274),o=r(0).child({component:"grpc_connection"}),s=r(9),a=r(2),c=r(3),u={flaky:"NEWRELIC_GRPCCONNECTION_METADATA_FLAKY",delay:"NEWRELIC_GRPCCONNECTION_METADATA_DELAY",flaky_code:"NEWRELIC_GRPCCONNECTION_METADATA_FLAKY_CODE",success_delay_ms:"NEWRELIC_GRPCCONNECTION_METADATA_SUCCESS_DELAY_MS"},l=r(276),f={keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0},p=t+"../../../lib/grpc/endpoints/infinite-tracing/v1.proto";e.exports=class extends s{constructor(e,t,r){super(),this._reconnectDelayMs=r||15e3,this._metrics=t,this._setState(l.disconnected),this._licensekey=null,this._runId=null,this._requestHeadersMap=null,this._endpoint=this.getTraceObserverEndpoint(e),this._client=null,this.stream=null}setConnectionDetails(e,t,r,n){return this._licenseKey=e,this._runId=t,this._requestHeadersMap=r,this._rootCerts=n,this}getTraceObserverEndpoint(e){return`${e.host}:${e.port}`}_setState(e,t=null){this._state=e,this.emit(l[e],t)}connectSpans(){if(this._state===l.disconnected){this._setState(l.connecting),o.trace("Connecting to gRPC endpoint.");try{this.stream=this._connectSpans(),this._setState(l.connected,this.stream)}catch(e){o.warn(e,"Unexpected error establishing gRPC stream, will not attempt reconnect."),this._disconnect()}}}disconnect(){this._state!==l.disconnected&&this._disconnect()}_getMetadata(e,t,r,n){const o=new i.Metadata;if(o.add("license_key",e),o.add("agent_run_token",t),r)for(const[e,t]of Object.entries(r))o.add(e.toLowerCase(),t);return this._setTestMetadata(o,n),o}_setTestMetadata(e,t){for(const[r,n]of Object.entries(u)){const i=parseInt(t[n],10);i&&(o.trace("Adding %s metadata: %s",r,i),e.add(r,i))}}_reconnect(e=0){this._disconnect(),o.trace("Reconnecting to gRPC endpoint in [%s] seconds",e),setTimeout(this.connectSpans.bind(this),e)}_disconnect(){if(o.trace("Disconnecting from gRPC endpoint."),this.stream){this.stream.removeAllListeners();const e=this.stream;this.stream.on("status",(function(t){o.trace("End stream status received [%s]: %s",t.code,t.details),e.removeAllListeners()})),this.stream.on("error",(function(e){o.trace("End stream error received. Code: [%s]: %s",e.code,e.details)})),this.stream.end(),this.stream=null}this._setState(l.disconnected)}_setupSpanStreamObservers(e){e.on("data",(function(e){o.traceEnabled()&&o.trace("gRPC span response stream: %s",JSON.stringify(e))})),e.on("status",e=>{o.trace("gRPC Status Received [%s]: %s",e.code,e.details);const t=i.status[e.code]?i.status[e.code]:"UNKNOWN";i.status[i.status.UNIMPLEMENTED]===t?(this._metrics.getOrCreateMetric(a.INFINITE_TRACING.SPAN_RESPONSE_GRPC_UNIMPLEMENTED).incrementCallCount(),o.info("[UNIMPLEMENTED]: Trace Obserserver is no longer available. Shutting down connection."),this._disconnect()):i.status[i.status.OK]===t?this._reconnect():(this._metrics.getOrCreateMetric(c.format(a.INFINITE_TRACING.SPAN_RESPONSE_GRPC_STATUS,t)).incrementCallCount(),this._reconnect(this._reconnectDelayMs))}),e.on("error",e=>{this._metrics.getOrCreateMetric(a.INFINITE_TRACING.SPAN_RESPONSE_ERROR).incrementCallCount(),o.warn("Span stream error. Code: [%s]: %s",e.code,e.details)})}_generateCredentials(e){let t=null;const r=process.env.NEWRELIC_GRPCCONNECTION_CA,n=this._rootCerts||r;if(n){o.debug("Infinite tracing root certificates found to attach to requests.");try{t=Buffer.from(n,"utf-8")}catch(e){o.warn("Failed to create buffer from rootCerts, proceeding without.",e)}}return e.credentials.createSsl(t)}_connectSpans(){this._client||(this._client=this._createClient(this._endpoint));const e=this._getMetadata(this._licenseKey,this._runId,this._requestHeadersMap,process.env),t=this._client.recordSpan(e);return this._setupSpanStreamObservers(t),t}_createClient(e){o.trace("Creating gRPC client for: ",e);const t=n.loadSync(p,f),r=i.loadPackageDefinition(t).com.newrelic.trace.v1,s=this._generateCredentials(i);return new r.IngestService(e,s)}}}).call(this,"/")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});
/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
const n=r(30),i=r(8),o=r(106),s=r(269),a=r(270),c={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function u(e,t){const r=(n=t,i=e.name,""===n?i:n+"."+i);var n,i;return function(e){return e instanceof o.Service||e instanceof o.Type||e instanceof o.Enum}(e)?[[r,e]]:function(e){return e instanceof o.Namespace||e instanceof o.Root}(e)&&void 0!==e.nested?Object.keys(e.nested).map(t=>u(e.nested[t],r)).reduce((e,t)=>e.concat(t),[]):[]}function l(e,t){return function(r){return e.toObject(e.decode(r),t)}}function f(e){return function(t){const r=e.fromObject(t);return e.encode(r).finish()}}function p(e,t,r,n){const i=e.resolvedRequestType,o=e.resolvedResponseType;return{path:"/"+t+"/"+e.name,requestStream:!!e.requestStream,responseStream:!!e.responseStream,requestSerialize:f(i),requestDeserialize:l(i,r),responseSerialize:f(o),responseDeserialize:l(o,r),originalName:a(e.name),requestType:d(i,n),responseType:d(o,n)}}function d(e,t){const r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:r.$type.toObject(r,c),fileDescriptorProtos:t}}function h(e,t,r,n){if(e instanceof o.Service)return function(e,t,r,n){const i={};for(const o of e.methodsArray)i[o.name]=p(o,t,r,n);return i}(e,t,r,n);if(e instanceof o.Type)return d(e,n);if(e instanceof o.Enum)return function(e,t){const r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:r.$type.toObject(r,c),fileDescriptorProtos:t}}(e,n);throw new Error("Type mismatch in reflection object handling")}function g(e,t){const r={};e.resolveAll();const n=e.toDescriptor("proto3").file.map(e=>Buffer.from(s.FileDescriptorProto.encode(e).finish()));for(const[i,o]of u(e,""))r[i]=h(o,i,t,n);return r}function m(e,t){const r=e.resolvePath;e.resolvePath=(e,o)=>{if(i.isAbsolute(o))return o;for(const e of t){const t=i.join(e,o);try{return n.accessSync(t,n.constants.R_OK),t}catch(e){continue}}return process.emitWarning(`${o} not found in any of the include paths ${t}`),r(e,o)}}function y(e,t){t=t||{};const r=o.Root.fromDescriptor(e);return r.resolveAll(),g(r,t)}t.load=function(e,t){const r=new o.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));m(r,t.includeDirs)}return r.load(e,t).then(e=>(e.resolveAll(),g(r,t)))},t.loadSync=function(e,t){const r=new o.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))throw new Error("The includeDirs option must be an array");m(r,t.includeDirs)}return r.loadSync(e,t).resolveAll(),g(r,t)},t.loadFileDescriptorSetFromBuffer=function(e,t){return y(s.FileDescriptorSet.decode(e),t)},t.loadFileDescriptorSetFromObject=function(e,t){return y(s.FileDescriptorSet.fromObject(e),t)};const v=r(271),b=r(117),E=r(272),w=r(273);o.common("api",v.nested.google.nested.protobuf.nested),o.common("descriptor",b.nested.google.nested.protobuf.nested),o.common("source_context",E.nested.google.nested.protobuf.nested),o.common("type",w.nested.google.nested.protobuf.nested)},function(e,t,r){"use strict";var n=e.exports=r(253);n.build="full",n.tokenize=r(116),n.parse=r(267),n.common=r(268),n.Root._configure(n.Type,n.parse,n.common)},function(e,t,r){"use strict";var n=e.exports=r(254);n.build="light",n.load=function(e,t,r){return"function"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)},n.loadSync=function(e,t){return t||(t=new n.Root),t.loadSync(e)},n.encoder=r(111),n.decoder=r(112),n.verifier=r(113),n.converter=r(114),n.ReflectionObject=r(28),n.Namespace=r(37),n.Root=r(64),n.Enum=r(12),n.Type=r(59),n.Field=r(20),n.OneOf=r(38),n.MapField=r(60),n.Service=r(61),n.Method=r(62),n.Message=r(63),n.wrappers=r(115),n.types=r(29),n.util=r(4),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},function(e,t,r){"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(57),n.BufferWriter=r(261),n.Reader=r(58),n.BufferReader=r(262),n.util=r(14),n.rpc=r(109),n.roots=r(110),n.configure=i,i()},function(e,t,r){"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var i=new Array(64),o=new Array(123),s=0;s<64;)o[i[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;n.encode=function(e,t,r){for(var n,o=null,s=[],a=0,c=0;t<r;){var u=e[t++];switch(c){case 0:s[a++]=i[u>>2],n=(3&u)<<4,c=1;break;case 1:s[a++]=i[n|u>>4],n=(15&u)<<2,c=2;break;case 2:s[a++]=i[n|u>>6],s[a++]=i[63&u],c=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=i[n],s[a++]=61,1===c&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};n.decode=function(e,t,r){for(var n,i=r,s=0,a=0;a<e.length;){var c=e.charCodeAt(a++);if(61===c&&s>1)break;if(void 0===(c=o[c]))throw Error("invalid encoding");switch(s){case 0:n=c,s=1;break;case 1:t[r++]=n<<2|(48&c)>>4,n=c,s=2;break;case 2:t[r++]=(15&n)<<4|(60&c)>>2,n=c,s=3;break;case 3:t[r++]=(3&n)<<6|c,s=0}}if(1===s)throw Error("invalid encoding");return r-i},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,r){"use strict";function n(){this._listeners={}}e.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},function(e,t,r){"use strict";function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),i=2*(n>>31)+1,o=n>>>23&255,s=8388607&n;return 255===o?s?NaN:i*(1/0):0===o?1401298464324817e-60*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=r.bind(null,s),e.readFloatBE=r.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():function(){function t(e,t,r,n,i,o){var s=n<0?1:0;if(s&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((s<<31|2146435072)>>>0,i,o+r);else{var a;if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,i,o+t),e((s<<31|a/4294967296)>>>0,i,o+r);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=n*Math.pow(2,-c))>>>0,i,o+t),e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,i,o+r)}}}function r(e,t,r,n,i){var o=e(n,i+t),s=e(n,i+r),a=2*(s>>31)+1,c=s>>>20&2047,u=4294967296*(1048575&s)+o;return 2047===c?u?NaN:a*(1/0):0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=r.bind(null,s,0,4),e.readDoubleBE=r.bind(null,a,4,0)}(),e}function i(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function o(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=n(n)},function(e,t,r){"use strict";var n=t;n.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],s=0;t<r;)(n=e[t++])<128?o[s++]=n:n>191&&n<224?o[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},n.write=function(e,t,r){for(var n,i,o=r,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(s+1)))?(n=65536+((1023&n)<<10)+(1023&i),++s,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-o}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=r||8192,i=n>>>1,o=null,s=n;return function(r){if(r<1||r>i)return e(r);s+r>n&&(o=e(n),s=0);var a=t.call(o,s,s+=r);return 7&s&&(s=1+(7|s)),a}}},function(e,t,r){"use strict";e.exports=i;var n=r(14);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===s?o:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},function(e,t,r){"use strict";e.exports=o;var n=r(57);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(14);function o(){n.call(this)}function s(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},o._configure()},function(e,t,r){"use strict";e.exports=o;var n=r(58);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(14);function o(e){n.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},function(e,t,r){"use strict";e.exports=i;var n=r(14);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,r,i,o);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,r){if(e)return a.emit("error",e,t),s(e);if(null!==r){if(!(r instanceof i))try{r=i[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",r,t),s(null,r)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){s(e)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,r){"use strict";function n(e,t){"string"==typeof e&&(t=e,e=void 0);var r=[];function i(e){if("string"!=typeof e){var t=o();if(n.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var s=Object.keys(e),a=new Array(s.length+1),c=new Array(s.length),u=0;u<s.length;)a[u]=s[u],c[u]=e[s[u++]];return a[u]=t,Function.apply(null,a).apply(null,c)}return Function(t)()}for(var l=new Array(arguments.length-1),f=0;f<l.length;)l[f]=arguments[++f];if(f=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var r=l[f++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"})),f!==l.length)throw Error("parameter count mismatch");return r.push(e),i}function o(n){return"function "+(n||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}return i.toString=o,i}e.exports=n,n.verbose=!1},function(e,t,r){"use strict";e.exports=o;var n=r(107),i=r(108)("fs");function o(e,t,r){return"function"==typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&i&&i.readFile?i.readFile(e,(function(n,i){return n&&"undefined"!=typeof XMLHttpRequest?o.xhr(e,t,r):n?r(n):r(null,t.binary?i:i.toString("utf8"))})):o.xhr(e,t,r):n(o,this,e,t)}o.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var i=0;i<n.responseText.length;++i)e.push(255&n.responseText.charCodeAt(i))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)}},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},function(e,t,r){"use strict";var n=t,i=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},o=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=i(e),n="";r&&(n=t.shift()+"/");for(var o=0;o<t.length;)".."===t[o]?o>0&&".."!==t[o-1]?t.splice(--o,2):r?t.splice(o,1):++o:"."===t[o]?t.splice(o,1):++o;return n+t.join("/")};n.resolve=function(e,t,r){return r||(t=o(t)),i(t)?t:(r||(e=o(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?o(e+"/"+t):t)}},function(e,t,r){"use strict";e.exports=C,C.filename=null,C.defaults={keepCase:!1};var n=r(116),i=r(64),o=r(59),s=r(20),a=r(60),c=r(38),u=r(12),l=r(61),f=r(62),p=r(29),d=r(4),h=/^[1-9][0-9]*$/,g=/^-?[1-9][0-9]*$/,m=/^0[x][0-9a-fA-F]+$/,y=/^-?0[x][0-9a-fA-F]+$/,v=/^0[0-7]+$/,b=/^-?0[0-7]+$/,E=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,w=/^[a-zA-Z_][a-zA-Z_0-9]*$/,_=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,A=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function C(e,t,r){t instanceof i||(r=t,t=new i),r||(r=C.defaults);var T,S,I,N,O,R=r.preferTrailingComment||!1,M=n(e,r.alternateCommentMode||!1),x=M.next,D=M.push,k=M.peek,B=M.skip,j=M.cmnt,P=!0,F=!1,L=t,U=r.keepCase?function(e){return e}:d.camelCase;function V(e,t,r){var n=C.filename;return r||(C.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+M.line+")")}function Q(){var e,t=[];do{if('"'!==(e=x())&&"'"!==e)throw V(e);t.push(x()),B(e),e=k()}while('"'===e||"'"===e);return t.join("")}function G(e){var t=x();switch(t){case"'":case'"':return D(t),Q();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var r=1;"-"===e.charAt(0)&&(r=-1,e=e.substring(1));switch(e){case"inf":case"INF":case"Inf":return r*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(h.test(e))return r*parseInt(e,10);if(m.test(e))return r*parseInt(e,16);if(v.test(e))return r*parseInt(e,8);if(E.test(e))return r*parseFloat(e);throw V(e,"number",t)}(t,!0)}catch(r){if(e&&_.test(t))return t;throw V(t,"value")}}function W(e,t){var r,n;do{!t||'"'!==(r=k())&&"'"!==r?e.push([n=Y(x()),B("to",!0)?Y(x()):n]):e.push(Q())}while(B(",",!0));B(";")}function Y(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw V(e,"id");if(g.test(e))return parseInt(e,10);if(y.test(e))return parseInt(e,16);if(b.test(e))return parseInt(e,8);throw V(e,"id")}function z(){if(void 0!==T)throw V("package");if(T=x(),!_.test(T))throw V(T,"name");L=L.define(T),B(";")}function H(){var e,t=k();switch(t){case"weak":e=I||(I=[]),x();break;case"public":x();default:e=S||(S=[])}t=Q(),B(";"),e.push(t)}function q(){if(B("="),N=Q(),!(F="proto3"===N)&&"proto2"!==N)throw V(N,"syntax");B(";")}function J(e,t){switch(t){case"option":return K(e,t),B(";"),!0;case"message":return function(e,t){if(!w.test(t=x()))throw V(t,"type name");var r=new o(t);X(r,(function(e){if(!J(r,e))switch(e){case"map":!function(e){B("<");var t=x();if(void 0===p.mapKey[t])throw V(t,"type");B(",");var r=x();if(!_.test(r))throw V(r,"type");B(">");var n=x();if(!w.test(n))throw V(n,"name");B("=");var i=new a(U(n),Y(x()),t,r);X(i,(function(e){if("option"!==e)throw V(e);K(i,e),B(";")}),(function(){te(i)})),e.add(i)}(r);break;case"required":case"repeated":Z(r,e);break;case"optional":Z(r,F?"proto3_optional":"optional");break;case"oneof":!function(e,t){if(!w.test(t=x()))throw V(t,"name");var r=new c(U(t));X(r,(function(e){"option"===e?(K(r,e),B(";")):(D(e),Z(r,"optional"))})),e.add(r)}(r,e);break;case"extensions":W(r.extensions||(r.extensions=[]));break;case"reserved":W(r.reserved||(r.reserved=[]),!0);break;default:if(!F||!_.test(e))throw V(e);D(e),Z(r,"optional")}})),e.add(r)}(e,t),!0;case"enum":return function(e,t){if(!w.test(t=x()))throw V(t,"name");var r=new u(t);X(r,(function(e){switch(e){case"option":K(r,e),B(";");break;case"reserved":W(r.reserved||(r.reserved=[]),!0);break;default:!function(e,t){if(!w.test(t))throw V(t,"name");B("=");var r=Y(x(),!0),n={};X(n,(function(e){if("option"!==e)throw V(e);K(n,e),B(";")}),(function(){te(n)})),e.add(t,r,n.comment)}(r,e)}})),e.add(r)}(e,t),!0;case"service":return function(e,t){if(!w.test(t=x()))throw V(t,"service name");var r=new l(t);X(r,(function(e){if(!J(r,e)){if("rpc"!==e)throw V(e);!function(e,t){var r=j(),n=t;if(!w.test(t=x()))throw V(t,"name");var i,o,s,a,c=t;B("("),B("stream",!0)&&(o=!0);if(!_.test(t=x()))throw V(t);i=t,B(")"),B("returns"),B("("),B("stream",!0)&&(a=!0);if(!_.test(t=x()))throw V(t);s=t,B(")");var u=new f(c,n,i,s,o,a);u.comment=r,X(u,(function(e){if("option"!==e)throw V(e);K(u,e),B(";")})),e.add(u)}(r,e)}})),e.add(r)}(e,t),!0;case"extend":return function(e,t){if(!_.test(t=x()))throw V(t,"reference");var r=t;X(null,(function(t){switch(t){case"required":case"repeated":Z(e,t,r);break;case"optional":Z(e,F?"proto3_optional":"optional",r);break;default:if(!F||!_.test(t))throw V(t);D(t),Z(e,"optional",r)}}))}(e,t),!0}return!1}function X(e,t,r){var n=M.line;if(e&&("string"!=typeof e.comment&&(e.comment=j()),e.filename=C.filename),B("{",!0)){for(var i;"}"!==(i=x());)t(i);B(";",!0)}else r&&r(),B(";"),e&&("string"!=typeof e.comment||R)&&(e.comment=j(n)||e.comment)}function Z(e,t,r){var n=x();if("group"!==n){if(!_.test(n))throw V(n,"type");var i=x();if(!w.test(i))throw V(i,"name");i=U(i),B("=");var a=new s(i,Y(x()),n,t,r);if(X(a,(function(e){if("option"!==e)throw V(e);K(a,e),B(";")}),(function(){te(a)})),"proto3_optional"===t){var u=new c("_"+i);a.setOption("proto3_optional",!0),u.add(a),e.add(u)}else e.add(a);F||!a.repeated||void 0===p.packed[n]&&void 0!==p.basic[n]||a.setOption("packed",!1,!0)}else!function(e,t){var r=x();if(!w.test(r))throw V(r,"name");var n=d.lcFirst(r);r===n&&(r=d.ucFirst(r));B("=");var i=Y(x()),a=new o(r);a.group=!0;var c=new s(n,i,r,t);c.filename=C.filename,X(a,(function(e){switch(e){case"option":K(a,e),B(";");break;case"required":case"repeated":Z(a,e);break;case"optional":Z(a,F?"proto3_optional":"optional");break;default:throw V(e)}})),e.add(a).add(c)}(e,t)}function K(e,t){var r=B("(",!0);if(!_.test(t=x()))throw V(t,"name");var n,i=t,o=i;r&&(B(")"),o=i="("+i+")",t=k(),A.test(t)&&(n=t.substr(1),i+=t,x())),B("="),function(e,t,r,n){e.setParsedOption&&e.setParsedOption(t,r,n)}(e,o,$(e,i),n)}function $(e,t){if(B("{",!0)){for(var r={};!B("}",!0);){if(!w.test(O=x()))throw V(O,"name");var n,i=O;"{"===k()?n=$(e,t+"."+O):(B(":"),"{"===k()?n=$(e,t+"."+O):(n=G(!0),ee(e,t+"."+O,n)));var o=r[i];o&&(n=[].concat(o).concat(n)),r[i]=n,B(",",!0)}return r}var s=G(!0);return ee(e,t,s),s}function ee(e,t,r){e.setOption&&e.setOption(t,r)}function te(e){if(B("[",!0)){do{K(e,"option")}while(B(",",!0));B("]")}return e}for(;null!==(O=x());)switch(O){case"package":if(!P)throw V(O);z();break;case"import":if(!P)throw V(O);H();break;case"syntax":if(!P)throw V(O);q();break;case"option":K(L,O),B(";");break;default:if(J(L,O)){P=!1;continue}throw V(O)}return C.filename=null,{package:T,imports:S,weakImports:I,syntax:N,root:t}}},function(e,t,r){"use strict";e.exports=o;var n,i=/\/|\./;function o(e,t){i.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),o[e]=t}o("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),o("duration",{Duration:n={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),o("timestamp",{Timestamp:n}),o("empty",{Empty:{fields:{}}}),o("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),o("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),o("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),o.get=function(e){return o[e]||null}},function(e,t,r){"use strict";var n=r(106);e.exports=t=n.descriptor=n.Root.fromJSON(r(117)).lookup(".google.protobuf");var i=n.Namespace,o=n.Root,s=n.Enum,a=n.Type,c=n.Field,u=n.MapField,l=n.OneOf,f=n.Service,p=n.Method;o.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.FileDescriptorSet.decode(e));var r=new o;if(e.file)for(var n,i,u,l=0;l<e.file.length;++l){if(i=r,(n=e.file[l]).package&&n.package.length&&(i=r.define(n.package)),n.name&&n.name.length&&r.files.push(i.filename=n.name),n.messageType)for(u=0;u<n.messageType.length;++u)i.add(a.fromDescriptor(n.messageType[u],n.syntax));if(n.enumType)for(u=0;u<n.enumType.length;++u)i.add(s.fromDescriptor(n.enumType[u]));if(n.extension)for(u=0;u<n.extension.length;++u)i.add(c.fromDescriptor(n.extension[u]));if(n.service)for(u=0;u<n.service.length;++u)i.add(f.fromDescriptor(n.service[u]));var p=E(n.options,t.FileOptions);if(p){var d=Object.keys(p);for(u=0;u<d.length;++u)i.setOption(d[u],p[d[u]])}}return r},o.prototype.toDescriptor=function(e){var r=t.FileDescriptorSet.create();return function e(r,n,u){var l=t.FileDescriptorProto.create({name:r.filename||(r.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});u&&(l.syntax=u);r instanceof o||(l.package=r.fullName.substring(1));for(var p,d=0;d<r.nestedArray.length;++d)(p=r._nestedArray[d])instanceof a?l.messageType.push(p.toDescriptor(u)):p instanceof s?l.enumType.push(p.toDescriptor()):p instanceof c?l.extension.push(p.toDescriptor(u)):p instanceof f?l.service.push(p.toDescriptor()):p instanceof i&&e(p,n,u);l.options=w(r.options,t.FileOptions),l.messageType.length+l.enumType.length+l.extension.length+l.service.length&&n.push(l)}(this,r.file,e),r};var d=0;a.fromDescriptor=function(e,r){"number"==typeof e.length&&(e=t.DescriptorProto.decode(e));var n,i=new a(e.name.length?e.name:"Type"+d++,E(e.options,t.MessageOptions));if(e.oneofDecl)for(n=0;n<e.oneofDecl.length;++n)i.add(l.fromDescriptor(e.oneofDecl[n]));if(e.field)for(n=0;n<e.field.length;++n){var o=c.fromDescriptor(e.field[n],r);i.add(o),e.field[n].hasOwnProperty("oneofIndex")&&i.oneofsArray[e.field[n].oneofIndex].add(o)}if(e.extension)for(n=0;n<e.extension.length;++n)i.add(c.fromDescriptor(e.extension[n],r));if(e.nestedType)for(n=0;n<e.nestedType.length;++n)i.add(a.fromDescriptor(e.nestedType[n],r)),e.nestedType[n].options&&e.nestedType[n].options.mapEntry&&i.setOption("map_entry",!0);if(e.enumType)for(n=0;n<e.enumType.length;++n)i.add(s.fromDescriptor(e.enumType[n]));if(e.extensionRange&&e.extensionRange.length)for(i.extensions=[],n=0;n<e.extensionRange.length;++n)i.extensions.push([e.extensionRange[n].start,e.extensionRange[n].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(i.reserved=[],e.reservedRange)for(n=0;n<e.reservedRange.length;++n)i.reserved.push([e.reservedRange[n].start,e.reservedRange[n].end]);if(e.reservedName)for(n=0;n<e.reservedName.length;++n)i.reserved.push(e.reservedName[n])}return i},a.prototype.toDescriptor=function(e){var r,n=t.DescriptorProto.create({name:this.name});for(r=0;r<this.fieldsArray.length;++r){var i;if(n.field.push(i=this._fieldsArray[r].toDescriptor(e)),this._fieldsArray[r]instanceof u){var o=b(this._fieldsArray[r].keyType,this._fieldsArray[r].resolvedKeyType),l=b(this._fieldsArray[r].type,this._fieldsArray[r].resolvedType),f=11===l||14===l?this._fieldsArray[r].resolvedType&&_(this.parent,this._fieldsArray[r].resolvedType)||this._fieldsArray[r].type:void 0;n.nestedType.push(t.DescriptorProto.create({name:i.typeName,field:[t.FieldDescriptorProto.create({name:"key",number:1,label:1,type:o}),t.FieldDescriptorProto.create({name:"value",number:2,label:1,type:l,typeName:f})],options:t.MessageOptions.create({mapEntry:!0})}))}}for(r=0;r<this.oneofsArray.length;++r)n.oneofDecl.push(this._oneofsArray[r].toDescriptor());for(r=0;r<this.nestedArray.length;++r)this._nestedArray[r]instanceof c?n.field.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof a?n.nestedType.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof s&&n.enumType.push(this._nestedArray[r].toDescriptor());if(this.extensions)for(r=0;r<this.extensions.length;++r)n.extensionRange.push(t.DescriptorProto.ExtensionRange.create({start:this.extensions[r][0],end:this.extensions[r][1]}));if(this.reserved)for(r=0;r<this.reserved.length;++r)"string"==typeof this.reserved[r]?n.reservedName.push(this.reserved[r]):n.reservedRange.push(t.DescriptorProto.ReservedRange.create({start:this.reserved[r][0],end:this.reserved[r][1]}));return n.options=w(this.options,t.MessageOptions),n};var h=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;c.fromDescriptor=function(e,r){if("number"==typeof e.length&&(e=t.DescriptorProto.decode(e)),"number"!=typeof e.number)throw Error("missing field id");var n,i;switch(n=e.typeName&&e.typeName.length?e.typeName:function(e){switch(e){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+e)}(e.type),e.label){case 1:i=void 0;break;case 2:i="required";break;case 3:i="repeated";break;default:throw Error("illegal label: "+e.label)}var o=e.extendee;void 0!==e.extendee&&(o=o.length?o:void 0);var s=new c(e.name.length?e.name:"field"+e.number,e.number,n,i,o);if(s.options=E(e.options,t.FieldOptions),e.defaultValue&&e.defaultValue.length){var a=e.defaultValue;switch(a){case"true":case"TRUE":a=!0;break;case"false":case"FALSE":a=!1;break;default:h.exec(a)&&(a=parseInt(a))}s.setOption("default",a)}return function(e){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}(e.type)&&("proto3"===r?e.options&&!e.options.packed&&s.setOption("packed",!1):e.options&&e.options.packed||s.setOption("packed",!1)),s},c.prototype.toDescriptor=function(e){var r=t.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)r.type=11,r.typeName=n.util.ucFirst(this.name),r.label=3;else{switch(r.type=b(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:r.typeName=this.resolvedType?_(this.parent,this.resolvedType):this.type}switch(this.rule){case"repeated":r.label=3;break;case"required":r.label=2;break;default:r.label=1}}if(r.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(r.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(r.options=w(this.options,t.FieldOptions),null!=this.options.default&&(r.defaultValue=String(this.options.default))),"proto3"===e?this.packed||((r.options||(r.options=t.FieldOptions.create())).packed=!1):this.packed&&((r.options||(r.options=t.FieldOptions.create())).packed=!0),r};var g=0;s.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.EnumDescriptorProto.decode(e));var r={};if(e.value)for(var n=0;n<e.value.length;++n){var i=e.value[n].name,o=e.value[n].number||0;r[i&&i.length?i:"NAME"+o]=o}return new s(e.name&&e.name.length?e.name:"Enum"+g++,r,E(e.options,t.EnumOptions))},s.prototype.toDescriptor=function(){for(var e=[],r=0,n=Object.keys(this.values);r<n.length;++r)e.push(t.EnumValueDescriptorProto.create({name:n[r],number:this.values[n[r]]}));return t.EnumDescriptorProto.create({name:this.name,value:e,options:w(this.options,t.EnumOptions)})};var m=0;l.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.OneofDescriptorProto.decode(e)),new l(e.name&&e.name.length?e.name:"oneof"+m++)},l.prototype.toDescriptor=function(){return t.OneofDescriptorProto.create({name:this.name})};var y=0;f.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.ServiceDescriptorProto.decode(e));var r=new f(e.name&&e.name.length?e.name:"Service"+y++,E(e.options,t.ServiceOptions));if(e.method)for(var n=0;n<e.method.length;++n)r.add(p.fromDescriptor(e.method[n]));return r},f.prototype.toDescriptor=function(){for(var e=[],r=0;r<this.methodsArray.length;++r)e.push(this._methodsArray[r].toDescriptor());return t.ServiceDescriptorProto.create({name:this.name,method:e,options:w(this.options,t.ServiceOptions)})};var v=0;function b(e,t){switch(e){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(t instanceof s)return 14;if(t instanceof a)return t.group?10:11;throw Error("illegal type: "+e)}function E(e,t){if(e){for(var r,i,o,a,c=[],u=0;u<t.fieldsArray.length;++u)"uninterpretedOption"!==(i=(r=t._fieldsArray[u]).name)&&e.hasOwnProperty(i)&&(o=e[i],r.resolvedType instanceof s&&"number"==typeof o&&void 0!==r.resolvedType.valuesById[o]&&(o=r.resolvedType.valuesById[o]),c.push((a=i).substring(0,1)+a.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,(function(e,t){return"_"+t.toLowerCase()})),o));return c.length?n.util.toObject(c):void 0}}function w(e,t){if(e){for(var r,i,o=[],s=0,a=Object.keys(e);s<a.length;++s)if(i=e[r=a[s]],"default"!==r){var c=t.fields[r];(c||(c=t.fields[r=n.util.camelCase(r)]))&&o.push(r,i)}return o.length?t.fromObject(n.util.toObject(o)):void 0}}function _(e,t){var r=e.fullName.split("."),n=t.fullName.split("."),s=0,a=0,c=n.length-1;if(!(e instanceof o)&&t instanceof i)for(;s<r.length&&a<c&&r[s]===n[a];){var u=t.lookup(r[s++],!0);if(null!==u&&u!==t)break;++a}else for(;s<r.length&&a<c&&r[s]===n[a];++s,++a);return n.slice(a).join(".")}p.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.MethodDescriptorProto.decode(e)),new p(e.name&&e.name.length?e.name:"Method"+v++,"rpc",e.inputType,e.outputType,Boolean(e.clientStreaming),Boolean(e.serverStreaming),E(e.options,t.MethodOptions))},p.prototype.toDescriptor=function(){return t.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:w(this.options,t.MethodOptions)})}},function(e,t){var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o="[\\ud800-\\udfff]",s="["+i+"]",a="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",c="\\d+",u="[\\u2700-\\u27bf]",l="[a-z\\xdf-\\xf6\\xf8-\\xff]",f="[^\\ud800-\\udfff"+i+c+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",p="\\ud83c[\\udffb-\\udfff]",d="[^\\ud800-\\udfff]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",m="[A-Z\\xc0-\\xd6\\xd8-\\xde]",y="(?:"+l+"|"+f+")",v="(?:"+m+"|"+f+")",b="(?:"+a+"|"+p+")"+"?",E="[\\ufe0e\\ufe0f]?"+b+("(?:\\u200d(?:"+[d,h,g].join("|")+")[\\ufe0e\\ufe0f]?"+b+")*"),w="(?:"+[u,h,g].join("|")+")"+E,_="(?:"+[d+a+"?",a,h,g,o].join("|")+")",A=RegExp("[']","g"),C=RegExp(a,"g"),T=RegExp(p+"(?="+p+")|"+_+E,"g"),S=RegExp([m+"?"+l+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[s,m,"$"].join("|")+")",v+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[s,m+y,"$"].join("|")+")",m+"?"+y+"+(?:['](?:d|ll|m|re|s|t|ve))?",m+"+(?:['](?:D|LL|M|RE|S|T|VE))?",c,w].join("|"),"g"),I=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),N=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,O="object"==typeof global&&global&&global.Object===Object&&global,R="object"==typeof self&&self&&self.Object===Object&&self,M=O||R||Function("return this")();var x,D=(x={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"ss"},function(e){return null==x?void 0:x[e]});function k(e){return I.test(e)}function B(e){return k(e)?function(e){return e.match(T)||[]}(e):function(e){return e.split("")}(e)}var j=Object.prototype.toString,P=M.Symbol,F=P?P.prototype:void 0,L=F?F.toString:void 0;function U(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==j.call(e)}(e))return L?L.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function V(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}(e,t,r)}function Q(e){return null==e?"":U(e)}var G,W=(G=function(e,t,r){return t=t.toLowerCase(),e+(r?z(Q(t).toLowerCase()):t)},function(e){return function(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}(function(e,t,n){return e=Q(e),void 0===(t=n?void 0:t)?function(e){return N.test(e)}(e)?function(e){return e.match(S)||[]}(e):function(e){return e.match(r)||[]}(e):e.match(t)||[]}(function(e){return(e=Q(e))&&e.replace(n,D).replace(C,"")}(e).replace(A,"")),G,"")});var Y,z=(Y="toUpperCase",function(e){var t=k(e=Q(e))?B(e):void 0,r=t?t[0]:e.charAt(0),n=t?V(t,1).join(""):e.slice(1);return r[Y]()+n});e.exports=W},function(e){e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}')},function(e){e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},function(e){e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},function(e,t,r){"use strict";e.exports=new class{constructor(e="@grpc/grpc-js"){this.library=r(275)(e),this.credentials=this.library.credentials,this.Metadata=this.library.Metadata,this.loadPackageDefinition=this.library.loadPackageDefinition,this.status=this.library.status,this.Server=this.library.Server,this.ServerCredentials=this.library.ServerCredentials}}},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=275},function(e,t,r){"use strict";e.exports={disconnected:0,connecting:1,connected:2,0:"disconnected",1:"connecting",2:"connected"}},function(e,t,r){"use strict";const n=r(0).child({component:"span-streamer"}),i=r(2).INFINITE_TRACING;e.exports=class{constructor(e,t,r,i){this.stream=null,this.license_key=e,this.connection=t,this.queue_size=i,this.spans=[],this._metrics=r,this._writable=!1,this.connection.on("connected",e=>{n.info("Span streamer connected"),this.stream=e,this._writable=!0,this.sendQueue()}),this.connection.on("disconnected",()=>{n.info("Span streamer disconnected"),this.stream=null,this._writable=!1})}write(e){if(this._metrics.getOrCreateMetric(i.SEEN).incrementCallCount(),!this._writable)return this.spans.length<this.queue_size?void this.spans.push(e):(this._metrics.getOrCreateMetric(i.DROPPED).incrementCallCount(),void n.infoOncePer("SPAN_DROP_MSG",3e4,"Queue full, dropping spans. Will not warn again for 30 seconds."));const t=e.toStreamingFormat();try{this.send(t)}catch(e){n.error(e)}}send(e){if(this._writable=this.stream.write(e),this._metrics.getOrCreateMetric(i.SENT).incrementCallCount(),!this._writable){const e=Date.now(),t=this.drain.bind(this,e);this.stream.once("drain",t)}}drain(e){const t=Date.now()-e;this._metrics.getOrCreateMetric(i.DRAIN_DURATION).recordValue(t/1e3),this._writable=!0,this.sendQueue()}sendQueue(){for(n.trace("Sending spans from queue.");this.spans.length>0&&this._writable;){const e=this.spans.shift();this.send(e.toStreamingFormat())}n.trace("Finished sending spans from queue. Items left in queue: %s",this.spans.length)}connect(e,t){this.connection.setConnectionDetails(this.license_key,e,t),this.connection.connectSpans()}disconnect(){this.connection.disconnect()}createMetrics(){this._metrics.getOrCreateMetric(i.QUEUE_CAPACITY).recordValue(this.queue_size),this._metrics.getOrCreateMetric(i.QUEUE_SIZE).recordValue(this.spans.length)}}},function(e,t,r){"use strict";var n=r(34),i=r(8),o=r(21).fs,s=r(10),a=r(0).child({component:"environment"}),c=r(13),u={node_install_npm:"npm installed?",node_install_waf:"WAF build system installed?",node_use_openssl:"OpenSSL support?",node_shared_openssl:"Dynamically linked to OpenSSL?",node_shared_v8:"Dynamically linked to V8?",node_shared_zlib:"Dynamically linked to Zlib?",node_use_dtrace:"DTrace support?",node_use_etw:"Event Tracing for Windows (ETW) support?"},l=Object.create(null);function f(e){return l[e]||[]}function p(e,t){l[e]?-1===l[e].indexOf(t)&&l[e].push(t):l[e]=[t]}function d(e){delete l[e]}function h(e,t,r){function s(r,n){if(".bin"===r)return setImmediate(n);if("@"===r[0])return a.trace("Recursing into scoped module directory %s",r),h(i.resolve(e,r),t,n);var s=i.resolve(e,r,"package.json");o.readFile(s,(function(e,i){if(e)return a.debug(e,"Could not read %s.",s),n();var o=null,c=null;try{var u=JSON.parse(i);o=u.name,c=u.version}catch(t){a.debug(e,"Could not parse package file %s.",s)}t.push([o||r,c||"<unknown>"]),n()}))}"function"==typeof t&&(r=t,t=[]),n.waterfall([n.apply(o.readdir,e),function(e,t){n.eachLimit(e,2,s,t)}],(function(n){if(n)return a.trace(n,"Could not list packages in %s (probably not an error)",e),r();r(null,t)}))}function g(e,t,r,s){function c(s,c){var u=i.resolve(e,s,"node_modules");o.realpath(u,(function(e,i){return e?("ENOENT"!==e.code&&a.debug(e,"Failed to resolve candidate real path %s",u),c()):r[i]?(a.trace("Not revisiting %s (from %s)",i,u),c()):(r[i]=!0,void n.series([n.apply(h,i,t),n.apply(g,i,t,r)],(function(e){e&&a.debug(e,"Failed to list dependencies in %s",i),c()})))}))}"function"==typeof t&&(s=t,t=[],r=Object.create(null)),"function"==typeof r&&(s=r,Array.isArray(t)?r=Object.create(null):(r=t,t=[])),n.waterfall([n.apply(o.readdir,e),function(e,t){n.eachLimit(e,2,c,t)}],(function(r){if(r)return a.trace(r,"Could not read directories in %s (probably not an error)",e),s();s(null,t)}))}function m(e){var t=[],r=[],o=process.cwd(),s=Object.create(null);n.whilst((function(e){return e(null,o)}),(function(e){var a=i.resolve(o,"node_modules");n.series([n.apply(h,a,t),n.apply(g,a,r,s)],(function(t){o===(o=i.dirname(o))&&(o=null),e(t)}))}),(function(n){n?e(n):e(null,{packages:t,dependencies:r})}))}function y(e,t){var r=[],i=[];n.series([n.apply(h,e,r),n.apply(g,e,i)],(function(e){e?t(e):t(null,{packages:r,dependencies:i})}))}function v(e){if(process.config&&process.config.variables){var t=process.config.variables.node_prefix;if(t){var r=i.resolve(t,"lib","node_modules");return y(r,e)}}setImmediate(e,null,{packages:[],dependencies:[]})}function b(e){var t=Object.create(null);return e.forEach((function(e){var r=e[0],n=e[1];t[r]?t[r].indexOf(n)<0&&t[r].push(n):t[r]=[n]})),Object.keys(t).map((function(e){return[e,t[e].join(", ")]})).sort().map((function(e){try{return c(e)}catch(e){return a.debug(e,"Unabled to stringify package version"),"<unknown>"}}))}function E(e){var t,r={packages:[],dependencies:[]};if(!process.env.NODE_PATH)return e(null,r);t="win32"===process.platform?process.env.NODE_PATH.split(";"):process.env.NODE_PATH.split(":"),n.eachLimit(t,2,(function(e,t){"/"!==e[0]&&(e=i.resolve(process.cwd(),e)),y(e,(function(e,n){!e&&n&&(r.packages.push.apply(r.packages,n.packages),r.dependencies.push.apply(r.dependencies,n.dependencies)),t(e)}))}),(function(t){e(t,r)}))}function w(e){var t=null;if("win32"===process.platform?process.env.USERDIR&&(t=process.env.USERDIR):process.env.HOME&&(t=process.env.HOME),!t)return e(null,null);n.mapSeries({home:i.resolve(t,".node_modules"),homeOld:i.resolve(t,".node_libraries")},y,(function(t,r){e(t,r)}))}function _(e){var t=e.name;return function(r){var n=Date.now();return a.trace("Starting %s",t),e((function(){var e=Date.now();a.trace("Finished %s in %dms",t,e-n),r.apply(this,arguments)}))}}function A(){var e=f("Framework"),t=f("Dispatcher"),r=f("Dispatcher Version");l=Object.create(null),e.length&&e.forEach((function(e){p("Framework",e)})),t.length&&t.forEach((function(e){p("Dispatcher",e)})),r.length&&t.forEach((function(e){p("Dispatcher Version",e)})),p("Processors",s.cpus().length),p("OS",s.type()),p("OS version",s.release()),p("Node.js version",process.version),p("Architecture",process.arch),"NODE_ENV"in process.env&&p("NODE_ENV","production"),function(){if(process.config&&process.config.variables){var e=process.config.variables;Object.keys(e).forEach((function(t){if(u[t]){var r=e[t];!0!==r&&1!==r||(r="yes"),!1!==r&&0!==r||(r="no"),p(u[t],r)}}))}}()}function C(e){A();var t=f("Packages"),r=f("Dependencies");t.length&&r.length?(l.Packages=t,l.Dependencies=r,setImmediate(e)):function(e){n.parallelLimit({local:_(m),global:_(v),other:_(E),home:_(w)},2,(function(t,r){if(t)return e(t);var n=r.local.packages;n.push.apply(n,r.global.packages),n.push.apply(n,r.other.packages);var i=r.local.dependencies;i.push.apply(i,r.global.dependencies),i.push.apply(i,r.other.dependencies),r.home&&(r.home.home&&(n.unshift.apply(n,r.home.home.packages),i.unshift.apply(i,r.home.home.dependencies)),r.home.homeOld&&(n.unshift.apply(n,r.home.homeOld.packages),i.unshift.apply(i,r.home.homeOld.dependencies))),p("Packages",b(n)),p("Dependencies",b(i)),e()}))}(e)}A();var T=!1;e.exports={setFramework:function(e){p("Framework",e)},setDispatcher:function(e,t,r){T||(T=!!r,d("Dispatcher Version"),d("Dispatcher"),t&&p("Dispatcher Version",t),p("Dispatcher",e))},clearFramework:function(){d("Framework")},clearDispatcher:function(){T=!1,d("Dispatcher"),d("Dispatcher Version")},listPackages:h,getJSON:function(e){C((function(t){if(t)e(t);else{var r=[];Object.keys(l).forEach((function(e){l[e].forEach((function(t){r.push([e,t])}))})),e(null,r)}}))},get:f,refresh:C}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.loggingMiddleware=void 0;var i=n(r(280)),o=n(r(290)),s=r(294),a=r(295),c=r(296),u=r(299),l=r(300),f=r(301);i.default.token("userID",(function(e){return null==e?void 0:e.user})),i.default.token("clientIP",(function(e){return null==e?void 0:e.clientIp})),i.default.token("requestID",(function(e){return null==e?void 0:e.id})),i.default.token("traceID",(function(e){return null==e?void 0:e.traceId})),t.loggingMiddleware=function(e){return[o.default(),f.userMiddleware({}),a.newrelicMiddleware({newrelic:e.newrelic}),c.clientIpMiddleware,u.traceIdMiddleware,l.nrAttrMiddleware,i.default(s.MORGAN_OUTPUT_FORMAT,{stream:{write:e.logger},skip:function(e,t){return e.originalUrl.includes("/actuator/health")}})]},t.default=t.loggingMiddleware},function(e,t,r){"use strict";
/*!
 * morgan
 * Copyright(c) 2010 Sencha Inc.
 * Copyright(c) 2011 TJ Holowaychuk
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */e.exports=u,e.exports.compile=l,e.exports.format=function(e,t){return u[e]=t,this},e.exports.token=function(e,t){return u[e]=t,this};var n=r(281),i=r(283)("morgan"),o=r(286)("morgan"),s=r(287),a=r(289),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function u(e,t){var r=e,n=t||{};e&&"object"==typeof e&&(r=(n=e).format||"default",o("morgan(options): use morgan("+("string"==typeof r?JSON.stringify(r):"format")+", options) instead")),void 0===r&&o("undefined format: specify a format");var c=n.immediate,p=n.skip||!1,d="function"!=typeof r?function(e){var t=u[e]||e||u.default;return"function"!=typeof t?l(t):t}(r):r,g=n.buffer,m=n.stream||process.stdout;g&&(o("buffer option"),m=function(e,t){var r=[],n=null;function i(){n=null,e.write(r.join("")),r.length=0}return{write:function(e){null===n&&(n=setTimeout(i,t)),r.push(e)}}}(m,"number"!=typeof g?1e3:g));return function(e,t,r){function n(){if(!1!==p&&p(e,t))i("skip request");else{var r=d(u,e,t);null!=r?(i("log request"),m.write(r+"\n")):i("skip line")}}e._startAt=void 0,e._startTime=void 0,e._remoteAddress=f(e),t._startAt=void 0,t._startTime=void 0,h.call(e),c?n():(a(t,h),s(t,n)),r()}}function l(e){if("string"!=typeof e)throw new TypeError("argument format must be a string");var t='  "use strict"\n  return '+String(JSON.stringify(e)).replace(/:([-\w]{2,})(?:\[([^\]]+)\])?/g,(function(e,t,r){var n="req, res",i="tokens["+String(JSON.stringify(t))+"]";return void 0!==r&&(n+=", "+String(JSON.stringify(r))),'" +\n    ('+i+"("+n+') || "-") + "'}));return new Function("tokens, req, res",t)}function f(e){return e.ip||e._remoteAddress||e.connection&&e.connection.remoteAddress||void 0}function p(e){return"boolean"!=typeof e.headersSent?Boolean(e._header):e.headersSent}function d(e){var t=String(e);return(1===t.length?"0":"")+t}function h(){this._startAt=process.hrtime(),this._startTime=new Date}u.format("combined",':remote-addr - :remote-user [:date[clf]] ":method :url HTTP/:http-version" :status :res[content-length] ":referrer" ":user-agent"'),u.format("common",':remote-addr - :remote-user [:date[clf]] ":method :url HTTP/:http-version" :status :res[content-length]'),u.format("default",':remote-addr - :remote-user [:date] ":method :url HTTP/:http-version" :status :res[content-length] ":referrer" ":user-agent"'),o.property(u,"default","default format: use combined format"),u.format("short",":remote-addr :remote-user :method :url HTTP/:http-version :status :res[content-length] - :response-time ms"),u.format("tiny",":method :url :status :res[content-length] - :response-time ms"),u.format("dev",(function e(t,r,n){var i=p(n)?n.statusCode:void 0,o=i>=500?31:i>=400?33:i>=300?36:i>=200?32:0,s=e[o];return s||(s=e[o]=l("[0m:method :url ["+o+"m:status[0m :response-time ms - :res[content-length][0m")),s(t,r,n)})),u.token("url",(function(e){return e.originalUrl||e.url})),u.token("method",(function(e){return e.method})),u.token("response-time",(function(e,t,r){if(e._startAt&&t._startAt)return(1e3*(t._startAt[0]-e._startAt[0])+1e-6*(t._startAt[1]-e._startAt[1])).toFixed(void 0===r?3:r)})),u.token("total-time",(function(e,t,r){if(e._startAt&&t._startAt){var n=process.hrtime(e._startAt);return(1e3*n[0]+1e-6*n[1]).toFixed(void 0===r?3:r)}})),u.token("date",(function(e,t,r){var n=new Date;switch(r||"web"){case"clf":return function(e){var t=e.getUTCDate(),r=e.getUTCHours(),n=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCFullYear(),s=c[e.getUTCMonth()];return d(t)+"/"+s+"/"+o+":"+d(r)+":"+d(n)+":"+d(i)+" +0000"}(n);case"iso":return n.toISOString();case"web":return n.toUTCString()}})),u.token("status",(function(e,t){return p(t)?String(t.statusCode):void 0})),u.token("referrer",(function(e){return e.headers.referer||e.headers.referrer})),u.token("remote-addr",f),u.token("remote-user",(function(e){var t=n(e);return t?t.name:void 0})),u.token("http-version",(function(e){return e.httpVersionMajor+"."+e.httpVersionMinor})),u.token("user-agent",(function(e){return e.headers["user-agent"]})),u.token("req",(function(e,t,r){var n=e.headers[r.toLowerCase()];return Array.isArray(n)?n.join(", "):n})),u.token("res",(function(e,t,r){if(p(t)){var n=t.getHeader(r);return Array.isArray(n)?n.join(", "):n}}))},function(e,t,r){"use strict";
/*!
 * basic-auth
 * Copyright(c) 2013 TJ Holowaychuk
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2016 Douglas Christopher Wilson
 * MIT Licensed
 */var n=r(282).Buffer;e.exports=function(e){if(!e)throw new TypeError("argument req is required");if("object"!=typeof e)throw new TypeError("argument req is required to be an object");return s(function(e){if(!e.headers||"object"!=typeof e.headers)throw new TypeError("argument req is required to have headers property");return e.headers.authorization}(e))},e.exports.parse=s;var i=/^ *(?:[Bb][Aa][Ss][Ii][Cc]) +([A-Za-z0-9._~+/-]+=*) *$/,o=/^([^:]*):(.*)$/;function s(e){if("string"==typeof e){var t=i.exec(e);if(t){var r,s=o.exec((r=t[1],n.from(r,"base64").toString()));if(s)return new a(s[1],s[2])}}}function a(e,t){this.name=e,this.pass=t}},function(e,t,r){var n=r(22),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"undefined"!=typeof process&&"renderer"===process.type?e.exports=r(284):e.exports=r(285)},function(e,t,r){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=r(118)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())},function(e,t,r){var n=r(42),i=r(3);(t=e.exports=r(118)).init=function(e){e.inspectOpts={};for(var r=Object.keys(t.inspectOpts),n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(){return s.write(i.format.apply(i,arguments)+"\n")},t.formatArgs=function(e){var r=this.namespace;if(this.useColors){var n=this.color,i="  [3"+n+";1m"+r+" [0m";e[0]=i+e[0].split("\n").join("\n"+i),e.push("[3"+n+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+r+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=a,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(o)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{});var o=parseInt(process.env.DEBUG_FD,10)||2;1!==o&&2!==o&&i.deprecate((function(){}),"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var s=1===o?process.stdout:2===o?process.stderr:function(e){var t;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":(t=new n.WriteStream(e))._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":var i=r(30);(t=new i.SyncWriteStream(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":var o=r(55);(t=new o.Socket({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(o);function a(){return process.env.DEBUG}t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)},t.enable(a())},function(e,t,r){
/*!
 * depd
 * Copyright(c) 2014-2018 Douglas Christopher Wilson
 * MIT Licensed
 */
var n=r(8).relative;e.exports=function(e){if(!e)throw new TypeError("argument namespace is required");var t=c(d()[1])[0];function r(e){a.call(r,e)}return r._file=t,r._ignored=function(e){if(process.noDeprecation)return!0;return o(process.env.NO_DEPRECATION||"",e)}(e),r._namespace=e,r._traced=function(e){if(process.traceDeprecation)return!0;return o(process.env.TRACE_DEPRECATION||"",e)}(e),r._warned=Object.create(null),r.function=g,r.property=m,r};var i=process.cwd();function o(e,t){for(var r=e.split(/[ ,]+/),n=String(t).toLowerCase(),i=0;i<r.length;i++){var o=r[i];if(o&&("*"===o||o.toLowerCase()===n))return!0}return!1}function s(e){var t=this.name+": "+this.namespace;this.message&&(t+=" deprecated "+this.message);for(var r=0;r<e.length;r++)t+="\n    at "+e[r].toString();return t}function a(e,t){var r,n,i=(r=process,n="deprecation",("function"!=typeof r.listenerCount?r.listeners(n).length:r.listenerCount(n))>0);if(i||!this._ignored){var o,s,a,p,h=0,g=!1,m=d(),v=this._file;for(t?(p=t,(a=c(m[1])).name=p.name,v=a[0]):a=p=c(m[h=2]);h<m.length;h++)if((s=(o=c(m[h]))[0])===v)g=!0;else if(s===this._file)v=this._file;else if(g)break;var b=o?p.join(":")+"__"+o.join(":"):void 0;if(void 0===b||!(b in this._warned)){this._warned[b]=!0;var E=e;if(E||(E=a!==p&&a.name?u(a):u(p)),i){var w=y(this._namespace,E,m.slice(h));process.emit("deprecation",w)}else{var _=(process.stderr.isTTY?f:l).call(this,E,o,m.slice(h));process.stderr.write(_+"\n","utf8")}}}}function c(e){var t=e.getFileName()||"<anonymous>",r=e.getLineNumber(),n=e.getColumnNumber();e.isEval()&&(t=e.getEvalOrigin()+", "+t);var i=[t,r,n];return i.callSite=e,i.name=e.getFunctionName(),i}function u(e){var t=e.callSite,r=e.name;r||(r="<anonymous@"+p(e)+">");var n=t.getThis(),i=n&&t.getTypeName();return"Object"===i&&(i=void 0),"Function"===i&&(i=n.name||i),i&&t.getMethodName()?i+"."+r:r}function l(e,t,r){var n=(new Date).toUTCString()+" "+this._namespace+" deprecated "+e;if(this._traced){for(var i=0;i<r.length;i++)n+="\n    at "+r[i].toString();return n}return t&&(n+=" at "+p(t)),n}function f(e,t,r){var n="[36;1m"+this._namespace+"[22;39m [33;1mdeprecated[22;39m [0m"+e+"[39m";if(this._traced){for(var i=0;i<r.length;i++)n+="\n    [36mat "+r[i].toString()+"[39m";return n}return t&&(n+=" [36m"+p(t)+"[39m"),n}function p(e){return n(i,e[0])+":"+e[1]+":"+e[2]}function d(){var e=Error.stackTraceLimit,t={},r=Error.prepareStackTrace;Error.prepareStackTrace=h,Error.stackTraceLimit=Math.max(10,e),Error.captureStackTrace(t);var n=t.stack.slice(1);return Error.prepareStackTrace=r,Error.stackTraceLimit=e,n}function h(e,t){return t}function g(e,t){if("function"!=typeof e)throw new TypeError("argument fn must be a function");var r=function(e){for(var t="",r=0;r<e;r++)t+=", arg"+r;return t.substr(2)}(e.length),n=c(d()[1]);return n.name=e.name,new Function("fn","log","deprecate","message","site",'"use strict"\nreturn function ('+r+") {log.call(deprecate, message, site)\nreturn fn.apply(this, arguments)\n}")(e,a,this,t,n)}function m(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(e,t);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable");var i=this,o=c(d()[1]);o.name=t,"value"in n&&(n=function(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t),i=n.value;return n.get=function(){return i},n.writable&&(n.set=function(e){return i=e}),delete n.value,delete n.writable,Object.defineProperty(e,t,n),n}(e,t));var s=n.get,u=n.set;"function"==typeof s&&(n.get=function(){return a.call(i,r,o),s.apply(this,arguments)}),"function"==typeof u&&(n.set=function(){return a.call(i,r,o),u.apply(this,arguments)}),Object.defineProperty(e,t,n)}function y(e,t,r){var n,i=new Error;return Object.defineProperty(i,"constructor",{value:y}),Object.defineProperty(i,"message",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(i,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(i,"namespace",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(i,"stack",{configurable:!0,enumerable:!1,get:function(){return void 0!==n?n:n=s.call(this,r)},set:function(e){n=e}}),i}},function(e,t,r){"use strict";
/*!
 * on-finished
 * Copyright(c) 2013 Jonathan Ong
 * Copyright(c) 2014 Douglas Christopher Wilson
 * MIT Licensed
 */e.exports=function(e,t){if(!1!==o(e))return i(t,null,e),e;return function(e,t){var r=e.__onFinished;r&&r.queue||(r=e.__onFinished=function(e){function t(r){if(e.__onFinished===t&&(e.__onFinished=null),t.queue){var n=t.queue;t.queue=null;for(var i=0;i<n.length;i++)n[i](r,e)}}return t.queue=[],t}(e),function(e,t){var r,i,o=!1;function s(e){r.cancel(),i.cancel(),o=!0,t(e)}function a(t){e.removeListener("socket",a),o||r===i&&(i=n([[t,"error","close"]],s))}if(r=i=n([[e,"end","finish"]],s),e.socket)return void a(e.socket);e.on("socket",a),void 0===e.socket&&function(e,t){var r=e.assignSocket;if("function"!=typeof r)return;e.assignSocket=function(e){r.call(this,e),t(e)}}(e,a)}(e,r));r.queue.push(t)}(e,t),e},e.exports.isFinished=o;var n=r(288),i="function"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))};function o(e){var t=e.socket;return"boolean"==typeof e.finished?Boolean(e.finished||t&&!t.writable):"boolean"==typeof e.complete?Boolean(e.upgrade||!t||!t.readable||e.complete&&!e.readable):void 0}},function(e,t,r){"use strict";
/*!
 * ee-first
 * Copyright(c) 2014 Jonathan Ong
 * MIT Licensed
 */function n(e,t){return function(r){for(var n=new Array(arguments.length),i=this,o="error"===e?r:null,s=0;s<n.length;s++)n[s]=arguments[s];t(o,i,e,n)}}e.exports=function(e,t){if(!Array.isArray(e))throw new TypeError("arg must be an array of [ee, events...] arrays");for(var r=[],i=0;i<e.length;i++){var o=e[i];if(!Array.isArray(o)||o.length<2)throw new TypeError("each array member must be [ee, events...]");for(var s=o[0],a=1;a<o.length;a++){var c=o[a],u=n(c,l);s.on(c,u),r.push({ee:s,event:c,fn:u})}}function l(){f(),t.apply(null,arguments)}function f(){for(var e,t=0;t<r.length;t++)(e=r[t]).ee.removeListener(e.event,e.fn)}function p(e){t=e}return p.cancel=f,p}},function(e,t,r){"use strict";
/*!
 * on-headers
 * Copyright(c) 2014 Douglas Christopher Wilson
 * MIT Licensed
 */function n(e,t){for(var r=0;r<t.length;r++)e.setHeader(t[r][0],t[r][1])}function i(e,t){for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n];i&&e.setHeader(i,t[i])}}function o(e){var t=arguments.length,r=t>1&&"string"==typeof arguments[1]?2:1,o=t>=r+1?arguments[r]:void 0;this.statusCode=e,Array.isArray(o)?n(this,o):o&&i(this,o);for(var s=new Array(Math.min(t,r)),a=0;a<s.length;a++)s[a]=arguments[a];return s}e.exports=function(e,t){if(!e)throw new TypeError("argument res is required");if("function"!=typeof t)throw new TypeError("argument listener must be a function");e.writeHead=function(e,t){var r=!1;return function(n){var i=o.apply(this,arguments);return r||(r=!0,t.call(this),"number"==typeof i[0]&&this.statusCode!==i[0]&&(i[0]=this.statusCode,i.length=1)),e.apply(this,i)}}(e.writeHead,t)}},function(e,t,r){"use strict";var n=r(291);e.exports=function(e){return(e=e||{}).uuidVersion=e.uuidVersion||"v4",e.setHeader=void 0===e.setHeader||!!e.setHeader,e.headerName=e.headerName||"X-Request-Id",e.attributeName=e.attributeName||"id",function(t,r,i){t[e.attributeName]=t.headers[e.headerName.toLowerCase()]||n[e.uuidVersion](e,e.buffer,e.offset),e.setHeader&&r.setHeader(e.headerName,t[e.attributeName]),i()}}},function(e,t,r){var n=r(292),i=r(293),o=i;o.v1=n,o.v4=i,e.exports=o},function(e,t,r){var n,i,o=r(120),s=r(121),a=0,c=0;e.exports=function(e,t,r){var u=t&&r||0,l=t||[],f=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==p){var d=o();null==f&&(f=n=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==p&&(p=i=16383&(d[6]<<8|d[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:c+1,m=h-a+(g-c)/1e4;if(m<0&&void 0===e.clockseq&&(p=p+1&16383),(m<0||h>a)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=h,c=g,i=p;var y=(1e4*(268435455&(h+=122192928e5))+g)%4294967296;l[u++]=y>>>24&255,l[u++]=y>>>16&255,l[u++]=y>>>8&255,l[u++]=255&y;var v=h/4294967296*1e4&268435455;l[u++]=v>>>8&255,l[u++]=255&v,l[u++]=v>>>24&15|16,l[u++]=v>>>16&255,l[u++]=p>>>8|128,l[u++]=255&p;for(var b=0;b<6;++b)l[u+b]=f[b];return t||s(l)}},function(e,t,r){var n=r(120),i=r(121);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MORGAN_OUTPUT_FORMAT=void 0,t.MORGAN_OUTPUT_FORMAT="time=:date[clf] userId=:userID requestId=:requestID traceId=:traceID requestIp=:remote-addr clientIp=:clientIP method=:method url=:url status=:status response=:response-time ms"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newrelicMiddleware=void 0,t.newrelicMiddleware=function(e){return function(t,r,n){t.app.locals.newrelic=e.newrelic,n()}},t.default=t.newrelicMiddleware},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.clientIpMiddleware=void 0;var i=n(r(297));t.clientIpMiddleware=function(e,t,r){e.clientIp=i.default.getClientIp(e)||void 0,r()}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r(298);function o(e){if(!i.existy(e))return null;if(i.not.string(e))throw new TypeError('Expected a string, got "'.concat(n(e),'"'));return e.split(",").map((function(e){var t=e.trim();if(t.includes(":")){var r=t.split(":");if(2===r.length)return r[0]}return t})).find(i.ip)}function s(e){if(e.headers){if(i.ip(e.headers["x-client-ip"]))return e.headers["x-client-ip"];var t=o(e.headers["x-forwarded-for"]);if(i.ip(t))return t;if(i.ip(e.headers["cf-connecting-ip"]))return e.headers["cf-connecting-ip"];if(i.ip(e.headers["fastly-client-ip"]))return e.headers["fastly-client-ip"];if(i.ip(e.headers["true-client-ip"]))return e.headers["true-client-ip"];if(i.ip(e.headers["x-real-ip"]))return e.headers["x-real-ip"];if(i.ip(e.headers["x-cluster-client-ip"]))return e.headers["x-cluster-client-ip"];if(i.ip(e.headers["x-forwarded"]))return e.headers["x-forwarded"];if(i.ip(e.headers["forwarded-for"]))return e.headers["forwarded-for"];if(i.ip(e.headers.forwarded))return e.headers.forwarded}if(i.existy(e.connection)){if(i.ip(e.connection.remoteAddress))return e.connection.remoteAddress;if(i.existy(e.connection.socket)&&i.ip(e.connection.socket.remoteAddress))return e.connection.socket.remoteAddress}return i.existy(e.socket)&&i.ip(e.socket.remoteAddress)?e.socket.remoteAddress:i.existy(e.info)&&i.ip(e.info.remoteAddress)?e.info.remoteAddress:i.existy(e.requestContext)&&i.existy(e.requestContext.identity)&&i.ip(e.requestContext.identity.sourceIp)?e.requestContext.identity.sourceIp:null}e.exports={getClientIpFromXForwardedFor:o,getClientIp:s,mw:function(e){var t=i.not.existy(e)?{}:e;if(i.not.object(t))throw new TypeError("Options must be an object!");var r=t.attributeName||"clientIp";return function(e,t,n){var i=s(e);Object.defineProperty(e,r,{get:function(){return i},configurable:!0}),n()}}}},function(e,t,r){var n,i;
/*!
 * is.js 0.8.0
 * Author: Aras Atasaygin
 */i=this,void 0===(n=function(){return i.is=function(){var e={VERSION:"0.8.0",not:{},all:{},any:{}},t=Object.prototype.toString,r=Array.prototype.slice,n=Object.prototype.hasOwnProperty;function i(e){return function(){return!e.apply(null,r.call(arguments))}}function o(e){return function(){for(var t=u(arguments),r=t.length,n=0;n<r;n++)if(!e.call(null,t[n]))return!1;return!0}}function s(e){return function(){for(var t=u(arguments),r=t.length,n=0;n<r;n++)if(e.call(null,t[n]))return!0;return!1}}var a={"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t}};function c(e,t){var r=t+"",n=+(r.match(/\d+/)||NaN),i=r.match(/^[<>]=?|/)[0];return a[i]?a[i](e,n):e==n||n!=n}function u(t){var n=r.call(t);return 1===n.length&&e.array(n[0])&&(n=n[0]),n}e.arguments=function(e){return"[object Arguments]"===t.call(e)||null!=e&&"object"==typeof e&&"callee"in e},e.array=Array.isArray||function(e){return"[object Array]"===t.call(e)},e.boolean=function(e){return!0===e||!1===e||"[object Boolean]"===t.call(e)},e.char=function(t){return e.string(t)&&1===t.length},e.date=function(e){return"[object Date]"===t.call(e)},e.domNode=function(t){return e.object(t)&&t.nodeType>0},e.error=function(e){return"[object Error]"===t.call(e)},e.function=function(e){return"[object Function]"===t.call(e)||"function"==typeof e},e.json=function(e){return"[object Object]"===t.call(e)},e.nan=function(e){return e!=e},e.null=function(e){return null===e},e.number=function(r){return e.not.nan(r)&&"[object Number]"===t.call(r)},e.object=function(e){return Object(e)===e},e.regexp=function(e){return"[object RegExp]"===t.call(e)},e.sameType=function(r,n){var i=t.call(r);return i===t.call(n)&&("[object Number]"!==i||!e.any.nan(r,n)||e.all.nan(r,n))},e.sameType.api=["not"],e.string=function(e){return"[object String]"===t.call(e)},e.undefined=function(e){return void 0===e},e.windowObject=function(e){return null!=e&&"object"==typeof e&&"setInterval"in e},e.empty=function(t){if(e.object(t)){var r=Object.getOwnPropertyNames(t).length;return!!(0===r||1===r&&e.array(t)||2===r&&e.arguments(t))}return""===t},e.existy=function(e){return null!=e},e.falsy=function(e){return!e},e.truthy=i(e.falsy),e.above=function(t,r){return e.all.number(t,r)&&t>r},e.above.api=["not"],e.decimal=function(t){return e.number(t)&&t%1!=0},e.equal=function(t,r){return e.all.number(t,r)?t===r&&1/t==1/r:e.all.string(t,r)||e.all.regexp(t,r)?""+t==""+r:!!e.all.boolean(t,r)&&t===r},e.equal.api=["not"],e.even=function(t){return e.number(t)&&t%2==0},e.finite=isFinite||function(t){return e.not.infinite(t)&&e.not.nan(t)},e.infinite=function(e){return e===1/0||e===-1/0},e.integer=function(t){return e.number(t)&&t%1==0},e.negative=function(t){return e.number(t)&&t<0},e.odd=function(t){return e.number(t)&&t%2==1},e.positive=function(t){return e.number(t)&&t>0},e.under=function(t,r){return e.all.number(t,r)&&t<r},e.under.api=["not"],e.within=function(t,r,n){return e.all.number(t,r,n)&&t>r&&t<n},e.within.api=["not"];var l={affirmative:/^(?:1|t(?:rue)?|y(?:es)?|ok(?:ay)?)$/,alphaNumeric:/^[A-Za-z0-9]+$/,caPostalCode:/^(?!.*[DFIOQU])[A-VXY][0-9][A-Z]\s?[0-9][A-Z][0-9]$/,creditCard:/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/,dateString:/^(1[0-2]|0?[1-9])([\/-])(3[01]|[12][0-9]|0?[1-9])(?:\2)(?:[0-9]{2})?[0-9]{2}$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,eppPhone:/^\+[0-9]{1,3}\.[0-9]{4,14}(?:x.+)?$/,hexadecimal:/^(?:0x)?[0-9a-fA-F]+$/,hexColor:/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,ipv4:/^(?:(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,ipv6:/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,nanpPhone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,socialSecurityNumber:/^(?!000|666)[0-8][0-9]{2}-?(?!00)[0-9]{2}-?(?!0000)[0-9]{4}$/,timeString:/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/,ukPostCode:/^[A-Z]{1,2}[0-9RCHNQ][0-9A-Z]?\s?[0-9][ABD-HJLNP-UW-Z]{2}$|^[A-Z]{2}-?[0-9]{4}$/,url:/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,usZipCode:/^[0-9]{5}(?:-[0-9]{4})?$/};function f(t,r){e[t]=function(e){return r[t].test(e)}}for(var p in l)l.hasOwnProperty(p)&&f(p,l);e.ip=function(t){return e.ipv4(t)||e.ipv6(t)},e.capitalized=function(t){if(e.not.string(t))return!1;for(var r=t.split(" "),n=0;n<r.length;n++){var i=r[n];if(i.length){var o=i.charAt(0);if(o!==o.toUpperCase())return!1}}return!0},e.endWith=function(t,r){if(e.not.string(t))return!1;r+="";var n=t.length-r.length;return n>=0&&t.indexOf(r,n)===n},e.endWith.api=["not"],e.include=function(e,t){return e.indexOf(t)>-1},e.include.api=["not"],e.lowerCase=function(t){return e.string(t)&&t===t.toLowerCase()},e.palindrome=function(t){if(e.not.string(t))return!1;for(var r=(t=t.replace(/[^a-zA-Z0-9]+/g,"").toLowerCase()).length-1,n=0,i=Math.floor(r/2);n<=i;n++)if(t.charAt(n)!==t.charAt(r-n))return!1;return!0},e.space=function(t){if(e.not.char(t))return!1;var r=t.charCodeAt(0);return r>8&&r<14||32===r},e.startWith=function(t,r){return e.string(t)&&0===t.indexOf(r)},e.startWith.api=["not"],e.upperCase=function(t){return e.string(t)&&t===t.toUpperCase()};var d=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],h=["january","february","march","april","may","june","july","august","september","october","november","december"];e.day=function(t,r){return e.date(t)&&r.toLowerCase()===d[t.getDay()]},e.day.api=["not"],e.dayLightSavingTime=function(e){var t=new Date(e.getFullYear(),0,1),r=new Date(e.getFullYear(),6,1),n=Math.max(t.getTimezoneOffset(),r.getTimezoneOffset());return e.getTimezoneOffset()<n},e.future=function(t){var r=new Date;return e.date(t)&&t.getTime()>r.getTime()},e.inDateRange=function(t,r,n){if(e.not.date(t)||e.not.date(r)||e.not.date(n))return!1;var i=t.getTime();return i>r.getTime()&&i<n.getTime()},e.inDateRange.api=["not"],e.inLastMonth=function(t){return e.inDateRange(t,new Date((new Date).setMonth((new Date).getMonth()-1)),new Date)},e.inLastWeek=function(t){return e.inDateRange(t,new Date((new Date).setDate((new Date).getDate()-7)),new Date)},e.inLastYear=function(t){return e.inDateRange(t,new Date((new Date).setFullYear((new Date).getFullYear()-1)),new Date)},e.inNextMonth=function(t){return e.inDateRange(t,new Date,new Date((new Date).setMonth((new Date).getMonth()+1)))},e.inNextWeek=function(t){return e.inDateRange(t,new Date,new Date((new Date).setDate((new Date).getDate()+7)))},e.inNextYear=function(t){return e.inDateRange(t,new Date,new Date((new Date).setFullYear((new Date).getFullYear()+1)))},e.leapYear=function(t){return e.number(t)&&(t%4==0&&t%100!=0||t%400==0)},e.month=function(t,r){return e.date(t)&&r.toLowerCase()===h[t.getMonth()]},e.month.api=["not"],e.past=function(t){var r=new Date;return e.date(t)&&t.getTime()<r.getTime()},e.quarterOfYear=function(t,r){return e.date(t)&&e.number(r)&&r===Math.floor((t.getMonth()+3)/3)},e.quarterOfYear.api=["not"],e.today=function(t){var r=(new Date).toDateString();return e.date(t)&&t.toDateString()===r},e.tomorrow=function(t){var r=new Date,n=new Date(r.setDate(r.getDate()+1)).toDateString();return e.date(t)&&t.toDateString()===n},e.weekend=function(t){return e.date(t)&&(6===t.getDay()||0===t.getDay())},e.weekday=i(e.weekend),e.year=function(t,r){return e.date(t)&&e.number(r)&&r===t.getFullYear()},e.year.api=["not"],e.yesterday=function(t){var r=new Date,n=new Date(r.setDate(r.getDate()-1)).toDateString();return e.date(t)&&t.toDateString()===n};var g=e.windowObject("object"==typeof global&&global)&&global,m=e.windowObject("object"==typeof self&&self)&&self,y=e.windowObject("object"==typeof this&&this)&&this,v=g||m||y||Function("return this")(),b=m&&m.document,E=v.is,w=m&&m.navigator,_=(w&&w.appVersion||"").toLowerCase(),A=(w&&w.userAgent||"").toLowerCase(),C=(w&&w.vendor||"").toLowerCase();return e.android=function(){return/android/.test(A)},e.android.api=["not"],e.androidPhone=function(){return/android/.test(A)&&/mobile/.test(A)},e.androidPhone.api=["not"],e.androidTablet=function(){return/android/.test(A)&&!/mobile/.test(A)},e.androidTablet.api=["not"],e.blackberry=function(){return/blackberry/.test(A)||/bb10/.test(A)},e.blackberry.api=["not"],e.chrome=function(e){var t=/google inc/.test(C)?A.match(/(?:chrome|crios)\/(\d+)/):null;return null!==t&&c(t[1],e)},e.chrome.api=["not"],e.desktop=function(){return e.not.mobile()&&e.not.tablet()},e.desktop.api=["not"],e.edge=function(e){var t=A.match(/edge\/(\d+)/);return null!==t&&c(t[1],e)},e.edge.api=["not"],e.firefox=function(e){var t=A.match(/(?:firefox|fxios)\/(\d+)/);return null!==t&&c(t[1],e)},e.firefox.api=["not"],e.ie=function(e){var t=A.match(/(?:msie |trident.+?; rv:)(\d+)/);return null!==t&&c(t[1],e)},e.ie.api=["not"],e.ios=function(){return e.iphone()||e.ipad()||e.ipod()},e.ios.api=["not"],e.ipad=function(e){var t=A.match(/ipad.+?os (\d+)/);return null!==t&&c(t[1],e)},e.ipad.api=["not"],e.iphone=function(e){var t=A.match(/iphone(?:.+?os (\d+))?/);return null!==t&&c(t[1]||1,e)},e.iphone.api=["not"],e.ipod=function(e){var t=A.match(/ipod.+?os (\d+)/);return null!==t&&c(t[1],e)},e.ipod.api=["not"],e.linux=function(){return/linux/.test(_)},e.linux.api=["not"],e.mac=function(){return/mac/.test(_)},e.mac.api=["not"],e.mobile=function(){return e.iphone()||e.ipod()||e.androidPhone()||e.blackberry()||e.windowsPhone()},e.mobile.api=["not"],e.offline=i(e.online),e.offline.api=["not"],e.online=function(){return!w||!0===w.onLine},e.online.api=["not"],e.opera=function(e){var t=A.match(/(?:^opera.+?version|opr)\/(\d+)/);return null!==t&&c(t[1],e)},e.opera.api=["not"],e.phantom=function(e){var t=A.match(/phantomjs\/(\d+)/);return null!==t&&c(t[1],e)},e.phantom.api=["not"],e.safari=function(e){var t=A.match(/version\/(\d+).+?safari/);return null!==t&&c(t[1],e)},e.safari.api=["not"],e.tablet=function(){return e.ipad()||e.androidTablet()||e.windowsTablet()},e.tablet.api=["not"],e.touchDevice=function(){return!!b&&("ontouchstart"in m||"DocumentTouch"in m&&b instanceof DocumentTouch)},e.touchDevice.api=["not"],e.windows=function(){return/win/.test(_)},e.windows.api=["not"],e.windowsPhone=function(){return e.windows()&&/phone/.test(A)},e.windowsPhone.api=["not"],e.windowsTablet=function(){return e.windows()&&e.not.windowsPhone()&&/touch/.test(A)},e.windowsTablet.api=["not"],e.propertyCount=function(t,r){if(e.not.object(t)||e.not.number(r))return!1;var i=0;for(var o in t)if(n.call(t,o)&&++i>r)return!1;return i===r},e.propertyCount.api=["not"],e.propertyDefined=function(t,r){return e.object(t)&&e.string(r)&&r in t},e.propertyDefined.api=["not"],e.inArray=function(t,r){if(e.not.array(r))return!1;for(var n=0;n<r.length;n++)if(r[n]===t)return!0;return!1},e.inArray.api=["not"],e.sorted=function(t,r){if(e.not.array(t))return!1;for(var n=a[r]||a[">="],i=1;i<t.length;i++)if(!n(t[i],t[i-1]))return!1;return!0},function(){var t=e;for(var r in t)if(n.call(t,r)&&e.function(t[r]))for(var a=t[r].api||["not","all","any"],c=0;c<a.length;c++)"not"===a[c]&&(e.not[r]=i(e[r])),"all"===a[c]&&(e.all[r]=o(e[r])),"any"===a[c]&&(e.any[r]=s(e[r]))}(),e.setNamespace=function(){return v.is=E,this},e.setRegexp=function(e,t){for(var r in l)n.call(l,r)&&t===r&&(l[r]=e)},e}()}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.traceIdMiddleware=void 0,t.traceIdMiddleware=function(e,t,r){var n=e.get("X-Amzn-Trace-Id");n&&(e.traceId=n),r()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nrAttrMiddleware=void 0,t.nrAttrMiddleware=function(e,t,r){var n;if(null===(n=e.app.locals)||void 0===n?void 0:n.newrelic){var i=e.app.locals.newrelic;e.traceId&&i.hasOwnProperty("addCustomAttribute")&&i.addCustomAttribute("traceID",e.traceId),e.id&&i.hasOwnProperty("addCustomAttribute")&&i.addCustomAttribute("requestID",e.id),e.user&&i.hasOwnProperty("addCustomAttribute")&&i.addCustomAttribute("userID",e.user)}else console.error("[LoggingConfiguration] NewRelic is not configured properly. Skipping attributes.");r()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userMiddleware=void 0;var n=r(302);t.userMiddleware=function(e){return function(t,r,i){var o,s=null===(o=t.cookies)||void 0===o?void 0:o[e.cookieName||"id_token"];if(s)try{var a=n.extractTokenData(s);t.user=a.sub}catch(e){t.user=""}else t.user="";i()}},t.default=t.userMiddleware},function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=46)}([function(e,t){e.exports=r(3)},function(e,t,r){"use strict";function n(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function a(e){n(s,i,o,a,c,"next",e)}function c(e){n(s,i,o,a,c,"throw",e)}a(void 0)}))}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tradeCodeForCredentials=t.expireCookies=t.matchRegexRoute=t.extractTokenData=t.isTokenValid=t.validateTokenExp=t.getDecodedToken=void 0;var c=a(r(10)),u=r(71),l=a(r(29)),f=r(2),p=r(72);function d(e){var t=c.default.decode(e,{complete:!0});if(!t.header)throw new Error("Jwt header not found");if(!t.payload)throw new Error("Jwt payload not found");return t}function h(){return(h=i(regeneratorRuntime.mark((function e(t,r){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=d(r),e.next=4,p.getSigningKey(t,n.header);case 4:return i=e.sent,e.next=7,c.default.verify(r,i,(function(e,t){if(!t)throw new Error("Unable to decode token: "+e)}));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(0),console.log("Invalid token: "+e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function g(){return(g=i(regeneratorRuntime.mark((function e(t,r,n,i,o,s,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,c){var u={"Content-Type":"application/x-www-form-urlencoded"},p={grant_type:"authorization_code",redirect_uri:o,code:i};if("cognito"!==(a||"myid"))p.client_id=n,s&&(p.client_secret=s);else{s||c("Secret not provided");var d=Buffer.from("".concat(n,":").concat(s)).toString("base64");u.Authorization="Basic ".concat(d)}p=f.stringify(p),u["Content-Length"]=p.length;var h={hostname:t,port:443,path:"/".concat(r),method:"POST",headers:u},g=l.default.request(h,(function(t){var r="";t.on("data",(function(e){r+=e.toString()})),t.on("end",(function(){try{var t=JSON.parse(r);e(t)}catch(e){c("Could not parse token")}}))}));g.on("error",(function(e){c(e.message)})),g.write(p),g.end()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.getDecodedToken=d,t.validateTokenExp=function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({minSecondsOfSession:1800,debug:!1},t),n=c.default.decode(e),i="string"!=typeof n?null==n?void 0:n.exp:"",a=u.getDiffAgainstCurrentTime(Number(i));return r.debug&&(console.debug("Date from Token",i),console.debug("Seconds Left on the Session",a)),!(a<r.minSecondsOfSession)},t.isTokenValid=function(e,t){return h.apply(this,arguments)},t.extractTokenData=function(e){if(e){var t=c.default.decode(e);if(null===t)throw new Error("Unable to parse token: ".concat(e,"."));return t}throw new Error("Access Token was not provided.")},t.matchRegexRoute=function(e,t){return t.some((function(t){return new RegExp(t).test(e)}))},t.expireCookies=function(e,t){if("string"==typeof t)e.setHeader("Set-Cookie","".concat(t,"=''; expires=Thu, 01 Jan 1970 00:00:00 GMT; Path=/"));else{var r=[];t.forEach((function(e){r.push("".concat(e,"=''; expires=Thu, 01 Jan 1970 00:00:00 GMT; Path=/"))})),e.setHeader("Set-Cookie",r)}},t.tradeCodeForCredentials=function(e,t,r,n,i,o,s){return g.apply(this,arguments)}},function(e,t,r){"use strict";const n=r(48),i=r(49),o=r(50),s=r(51);function a(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function u(e,t){return t.decode?i(e):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function f(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const i="string"==typeof r&&r.includes(e.arrayFormatSeparator),o="string"==typeof r&&!i&&u(r,e).includes(e.arrayFormatSeparator);r=o?u(r,e):r;const s=i||o?r.split(e.arrayFormatSeparator).map(t=>u(t,e)):null===r?r:u(r,e);n[t]=s};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const i of e.split("&")){if(""===i)continue;let[e,s]=o(t.decode?i.replace(/\+/g," "):i,"=");s=void 0===s?null:["comma","separator"].includes(t.arrayFormat)?s:u(s,t),r(u(e,t),s,n)}for(const e of Object.keys(n)){const r=n[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=p(r[e],t);else n[e]=p(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=f,t.parse=d,t.stringify=(e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),"[",i,"]"].join("")]:[...r,[c(t,e),"[",c(i,e),"]=",c(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),"[]"].join("")]:[...r,[c(t,e),"[]=",c(n,e)].join("")];case"comma":case"separator":return t=>(r,n)=>null==n||0===n.length?r:0===r.length?[[c(t,e),"=",c(n,e)].join("")]:[[r,c(n,e)].join(e.arrayFormatSeparator)];default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,c(t,e)]:[...r,[c(t,e),"=",c(n,e)].join("")]}}(t),i={};for(const t of Object.keys(e))r(t)||(i[t]=e[t]);const o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map(r=>{const i=e[r];return void 0===i?"":null===i?c(r,t):Array.isArray(i)?i.reduce(n(r),[]).join("&"):c(r,t)+"="+c(i,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,n]=o(e,"#");return Object.assign({url:r.split("?")[0]||"",query:d(f(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:u(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0},r);const n=l(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),s=Object.assign(o,e.query);let a=t.stringify(s,r);a&&(a="?"+a);let u=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(u="#"+c(e.fragmentIdentifier,r)),`${n}${a}${u}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0},n);const{url:i,query:o,fragmentIdentifier:a}=t.parseUrl(e,n);return t.stringifyUrl({url:i,query:s(o,r),fragmentIdentifier:a},n)},t.exclude=(e,r,n)=>{const i=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,i,n)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.clearCookie("access_token"),e.clearCookie("id_token"),e.clearCookie("refresh_token"),e.clearCookie("from")}},function(e,t){e.exports=r(303)},function(e,t,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(11),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JwksClient=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=f(r(19)),s=f(r(79)),a=f(r(38)),c=f(r(39)),u=r(40),l=r(101);function f(e){return e&&e.__esModule?e:{default:e}}t.JwksClient=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getSigningKey=function(e,t){r.logger("Fetching signing key for '"+e+"'"),r.getSigningKeys((function(n,i){if(n)return t(n);var o=null!=e;if(!o&&i.length>1)return r.logger("No KID specified and JWKS endpoint returned more than 1 key"),t(new c.default("No KID specified and JWKS endpoint returned more than 1 key"));var s=i.find((function(t){return!o||t.kid===e}));return s?t(null,s):(r.logger("Unable to find a signing key that matches '"+e+"'"),t(new c.default("Unable to find a signing key that matches '"+e+"'")))}))},this.getKeysAsync=p(this.getKeys,this),this.getSigningKeysAsync=p(this.getSigningKeys,this),this.getSigningKeyAsync=p(this.getSigningKey,this),this.options=n({rateLimit:!1,cache:!0,timeout:3e4},t),this.logger=(0,o.default)("jwks"),this.options.getKeysInterceptor&&(this.getSigningKey=(0,l.getKeysInterceptor)(this,t)),this.options.rateLimit&&(this.getSigningKey=(0,l.rateLimitSigningKey)(this,t)),this.options.cache&&(this.getSigningKey=(0,l.cacheSigningKey)(this,t)),(this.options.rateLimit||this.options.cache)&&(this.getSigningKeyAsync=p(this.getSigningKey,this))}return i(e,[{key:"getKeys",value:function(e){var t=this;if(this.options.jwksObject)return this.logger("DEPRECATED: jwksObject is deprecated -- use getKeysInterceptor"),this.logger("Returning directly provided keyset."),e(null,this.options.jwksObject.keys);this.logger("Fetching keys from '"+this.options.jwksUri+"'"),(0,s.default)({uri:this.options.jwksUri,strictSSL:this.options.strictSsl,headers:this.options.requestHeaders,agentOptions:this.options.requestAgentOptions,proxy:this.options.proxy,timeout:this.options.timeout},(function(r,n){if(r){var i=r.response;return t.logger("Failure:",i&&i.data||r),e(i?new a.default(i.data||i.statusText||"Http Error "+i.status):r)}return t.logger("Keys:",n.data.keys),e(null,n.data.keys)}))}},{key:"getSigningKeys",value:function(e){var t=this;this.getKeys((function(r,n){if(r)return e(r);if(!n||!n.length)return e(new a.default("The JWKS endpoint did not contain any keys"));var i=(0,u.retrieveSigningKeys)(n);return i.length?(t.logger("Signing Keys:",i),e(null,i)):e(new a.default("The JWKS endpoint did not contain any signing keys"))}))}}]),e}();var p=function(e,t){return function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return new Promise((function(r,i){e.call.apply(e,[t].concat(n,[function(e,t){e&&i(e),r(t)}]))}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigningKeyNotFoundError=t.JwksRateLimitError=t.JwksError=t.ArgumentError=void 0;var n=a(r(116)),i=a(r(38)),o=a(r(45)),s=a(r(39));function a(e){return e&&e.__esModule?e:{default:e}}t.ArgumentError=n.default,t.JwksError=i.default,t.JwksRateLimitError=o.default,t.SigningKeyNotFoundError=s.default},function(e,t){e.exports=r(327)},function(e,t,r){"use strict";function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw s}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,i=n(e);try{for(i.s();!(r=i.n()).done;)if(r.value.test(t))return!0}catch(e){i.e(e)}finally{i.f()}return!1}},function(e,t,r){e.exports={decode:r(21),verify:r(60),sign:r(63),JsonWebTokenError:r(12),NotBeforeError:r(25),TokenExpiredError:r(26)}},function(e,t){e.exports=r(22)},function(e,t){var r=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};(r.prototype=Object.create(Error.prototype)).constructor=r,e.exports=r},function(e,t){e.exports=r(42)},function(e,t,r){"use strict";const n=r(77),i=r(78),o=process.env;let s;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;const t=s?1:0;if("win32"===process.platform){const e=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in o)||"codeship"===o.CI_NAME?1:t;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:(o.TERM,t)}(e))}i("no-color")||i("no-colors")||i("color=false")?s=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t){e.exports=r(11)},function(e,t,r){"use strict";function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function i(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function o(e){i(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function s(e,t){i(2,arguments);var r=o(e).getTime(),s=n(t);return new Date(r+s)}function a(e,t){i(2,arguments);var r=n(t);return s(e,6e4*r)}r.r(t),r.d(t,"default",(function(){return a}))},function(e,t,r){var n=r(54),i=r(59);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=i.verify,t.decode=i.decode,t.isValid=i.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new i(e)}},function(e,t){e.exports=r(40)},function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(74):e.exports=r(76)},function(e,t){e.exports=r(9)},function(e,t,r){var n=r(17);e.exports=function(e,t){t=t||{};var r=n.decode(e,t);if(!r)return null;var i=r.payload;if("string"==typeof i)try{var o=JSON.parse(i);null!==o&&"object"==typeof o&&(i=o)}catch(e){}return!0===t.complete?{header:r.header,payload:i,signature:r.signature}:i}},function(e,t,r){var n=r(5).Buffer,i=r(18);function o(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=n.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=n.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}r(0).inherits(o,i),o.prototype.write=function(e){this.buffer=n.concat([this.buffer,n.from(e)]),this.emit("data",e)},o.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=o},function(e,t,r){var n=r(55),i=r(5).Buffer,o=r(56),s=r(57),a=r(0),c="secret must be a string or buffer",u="key must be a string or a buffer",l="function"==typeof o.createPublicKey;function f(e){if(!i.isBuffer(e)&&"string"!=typeof e){if(!l)throw g(u);if("object"!=typeof e)throw g(u);if("string"!=typeof e.type)throw g(u);if("string"!=typeof e.asymmetricKeyType)throw g(u);if("function"!=typeof e.export)throw g(u)}}function p(e){if(!i.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw g("key must be a string, a buffer or an object")}function d(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function h(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function g(e){var t=[].slice.call(arguments,1),r=a.format.bind(a,e).apply(null,t);return new TypeError(r)}function m(e){var t;return t=e,i.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function y(e){return function(t,r){!function(e){if(!i.isBuffer(e)){if("string"==typeof e)return e;if(!l)throw g(c);if("object"!=typeof e)throw g(c);if("secret"!==e.type)throw g(c);if("function"!=typeof e.export)throw g(c)}}(r),t=m(t);var n=o.createHmac("sha"+e,r);return d((n.update(t),n.digest("base64")))}}function v(e){return function(t,r,o){var s=y(e)(t,o);return n(i.from(r),i.from(s))}}function b(e){return function(t,r){p(r),t=m(t);var n=o.createSign("RSA-SHA"+e);return d((n.update(t),n.sign(r,"base64")))}}function E(e){return function(t,r,n){f(n),t=m(t),r=h(r);var i=o.createVerify("RSA-SHA"+e);return i.update(t),i.verify(n,r,"base64")}}function w(e){return function(t,r){p(r),t=m(t);var n=o.createSign("RSA-SHA"+e);return d((n.update(t),n.sign({key:r,padding:o.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function _(e){return function(t,r,n){f(n),t=m(t),r=h(r);var i=o.createVerify("RSA-SHA"+e);return i.update(t),i.verify({key:n,padding:o.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function A(e){var t=b(e);return function(){var r=t.apply(null,arguments);return s.derToJose(r,"ES"+e)}}function C(e){var t=E(e);return function(r,n,i){return n=s.joseToDer(n,"ES"+e).toString("base64"),t(r,n,i)}}function T(){return function(){return""}}function S(){return function(e,t){return""===t}}l&&(u+=" or a KeyObject",c+="or a KeyObject"),e.exports=function(e){var t={hs:y,rs:b,ps:w,es:A,none:T},r={hs:v,rs:E,ps:_,es:C,none:S},n=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!n)throw g('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var i=(n[1]||n[3]).toLowerCase(),o=n[2];return{sign:t[i](o),verify:r[i](o)}}},function(e,t,r){var n=r(11).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},function(e,t,r){var n=r(12),i=function(e,t){n.call(this,e),this.name="NotBeforeError",this.date=t};(i.prototype=Object.create(n.prototype)).constructor=i,e.exports=i},function(e,t,r){var n=r(12),i=function(e,t){n.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};(i.prototype=Object.create(n.prototype)).constructor=i,e.exports=i},function(e,t,r){var n=r(61);e.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var i=n(e);if(void 0===i)return;return Math.floor(r+i/1e3)}return"number"==typeof e?r+e:void 0}},function(e,t,r){var n=r(62);e.exports=n.satisfies(process.version,"^6.12.0 || >=8.0.0")},function(e,t){e.exports=r(27)},function(e,t,r){e.exports=function(e){function t(e){let r,i,o,s=null;function a(...e){if(!a.enabled)return;const n=a,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];r=o.call(n,t),e.splice(s,1),s--}return r}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(75),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},function(e,t){e.exports=r(55)},function(e,t){e.exports=r(99)},function(e,t,r){e.exports=function(e){function t(e){let r,i,o,s=null;function a(...e){if(!a.enabled)return;const n=a,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];r=o.call(n,t),e.splice(s,1),s--}return r}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(85),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const i=r(20),o=n(r(88)),s=n(r(92)),a=o.default("agent-base");function c(){const{stack:e}=new Error;return"string"==typeof e&&e.split("\n").some(e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:"))}function u(e,t){return new u.Agent(e,t)}!function(e){class t extends i.EventEmitter{constructor(e,t){super();let r=t;"function"==typeof e?this.callback=e:e&&(r=e),this.timeout=null,r&&"number"==typeof r.timeout&&(this.timeout=r.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return"number"==typeof this.explicitDefaultPort?this.explicitDefaultPort:c()?443:80}set defaultPort(e){this.explicitDefaultPort=e}get protocol(){return"string"==typeof this.explicitProtocol?this.explicitProtocol:c()?"https:":"http:"}set protocol(e){this.explicitProtocol=e}callback(e,t,r){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(e,t){const r=Object.assign({},t);"boolean"!=typeof r.secureEndpoint&&(r.secureEndpoint=c()),null==r.host&&(r.host="localhost"),null==r.port&&(r.port=r.secureEndpoint?443:80),null==r.protocol&&(r.protocol=r.secureEndpoint?"https:":"http:"),r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let n=!1,i=null;const o=r.timeout||this.timeout,u=t=>{e._hadError||(e.emit("error",t),e._hadError=!0)},l=()=>{i=null,n=!0;const e=new Error(`A "socket" was not created for HTTP request before ${o}ms`);e.code="ETIMEOUT",u(e)},f=e=>{n||(null!==i&&(clearTimeout(i),i=null),u(e))},p=t=>{if(n)return;if(null!=i&&(clearTimeout(i),i=null),o=t,Boolean(o)&&"function"==typeof o.addRequest)return a("Callback returned another Agent instance %o",t.constructor.name),void t.addRequest(e,r);var o;if(t)return t.once("free",()=>{this.freeSocket(t,r)}),void e.onSocket(t);const s=new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``);u(s)};if("function"==typeof this.callback){this.promisifiedCallback||(this.callback.length>=3?(a("Converting legacy callback function to promise"),this.promisifiedCallback=s.default(this.callback)):this.promisifiedCallback=this.callback),"number"==typeof o&&o>0&&(i=setTimeout(l,o)),"port"in r&&"number"!=typeof r.port&&(r.port=Number(r.port));try{a("Resolving socket for %o request: %o",r.protocol,`${e.method} ${e.path}`),Promise.resolve(this.promisifiedCallback(e,r)).then(p,f)}catch(e){Promise.reject(e).catch(f)}}else u(new Error("`callback` is not defined"))}freeSocket(e,t){a("Freeing socket %o %o",e.constructor.name,t),e.destroy()}destroy(){a("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype}(u||(u={})),e.exports=u},function(e,t,r){e.exports=function(e){function t(e){let r,i,o,s=null;function a(...e){if(!a.enabled)return;const n=a,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];r=o.call(n,t),e.splice(s,1),s--}return r}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(90),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(96):e.exports=r(98)},function(e,t,r){e.exports=function(e){function t(e){let r,i,o,s=null;function a(...e){if(!a.enabled)return;const n=a,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];r=o.call(n,t),e.splice(s,1),s--}return r}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(97),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},function(e,t,r){"use strict";function n(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="JwksError",this.message=e}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,r){"use strict";function n(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="SigningKeyNotFoundError",this.message=e}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,r){"use strict";function n(e){return"-----BEGIN CERTIFICATE-----\n"+(e=e.match(/.{1,64}/g).join("\n"))+"\n-----END CERTIFICATE-----\n"}function i(e){var t=e[0];return t<"0"||t>"7"?"00"+e:e}function o(e){var t=e.toString(16);return t.length%2?"0"+t:t}function s(e){if(e<=127)return o(e);var t=o(e);return o(128+t.length/2)+t}function a(e,t){var r=Buffer.from(e,"base64"),n=Buffer.from(t,"base64"),o=i(r.toString("hex")),a=i(n.toString("hex")),c=o.length/2,u=a.length/2,l=s(c),f=s(u),p="30"+s(c+u+l.length/2+f.length/2+2)+"02"+l+o+"02"+f+a,d="-----BEGIN RSA PUBLIC KEY-----\n";return(d+=""+Buffer.from(p,"hex").toString("base64").match(/.{1,64}/g).join("\n"))+"\n-----END RSA PUBLIC KEY-----\n"}Object.defineProperty(t,"__esModule",{value:!0}),t.certToPEM=n,t.rsaPublicKeyToPEM=a,t.retrieveSigningKeys=function(e){return e.filter((function(e){return"RSA"===e.kty&&(!e.hasOwnProperty("use")||"sig"===e.use)&&(e.x5c&&e.x5c.length||e.n&&e.e)})).map((function(e){var t={kid:e.kid,alg:e.alg,nbf:e.nbf};return e.x5c&&e.x5c.length?(t.publicKey=n(e.x5c[0]),t.getPublicKey=function(){return t.publicKey}):(t.rsaPublicKey=a(e.n,e.e),t.getPublicKey=function(){return t.rsaPublicKey}),t}))}},function(e,t,r){e.exports=f;var n,i=r(106),o=r(0),s=r(108),a={},c="function"==typeof Symbol;function u(e,t,r){var i;return a[t]?i=a[t]:(i=n(t),a[t]=i),2===arguments.length?e[i]:(e[i]=r,r)}function l(){return 1}function f(e){if(!(this instanceof f))return new f(e);"number"==typeof e&&(e={max:e}),e||(e={});var t=u(this,"max",e.max);(!t||"number"!=typeof t||t<=0)&&u(this,"max",1/0);var r=e.length||l;"function"!=typeof r&&(r=l),u(this,"lengthCalculator",r),u(this,"allowStale",e.stale||!1),u(this,"maxAge",e.maxAge||0),u(this,"dispose",e.dispose),this.reset()}function p(e,t,r,n){var i=r.value;h(e,i)&&(m(e,r),u(e,"allowStale")||(i=void 0)),i&&t.call(n,i.value,i.key,e)}function d(e,t,r){var n=u(e,"cache").get(t);if(n){var i=n.value;h(e,i)?(m(e,n),u(e,"allowStale")||(i=void 0)):r&&u(e,"lruList").unshiftNode(n),i&&(i=i.value)}return i}function h(e,t){if(!t||!t.maxAge&&!u(e,"maxAge"))return!1;var r=Date.now()-t.now;return t.maxAge?r>t.maxAge:u(e,"maxAge")&&r>u(e,"maxAge")}function g(e){if(u(e,"length")>u(e,"max"))for(var t=u(e,"lruList").tail;u(e,"length")>u(e,"max")&&null!==t;){var r=t.prev;m(e,t),t=r}}function m(e,t){if(t){var r=t.value;u(e,"dispose")&&u(e,"dispose").call(this,r.key,r.value),u(e,"length",u(e,"length")-r.length),u(e,"cache").delete(r.key),u(e,"lruList").removeNode(t)}}function y(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}n=c?function(e){return Symbol.for(e)}:function(e){return"_"+e},Object.defineProperty(f.prototype,"max",{set:function(e){(!e||"number"!=typeof e||e<=0)&&(e=1/0),u(this,"max",e),g(this)},get:function(){return u(this,"max")},enumerable:!0}),Object.defineProperty(f.prototype,"allowStale",{set:function(e){u(this,"allowStale",!!e)},get:function(){return u(this,"allowStale")},enumerable:!0}),Object.defineProperty(f.prototype,"maxAge",{set:function(e){(!e||"number"!=typeof e||e<0)&&(e=0),u(this,"maxAge",e),g(this)},get:function(){return u(this,"maxAge")},enumerable:!0}),Object.defineProperty(f.prototype,"lengthCalculator",{set:function(e){"function"!=typeof e&&(e=l),e!==u(this,"lengthCalculator")&&(u(this,"lengthCalculator",e),u(this,"length",0),u(this,"lruList").forEach((function(e){e.length=u(this,"lengthCalculator").call(this,e.value,e.key),u(this,"length",u(this,"length")+e.length)}),this)),g(this)},get:function(){return u(this,"lengthCalculator")},enumerable:!0}),Object.defineProperty(f.prototype,"length",{get:function(){return u(this,"length")},enumerable:!0}),Object.defineProperty(f.prototype,"itemCount",{get:function(){return u(this,"lruList").length},enumerable:!0}),f.prototype.rforEach=function(e,t){t=t||this;for(var r=u(this,"lruList").tail;null!==r;){var n=r.prev;p(this,e,r,t),r=n}},f.prototype.forEach=function(e,t){t=t||this;for(var r=u(this,"lruList").head;null!==r;){var n=r.next;p(this,e,r,t),r=n}},f.prototype.keys=function(){return u(this,"lruList").toArray().map((function(e){return e.key}),this)},f.prototype.values=function(){return u(this,"lruList").toArray().map((function(e){return e.value}),this)},f.prototype.reset=function(){u(this,"dispose")&&u(this,"lruList")&&u(this,"lruList").length&&u(this,"lruList").forEach((function(e){u(this,"dispose").call(this,e.key,e.value)}),this),u(this,"cache",new i),u(this,"lruList",new s),u(this,"length",0)},f.prototype.dump=function(){return u(this,"lruList").map((function(e){if(!h(this,e))return{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}}),this).toArray().filter((function(e){return e}))},f.prototype.dumpLru=function(){return u(this,"lruList")},f.prototype.inspect=function(e,t){var r="LRUCache {",n=!1;u(this,"allowStale")&&(r+="\n  allowStale: true",n=!0);var i=u(this,"max");i&&i!==1/0&&(n&&(r+=","),r+="\n  max: "+o.inspect(i,t),n=!0);var s=u(this,"maxAge");s&&(n&&(r+=","),r+="\n  maxAge: "+o.inspect(s,t),n=!0);var a=u(this,"lengthCalculator");a&&a!==l&&(n&&(r+=","),r+="\n  length: "+o.inspect(u(this,"length"),t),n=!0);var c=!1;return u(this,"lruList").forEach((function(e){c?r+=",\n  ":(n&&(r+=",\n"),c=!0,r+="\n  ");var i=o.inspect(e.key).split("\n").join("\n  "),u={value:e.value};e.maxAge!==s&&(u.maxAge=e.maxAge),a!==l&&(u.length=e.length),h(this,e)&&(u.stale=!0),u=o.inspect(u,t).split("\n").join("\n  "),r+=i+" => "+u})),(c||n)&&(r+="\n"),r+="}"},f.prototype.set=function(e,t,r){var n=(r=r||u(this,"maxAge"))?Date.now():0,i=u(this,"lengthCalculator").call(this,t,e);if(u(this,"cache").has(e)){if(i>u(this,"max"))return m(this,u(this,"cache").get(e)),!1;var o=u(this,"cache").get(e).value;return u(this,"dispose")&&u(this,"dispose").call(this,e,o.value),o.now=n,o.maxAge=r,o.value=t,u(this,"length",u(this,"length")+(i-o.length)),o.length=i,this.get(e),g(this),!0}var s=new y(e,t,i,n,r);return s.length>u(this,"max")?(u(this,"dispose")&&u(this,"dispose").call(this,e,t),!1):(u(this,"length",u(this,"length")+s.length),u(this,"lruList").unshift(s),u(this,"cache").set(e,u(this,"lruList").head),g(this),!0)},f.prototype.has=function(e){return!!u(this,"cache").has(e)&&!h(this,u(this,"cache").get(e).value)},f.prototype.get=function(e){return d(this,e,!0)},f.prototype.peek=function(e){return d(this,e,!1)},f.prototype.pop=function(){var e=u(this,"lruList").tail;return e?(m(this,e),e.value):null},f.prototype.del=function(e){m(this,u(this,"cache").get(e))},f.prototype.load=function(e){this.reset();for(var t=Date.now(),r=e.length-1;r>=0;r--){var n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{var o=i-t;o>0&&this.set(n.k,n.v,o)}}},f.prototype.prune=function(){var e=this;u(this,"cache").forEach((function(t,r){d(e,r,!1)}))}},function(e,t,r){(function(e){var r="[object Arguments]",n="[object Function]",i="[object GeneratorFunction]",o="[object Map]",s="[object Set]",a=/\w*$/,c=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,l={};l[r]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object DataView]"]=l["[object Boolean]"]=l["[object Date]"]=l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l[o]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l[s]=l["[object String]"]=l["[object Symbol]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Error]"]=l[n]=l["[object WeakMap]"]=!1;var f="object"==typeof global&&global&&global.Object===Object&&global,p="object"==typeof self&&self&&self.Object===Object&&self,d=f||p||Function("return this")(),h=t&&!t.nodeType&&t,g=h&&"object"==typeof e&&e&&!e.nodeType&&e,m=g&&g.exports===h;function y(e,t){return e.set(t[0],t[1]),e}function v(e,t){return e.add(t),e}function b(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function E(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function w(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function _(e,t){return function(r){return e(t(r))}}function A(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var C,T=Array.prototype,S=Function.prototype,I=Object.prototype,N=d["__core-js_shared__"],O=(C=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",R=S.toString,M=I.hasOwnProperty,x=I.toString,D=RegExp("^"+R.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=m?d.Buffer:void 0,B=d.Symbol,j=d.Uint8Array,P=_(Object.getPrototypeOf,Object),F=Object.create,L=I.propertyIsEnumerable,U=T.splice,V=Object.getOwnPropertySymbols,Q=k?k.isBuffer:void 0,G=_(Object.keys,Object),W=de(d,"DataView"),Y=de(d,"Map"),z=de(d,"Promise"),H=de(d,"Set"),q=de(d,"WeakMap"),J=de(Object,"create"),X=ve(W),Z=ve(Y),K=ve(z),$=ve(H),ee=ve(q),te=B?B.prototype:void 0,re=te?te.valueOf:void 0;function ne(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ie(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function oe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function se(e){this.__data__=new ie(e)}function ae(e,t,r){var n=e[t];M.call(e,t)&&be(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function ce(e,t){for(var r=e.length;r--;)if(be(e[r][0],t))return r;return-1}function ue(e,t,c,u,f,p,d){var h;if(u&&(h=p?u(e,f,p,d):u(e)),void 0!==h)return h;if(!Ce(e))return e;var g=Ee(e);if(g){if(h=function(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&M.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!t)return function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(e,h)}else{var m=ge(e),_=m==n||m==i;if(_e(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if("[object Object]"==m||m==r||_&&!p){if(E(e))return p?e:{};if(h=function(e){return"function"!=typeof e.constructor||ye(e)?{}:Ce(t=P(e))?F(t):{};var t}(_?{}:e),!t)return function(e,t){return fe(e,he(e),t)}(e,function(e,t){return e&&fe(t,Te(t),e)}(h,e))}else{if(!l[m])return p?e:{};h=function(e,t,r,n){var i,c=e.constructor;switch(t){case"[object ArrayBuffer]":return le(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return function(e,t){var r=t?le(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var r=t?le(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case o:return function(e,t,r){return b(t?r(w(e),!0):w(e),y,new e.constructor)}(e,n,r);case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,a.exec(e));return t.lastIndex=e.lastIndex,t}(e);case s:return function(e,t,r){return b(t?r(A(e),!0):A(e),v,new e.constructor)}(e,n,r);case"[object Symbol]":return i=e,re?Object(re.call(i)):{}}}(e,m,ue,t)}}d||(d=new se);var C=d.get(e);if(C)return C;if(d.set(e,h),!g)var T=c?function(e){return function(e,t,r){var n=t(e);return Ee(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Te,he)}(e):Te(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r););}(T||e,(function(r,n){T&&(r=e[n=r]),ae(h,n,ue(r,t,c,u,n,e,d))})),h}function le(e){var t=new e.constructor(e.byteLength);return new j(t).set(new j(e)),t}function fe(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],a=n?n(r[s],e[s],s,r,e):void 0;ae(r,s,void 0===a?e[s]:a)}return r}function pe(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function de(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ce(e)||(t=e,O&&O in t))&&(Ae(e)||E(e)?D:c).test(ve(e));var t}(r)?r:void 0}ne.prototype.clear=function(){this.__data__=J?J(null):{}},ne.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ne.prototype.get=function(e){var t=this.__data__;if(J){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return M.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return J?void 0!==t[e]:M.call(t,e)},ne.prototype.set=function(e,t){return this.__data__[e]=J&&void 0===t?"__lodash_hash_undefined__":t,this},ie.prototype.clear=function(){this.__data__=[]},ie.prototype.delete=function(e){var t=this.__data__,r=ce(t,e);return!(r<0||(r==t.length-1?t.pop():U.call(t,r,1),0))},ie.prototype.get=function(e){var t=this.__data__,r=ce(t,e);return r<0?void 0:t[r][1]},ie.prototype.has=function(e){return ce(this.__data__,e)>-1},ie.prototype.set=function(e,t){var r=this.__data__,n=ce(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},oe.prototype.clear=function(){this.__data__={hash:new ne,map:new(Y||ie),string:new ne}},oe.prototype.delete=function(e){return pe(this,e).delete(e)},oe.prototype.get=function(e){return pe(this,e).get(e)},oe.prototype.has=function(e){return pe(this,e).has(e)},oe.prototype.set=function(e,t){return pe(this,e).set(e,t),this},se.prototype.clear=function(){this.__data__=new ie},se.prototype.delete=function(e){return this.__data__.delete(e)},se.prototype.get=function(e){return this.__data__.get(e)},se.prototype.has=function(e){return this.__data__.has(e)},se.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ie){var n=r.__data__;if(!Y||n.length<199)return n.push([e,t]),this;r=this.__data__=new oe(n)}return r.set(e,t),this};var he=V?_(V,Object):function(){return[]},ge=function(e){return x.call(e)};function me(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||u.test(e))&&e>-1&&e%1==0&&e<t}function ye(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||I)}function ve(e){if(null!=e){try{return R.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function be(e,t){return e===t||e!=e&&t!=t}(W&&"[object DataView]"!=ge(new W(new ArrayBuffer(1)))||Y&&ge(new Y)!=o||z&&"[object Promise]"!=ge(z.resolve())||H&&ge(new H)!=s||q&&"[object WeakMap]"!=ge(new q))&&(ge=function(e){var t=x.call(e),r="[object Object]"==t?e.constructor:void 0,n=r?ve(r):void 0;if(n)switch(n){case X:return"[object DataView]";case Z:return o;case K:return"[object Promise]";case $:return s;case ee:return"[object WeakMap]"}return t});var Ee=Array.isArray;function we(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!Ae(e)}var _e=Q||function(){return!1};function Ae(e){var t=Ce(e)?x.call(e):"";return t==n||t==i}function Ce(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Te(e){return we(e)?function(e,t){var n=Ee(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&we(e)}(e)&&M.call(e,"callee")&&(!L.call(e,"callee")||x.call(e)==r)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],i=n.length,o=!!i;for(var s in e)!t&&!M.call(e,s)||o&&("length"==s||me(s,i))||n.push(s);return n}(e):function(e){if(!ye(e))return G(e);var t=[];for(var r in Object(e))M.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return ue(e,!0,!0)}}).call(this,r(109)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deepFreeze=function e(t){return t&&(Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(r){!t.hasOwnProperty(r)||null===t[r]||"object"!=typeof t[r]&&"function"!=typeof t[r]||t[r].constructor===Buffer||Object.isFrozen(t[r])||e(t[r])}))),t}},function(e,t){var r=function(e,t,r,n){if(this.bucketSize=e,this.tokensPerInterval=t,"string"==typeof r)switch(r){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+r)}else this.interval=r;this.parentBucket=n,this.content=0,this.lastDrip=+new Date};r.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(e,t){var r=this;return this.bucketSize?e>this.bucketSize?(process.nextTick(t.bind(null,"Requested tokens "+e+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),e>this.content?n():this.parentBucket?this.parentBucket.removeTokens(e,(function(i,o){return i?t(i,null):e>r.content?n():(r.content-=e,void t(null,Math.min(o,r.content)))})):(this.content-=e,process.nextTick(t.bind(null,null,this.content)),!0)):(process.nextTick(t.bind(null,null,e,Number.POSITIVE_INFINITY)),!0);function n(){var n=Math.ceil((e-r.content)*(r.interval/r.tokensPerInterval));return setTimeout((function(){r.removeTokens(e,t)}),n),!1}},tryRemoveTokens:function(e){return!(this.bucketSize&&(e>this.bucketSize||(this.drip(),e>this.content||this.parentBucket&&!this.parentBucket.tryRemoveTokens(e)||(this.content-=e,0))))},drip:function(){if(this.tokensPerInterval){var e=+new Date,t=Math.max(e-this.lastDrip,0);this.lastDrip=e;var r=t*(this.tokensPerInterval/this.interval);this.content=Math.min(this.content+r,this.bucketSize)}else this.content=this.bucketSize}},e.exports=r},function(e,t,r){"use strict";function n(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="JwksRateLimitError",this.message=e}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.recommendedFontSources=t.recommendedStyleSources=t.recommendedScriptSources=t.recommendedImageSources=t.recommendedIframeSources=t.createErrorHandler=t.createStrictTransportMiddleware=t.createCacheControlMiddleware=t.createSecurityHeaderMiddleware=t.extractUserFromToken=t.signoutHandler=t.clearCookies=t.createBearerTokenValidator=t.createTokenValidator=t.createTokenExpSessionValidatorMiddleware=t.createTokenExpValidatorMiddleware=t.createTokenExpValidatorHandler=t.tokenExpValidatorHandler=t.createTokenSaver=t.extractCognitoUserFromToken=t.createCognitoAuthMiddleware=t.createCognitoJwtTokenGetter=t.createRelayAuthMiddleware=t.createRelayJwtTokenGetter=t.createMyIDAuthMiddleware=t.createMyIDJwtTokenGetter=t.createApiValidatorMiddleware=t.validateTokenExp=t.isTokenValid=t.matchRegexRoute=t.extractTokenData=t.expireCookies=t.tradeCodeForCredentials=t.createCPAuthMiddleware=t.createCPJwtTokenGetter=void 0;var a=s(r(47));t.createMyIDJwtTokenGetter=a.default;var c=s(r(52));t.createMyIDAuthMiddleware=c.default;var u=s(r(121));t.createRelayJwtTokenGetter=u.default;var l=s(r(122));t.createRelayAuthMiddleware=l.default;var f=s(r(124));t.createCognitoJwtTokenGetter=f.default;var p=s(r(125));t.createCognitoAuthMiddleware=p.default;var d=s(r(127));t.extractCognitoUserFromToken=d.default;var h=s(r(128));t.createCPJwtTokenGetter=h.default;var g=s(r(129));t.createCPAuthMiddleware=g.default;var m=s(r(131));t.createBearerTokenValidator=m.default;var y=s(r(132));t.createApiValidatorMiddleware=y.default;var v=s(r(133));t.createTokenSaver=v.default;var b=r(134);Object.defineProperty(t,"createTokenExpValidatorHandler",{enumerable:!0,get:function(){return b.createTokenExpValidatorHandler}}),Object.defineProperty(t,"createTokenExpValidatorMiddleware",{enumerable:!0,get:function(){return b.createTokenExpValidatorMiddleware}}),Object.defineProperty(t,"createTokenExpSessionValidatorMiddleware",{enumerable:!0,get:function(){return b.createTokenExpSessionValidatorMiddleware}});var E=s(r(135));t.createTokenValidator=E.default;var w=o(r(136));t.createSecurityHeaderMiddleware=w.default,Object.defineProperty(t,"recommendedIframeSources",{enumerable:!0,get:function(){return w.recommendedIframeSources}}),Object.defineProperty(t,"recommendedImageSources",{enumerable:!0,get:function(){return w.recommendedImageSources}}),Object.defineProperty(t,"recommendedScriptSources",{enumerable:!0,get:function(){return w.recommendedScriptSources}}),Object.defineProperty(t,"recommendedStyleSources",{enumerable:!0,get:function(){return w.recommendedStyleSources}}),Object.defineProperty(t,"recommendedFontSources",{enumerable:!0,get:function(){return w.recommendedFontSources}});var _=s(r(137));t.createCacheControlMiddleware=_.default;var A=s(r(138));t.createStrictTransportMiddleware=A.default;var C=s(r(139));t.createErrorHandler=C.default;var T=s(r(3));t.clearCookies=T.default;var S=s(r(140));t.signoutHandler=S.default;var I=s(r(141));t.extractUserFromToken=I.default;var N=r(1);Object.defineProperty(t,"isTokenValid",{enumerable:!0,get:function(){return N.isTokenValid}}),Object.defineProperty(t,"validateTokenExp",{enumerable:!0,get:function(){return N.validateTokenExp}}),Object.defineProperty(t,"extractTokenData",{enumerable:!0,get:function(){return N.extractTokenData}}),Object.defineProperty(t,"matchRegexRoute",{enumerable:!0,get:function(){return N.matchRegexRoute}}),Object.defineProperty(t,"tradeCodeForCredentials",{enumerable:!0,get:function(){return N.tradeCodeForCredentials}}),Object.defineProperty(t,"expireCookies",{enumerable:!0,get:function(){return N.expireCookies}});var O=b.createTokenExpValidatorHandler();t.tokenExpValidatorHandler=O},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=a(r(4)),u=a(r(2));t.default=function(e){return function(){var t,r=(t=regeneratorRuntime.mark((function t(r,n,o){var s,a,l,f,p,d,h,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"code"!==e.MYID_RESPONSE_TYPE){t.next=10;break}return a="form_post"===e.MYID_RESPONSE_MODE?r.body:r.query,l=a.code,f={client_id:e.MYID_CLIENT_ID,client_secret:e.MYID_CLIENT_SECRET,grant_type:e.MYID_GRANT_TYPE,redirect_uri:e.MYID_CALLBACK_URL,response_type:e.MYID_RESPONSE_TYPE,code:l},t.next=6,c.default.post("".concat(e.HTTPS?"https":"http","://").concat(e.URL_BASE,"/").concat(e.TOKEN_PATH),u.default.stringify(f),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 6:p=t.sent,s={access_token:p.data.access_token?p.data.access_token:void 0,id_token:p.data.id_token?p.data.id_token:void 0},t.next=12;break;case 10:d="form_post"===e.MYID_RESPONSE_MODE?r.body:r.query,h=d.id_token,g=d.access_token,s={access_token:g?String(g):void 0,id_token:h?String(h):void 0};case 12:n.locals.tokens=i(i({},n.locals.tokens),s),o(),t.next=20;break;case 16:return t.prev=16,t.t0=t.catch(0),console.trace(t.t0),t.abrupt("return",Promise.reject(t.t0));case 20:case"end":return t.stop()}}),t,null,[[0,16]])})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)}))});return function(e,t,n){return r.apply(this,arguments)}}()}},function(e,t,r){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},function(e,t,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],o(r),o(n))}function s(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=o(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},r=i.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=s(r[0]);n!==r[0]&&(t[r[0]]=n)}r=i.exec(e)}t["%C2"]="";for(var o=Object.keys(t),a=0;a<o.length;a++){var c=o[a];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},function(e,t,r){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},function(e,t,r){"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var s=n[o],a=e[s];(i?-1!==t.indexOf(s):t(s,a,e))&&(r[s]=a)}return r}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=r(8),u=a(r(16)),l=a(r(53)),f=a(r(9)),p=r(1);t.default=function(e){return function(){var t,r=(t=regeneratorRuntime.mark((function t(r,n,o){var s,a,d,h,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i({fromTokenExpiryInMinutes:3,validateToken:!0},e),a=s.routes.find((function(e){return"*"!==e.path&&c.matchPath(r.path,e)})),!f.default(s.whitelistedUrls,r.url)){t.next=6;break}o(),t.next=26;break;case 6:if(!r.cookies.id_token){t.next=24;break}if(d=r.cookies.id_token,!s.validateToken){t.next=21;break}return t.next=11,p.isTokenValid(s.envConfig,d);case 11:if(t.sent){t.next=16;break}return h={status:401,message:"Invalid token"},console.trace(h),t.abrupt("return",o(h));case 16:if(p.getDecodedToken(d).payload.aud===s.envConfig.MYID_CLIENT_ID){t.next=21;break}return g={status:401,message:"Invalid token"},console.trace(g),t.abrupt("return",o(g));case 21:o(),t.next=26;break;case 24:n.cookie("from",a?r.url:"/",{expires:u.default(new Date,s.fromTokenExpiryInMinutes)}),l.default(s.envConfig)(r,n);case 26:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)}))});return function(e,t,n){return r.apply(this,arguments)}}()}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(2));t.default=function(e){return function(t,r){var n=i.default.stringify({client_id:e.MYID_CLIENT_ID,redirect_uri:e.MYID_CALLBACK_URL,scope:e.MYID_SCOPE,response_type:e.MYID_RESPONSE_TYPE,response_mode:e.MYID_RESPONSE_MODE,nonce:e.NONCE});r.redirect("".concat(e.HTTPS?"https":"http","://").concat(e.URL_BASE,"/").concat(e.URL_PATH,"?").concat(n))}}},function(e,t,r){var n=r(5).Buffer,i=r(22),o=r(23),s=r(18),a=r(24),c=r(0);function u(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function l(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,i=e.encoding,s=o(t.alg),l=function(e,t,r){r=r||"utf8";var n=u(a(e),"binary"),i=u(a(t),r);return c.format("%s.%s",n,i)}(t,r,i),f=s.sign(l,n);return c.format("%s.%s",l,f)}function f(e){var t=e.secret||e.privateKey||e.key,r=new i(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new i(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}c.inherits(f,s),f.prototype.sign=function(){try{var e=l({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},f.sign=l,e.exports=f},function(e,t,r){"use strict";var n=r(11).Buffer,i=r(11).SlowBuffer;function o(e,t){if(!n.isBuffer(e)||!n.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(var r=0,i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r}e.exports=o,o.install=function(){n.prototype.equal=i.prototype.equal=function(e){return o(this,e)}};var s=n.prototype.equal,a=i.prototype.equal;o.restore=function(){n.prototype.equal=s,i.prototype.equal=a}},function(e,t){e.exports=r(41)},function(e,t,r){"use strict";var n=r(5).Buffer,i=r(58);function o(e){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function s(e,t,r){for(var n=0;t+n<r&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}e.exports={derToJose:function(e,t){e=o(e);var r=i(t),s=r+1,a=e.length,c=0;if(48!==e[c++])throw new Error('Could not find expected "seq"');var u=e[c++];if(129===u&&(u=e[c++]),a-c<u)throw new Error('"seq" specified length of "'+u+'", only "'+(a-c)+'" remaining');if(2!==e[c++])throw new Error('Could not find expected "int" for "r"');var l=e[c++];if(a-c-2<l)throw new Error('"r" specified length of "'+l+'", only "'+(a-c-2)+'" available');if(s<l)throw new Error('"r" specified length of "'+l+'", max of "'+s+'" is acceptable');var f=c;if(c+=l,2!==e[c++])throw new Error('Could not find expected "int" for "s"');var p=e[c++];if(a-c!==p)throw new Error('"s" specified length of "'+p+'", expected "'+(a-c)+'"');if(s<p)throw new Error('"s" specified length of "'+p+'", max of "'+s+'" is acceptable');var d=c;if((c+=p)!==a)throw new Error('Expected to consume entire buffer, but "'+(a-c)+'" bytes remain');var h=r-l,g=r-p,m=n.allocUnsafe(h+l+g+p);for(c=0;c<h;++c)m[c]=0;e.copy(m,c,f+Math.max(-h,0),f+l);for(var y=c=r;c<y+g;++c)m[c]=0;return e.copy(m,c,d+Math.max(-g,0),d+p),(m=m.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=o(e);var r=i(t),a=e.length;if(a!==2*r)throw new TypeError('"'+t+'" signatures must be "'+2*r+'" bytes, saw "'+a+'"');var c=s(e,0,r),u=s(e,r,e.length),l=r-c,f=r-u,p=2+l+1+1+f,d=p<128,h=n.allocUnsafe((d?2:3)+p),g=0;return h[g++]=48,d?h[g++]=p:(h[g++]=129,h[g++]=255&p),h[g++]=2,h[g++]=l,c<0?(h[g++]=0,g+=e.copy(h,g,0,r)):g+=e.copy(h,g,c,r),h[g++]=2,h[g++]=f,u<0?(h[g++]=0,e.copy(h,g,r)):e.copy(h,g,r+u),h}}},function(e,t,r){"use strict";function n(e){return(e/8|0)+(e%8==0?0:1)}var i={ES256:n(256),ES384:n(384),ES512:n(521)};e.exports=function(e){var t=i[e];if(t)return t;throw new Error('Unknown algorithm "'+e+'"')}},function(e,t,r){var n=r(5).Buffer,i=r(22),o=r(23),s=r(18),a=r(24),c=r(0),u=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function l(e){var t=e.split(".",1)[0];return function(e){if(function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e))return e;try{return JSON.parse(e)}catch(e){return}}(n.from(t,"base64").toString("binary"))}function f(e){return e.split(".")[2]}function p(e){return u.test(e)&&!!l(e)}function d(e,t,r){if(!t){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var i=f(e=a(e)),s=function(e){return e.split(".",2).join(".")}(e);return o(t).verify(s,i,r)}function h(e,t){if(t=t||{},!p(e=a(e)))return null;var r=l(e);if(!r)return null;var i=function(e,t){t=t||"utf8";var r=e.split(".")[1];return n.from(r,"base64").toString(t)}(e);return("JWT"===r.typ||t.json)&&(i=JSON.parse(i,t.encoding)),{header:r,payload:i,signature:f(e)}}function g(e){var t=(e=e||{}).secret||e.publicKey||e.key,r=new i(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=r,this.signature=new i(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}c.inherits(g,s),g.prototype.verify=function(){try{var e=d(this.signature.buffer,this.algorithm,this.key.buffer),t=h(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},g.decode=h,g.isValid=p,g.verify=d,e.exports=g},function(e,t,r){var n=r(12),i=r(25),o=r(26),s=r(21),a=r(27),c=r(28),u=r(17),l=["RS256","RS384","RS512","ES256","ES384","ES512"],f=["RS256","RS384","RS512"],p=["HS256","HS384","HS512"];c&&(l.splice(3,0,"PS256","PS384","PS512"),f.splice(3,0,"PS256","PS384","PS512")),e.exports=function(e,t,r,c){var d;if("function"!=typeof r||c||(c=r,r={}),r||(r={}),r=Object.assign({},r),d=c||function(e,t){if(e)throw e;return t},r.clockTimestamp&&"number"!=typeof r.clockTimestamp)return d(new n("clockTimestamp must be a number"));if(void 0!==r.nonce&&("string"!=typeof r.nonce||""===r.nonce.trim()))return d(new n("nonce must be a non-empty string"));var h=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return d(new n("jwt must be provided"));if("string"!=typeof e)return d(new n("jwt must be a string"));var g,m=e.split(".");if(3!==m.length)return d(new n("jwt malformed"));try{g=s(e,{complete:!0})}catch(e){return d(e)}if(!g)return d(new n("invalid token"));var y,v=g.header;if("function"==typeof t){if(!c)return d(new n("verify must be called asynchronous if secret or public key is provided as a callback"));y=t}else y=function(e,r){return r(null,t)};return y(v,(function(t,s){if(t)return d(new n("error in secret or public key callback: "+t.message));var c,y=""!==m[2].trim();if(!y&&s)return d(new n("jwt signature is required"));if(y&&!s)return d(new n("secret or public key must be provided"));if(y||r.algorithms||(r.algorithms=["none"]),r.algorithms||(r.algorithms=~s.toString().indexOf("BEGIN CERTIFICATE")||~s.toString().indexOf("BEGIN PUBLIC KEY")?l:~s.toString().indexOf("BEGIN RSA PUBLIC KEY")?f:p),!~r.algorithms.indexOf(g.header.alg))return d(new n("invalid algorithm"));try{c=u.verify(e,g.header.alg,s)}catch(e){return d(e)}if(!c)return d(new n("invalid signature"));var b=g.payload;if(void 0!==b.nbf&&!r.ignoreNotBefore){if("number"!=typeof b.nbf)return d(new n("invalid nbf value"));if(b.nbf>h+(r.clockTolerance||0))return d(new i("jwt not active",new Date(1e3*b.nbf)))}if(void 0!==b.exp&&!r.ignoreExpiration){if("number"!=typeof b.exp)return d(new n("invalid exp value"));if(h>=b.exp+(r.clockTolerance||0))return d(new o("jwt expired",new Date(1e3*b.exp)))}if(r.audience){var E=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(b.aud)?b.aud:[b.aud]).some((function(e){return E.some((function(t){return t instanceof RegExp?t.test(e):t===e}))})))return d(new n("jwt audience invalid. expected: "+E.join(" or ")))}if(r.issuer&&("string"==typeof r.issuer&&b.iss!==r.issuer||Array.isArray(r.issuer)&&-1===r.issuer.indexOf(b.iss)))return d(new n("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&b.sub!==r.subject)return d(new n("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&b.jti!==r.jwtid)return d(new n("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&b.nonce!==r.nonce)return d(new n("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if("number"!=typeof b.iat)return d(new n("iat required when maxAge is specified"));var w=a(r.maxAge,b.iat);if(void 0===w)return d(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(h>=w+(r.clockTolerance||0))return d(new o("maxAge exceeded",new Date(1e3*w)))}if(!0===r.complete){var _=g.signature;return d(null,{header:v,payload:b,signature:_})}return d(null,b)}))}},function(e,t){var r=1e3,n=6e4,i=60*n,o=24*i;function s(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=o?s(e,t,o,"day"):t>=i?s(e,t,i,"hour"):t>=n?s(e,t,n,"minute"):t>=r?s(e,t,r,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=i?Math.round(e/i)+"h":t>=n?Math.round(e/n)+"m":t>=r?Math.round(e/r)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){var r;t=e.exports=z,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],o=t.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var u=s++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;o[l]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var f=s++;o[f]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var p=s++;o[p]="(?:"+o[a]+"|"+o[u]+")";var d=s++;o[d]="(?:"+o[c]+"|"+o[u]+")";var h=s++;o[h]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var g=s++;o[g]="(?:-?("+o[d]+"(?:\\."+o[d]+")*))";var m=s++;o[m]="[0-9A-Za-z-]+";var y=s++;o[y]="(?:\\+("+o[m]+"(?:\\."+o[m]+")*))";var v=s++,b="v?"+o[l]+o[h]+"?"+o[y]+"?";o[v]="^"+b+"$";var E="[v=\\s]*"+o[f]+o[g]+"?"+o[y]+"?",w=s++;o[w]="^"+E+"$";var _=s++;o[_]="((?:<|>)?=?)";var A=s++;o[A]=o[c]+"|x|X|\\*";var C=s++;o[C]=o[a]+"|x|X|\\*";var T=s++;o[T]="[v=\\s]*("+o[C]+")(?:\\.("+o[C]+")(?:\\.("+o[C]+")(?:"+o[h]+")?"+o[y]+"?)?)?";var S=s++;o[S]="[v=\\s]*("+o[A]+")(?:\\.("+o[A]+")(?:\\.("+o[A]+")(?:"+o[g]+")?"+o[y]+"?)?)?";var I=s++;o[I]="^"+o[_]+"\\s*"+o[T]+"$";var N=s++;o[N]="^"+o[_]+"\\s*"+o[S]+"$";var O=s++;o[O]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var R=s++;o[R]="(?:~>?)";var M=s++;o[M]="(\\s*)"+o[R]+"\\s+",i[M]=new RegExp(o[M],"g");var x=s++;o[x]="^"+o[R]+o[T]+"$";var D=s++;o[D]="^"+o[R]+o[S]+"$";var k=s++;o[k]="(?:\\^)";var B=s++;o[B]="(\\s*)"+o[k]+"\\s+",i[B]=new RegExp(o[B],"g");var j=s++;o[j]="^"+o[k]+o[T]+"$";var P=s++;o[P]="^"+o[k]+o[S]+"$";var F=s++;o[F]="^"+o[_]+"\\s*("+E+")$|^$";var L=s++;o[L]="^"+o[_]+"\\s*("+b+")$|^$";var U=s++;o[U]="(\\s*)"+o[_]+"\\s*("+E+"|"+o[T]+")",i[U]=new RegExp(o[U],"g");var V=s++;o[V]="^\\s*("+o[T]+")\\s+-\\s+("+o[T]+")\\s*$";var Q=s++;o[Q]="^\\s*("+o[S]+")\\s+-\\s+("+o[S]+")\\s*$";var G=s++;o[G]="(<|>)?=?\\s*\\*";for(var W=0;W<35;W++)r(W,o[W]),i[W]||(i[W]=new RegExp(o[W]));function Y(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof z)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?i[w]:i[v]).test(e))return null;try{return new z(e,t)}catch(e){return null}}function z(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof z){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof z))return new z(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[w]:i[v]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=Y,t.valid=function(e,t){var r=Y(e,t);return r?r.version:null},t.clean=function(e,t){var r=Y(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=z,z.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},z.prototype.toString=function(){return this.version},z.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof z||(e=new z(e,this.options)),this.compareMain(e)||this.comparePre(e)},z.prototype.compareMain=function(e){return e instanceof z||(e=new z(e,this.options)),q(this.major,e.major)||q(this.minor,e.minor)||q(this.patch,e.patch)},z.prototype.comparePre=function(e){if(e instanceof z||(e=new z(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return q(n,i)}while(++t)},z.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new z(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(K(e,t))return null;var r=Y(e),n=Y(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return i+s;return o},t.compareIdentifiers=q;var H=/^[0-9]+$/;function q(e,t){var r=H.test(e),n=H.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function J(e,t,r){return new z(e,r).compare(new z(t,r))}function X(e,t,r){return J(e,t,r)>0}function Z(e,t,r){return J(e,t,r)<0}function K(e,t,r){return 0===J(e,t,r)}function $(e,t,r){return 0!==J(e,t,r)}function ee(e,t,r){return J(e,t,r)>=0}function te(e,t,r){return J(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return K(e,r,n);case"!=":return $(e,r,n);case">":return X(e,r,n);case">=":return ee(e,r,n);case"<":return Z(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return q(t,e)},t.major=function(e,t){return new z(e,t).major},t.minor=function(e,t){return new z(e,t).minor},t.patch=function(e,t){return new z(e,t).patch},t.compare=J,t.compareLoose=function(e,t){return J(e,t,!0)},t.rcompare=function(e,t,r){return J(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=X,t.lt=Z,t.eq=K,t.neq=$,t.gte=ee,t.lte=te,t.cmp=re,t.Comparator=ne;var ie={};function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ne)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,n,i,o,s,a,c,u,l,f,p){return((t=se(r)?"":se(n)?">="+r+".0.0":se(i)?">="+r+"."+n+".0":">="+t)+" "+(a=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":f?"<="+c+"."+u+"."+l+"-"+f:"<="+a)).trim()}function ce(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(i=0;i<e.length;i++)if(r(e[i].semver),e[i].semver!==ie&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ue(e,t,r){try{t=new oe(t,r)}catch(e){return!1}return t.test(e)}function le(e,t,r,n){var i,o,s,a,c;switch(e=new z(e,n),t=new oe(t,n),r){case">":i=X,o=te,s=Z,a=">",c=">=";break;case"<":i=Z,o=ee,s=X,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],f=null,p=null;if(l.forEach((function(e){e.semver===ie&&(e=new ne(">=0.0.0")),f=f||e,p=p||e,i(e.semver,f.semver,n)?f=e:s(e.semver,p.semver,n)&&(p=e)})),f.operator===a||f.operator===c)return!1;if((!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?i[F]:i[L],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new z(r[2],this.options.loose):this.semver=ie},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new z(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new oe(e.value,t),ue(this.value,r,t);if(""===e.operator)return r=new oe(this.value,t),ue(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||o&&s||a||c},t.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?i[Q]:i[V];e=e.replace(n,ae),r("hyphen replace",e),e=e.replace(i[U],"$1$2$3"),r("comparator trim",e,i[U]),e=(e=(e=e.replace(i[M],"$1~")).replace(i[B],"$1^")).split(/\s+/).join(" ");var o=t?i[F]:i[L],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?i[P]:i[j];return e.replace(n,(function(t,n,i,o,s){var a;return r("caret",e,t,n,i,o,s),se(n)?a="":se(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(o)?a="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===i?">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===i?">="+n+"."+i+"."+o+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?i[D]:i[x];return e.replace(n,(function(t,n,i,o,s){var a;return r("tilde",e,t,n,i,o,s),se(n)?a="":se(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(o)?a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0"):a=">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?i[N]:i[I];return e.replace(n,(function(t,n,i,o,s,a){r("xRange",e,t,n,i,o,s,a);var c=se(i),u=c||se(o),l=u||se(s);return"="===n&&l&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),t=n+i+"."+o+"."+s):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(i[G],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new ne(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new z(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=ue,t.maxSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(n&&-1!==i.compare(e)||(i=new z(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(n&&1!==i.compare(e)||(i=new z(n=e,r)))})),n},t.minVersion=function(e,t){e=new oe(e,t);var r=new z("0.0.0");if(e.test(r))return r;if(r=new z("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new z(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!X(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},t.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return le(e,t,"<",r)},t.gtr=function(e,t,r){return le(e,t,">",r)},t.outside=le,t.prerelease=function(e,t){var r=Y(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new oe(e,r),t=new oe(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof z)return e;if("string"!=typeof e)return null;var t=e.match(i[O]);return null==t?null:Y(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t,r){var n=r(27),i=r(28),o=r(17),s=r(64),a=r(65),c=r(66),u=r(67),l=r(68),f=r(69),p=r(70),d=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];i&&d.splice(3,0,"PS256","PS384","PS512");var h={expiresIn:{isValid:function(e){return c(e)||f(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return c(e)||f(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return f(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:s.bind(null,d),message:'"algorithm" must be a valid string enum value'},header:{isValid:l,message:'"header" must be an object'},encoding:{isValid:f,message:'"encoding" must be a string'},issuer:{isValid:f,message:'"issuer" must be a string'},subject:{isValid:f,message:'"subject" must be a string'},jwtid:{isValid:f,message:'"jwtid" must be a string'},noTimestamp:{isValid:a,message:'"noTimestamp" must be a boolean'},keyid:{isValid:f,message:'"keyid" must be a string'},mutatePayload:{isValid:a,message:'"mutatePayload" must be a boolean'}},g={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function m(e,t,r,n){if(!l(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach((function(i){var o=e[i];if(o){if(!o.isValid(r[i]))throw new Error(o.message)}else if(!t)throw new Error('"'+i+'" is not allowed in "'+n+'"')}))}var y={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},v=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,r,i){"function"==typeof r?(i=r,r={}):r=r||{};var s="object"==typeof e&&!Buffer.isBuffer(e),a=Object.assign({alg:r.algorithm||"HS256",typ:s?"JWT":void 0,kid:r.keyid},r.header);function c(e){if(i)return i(e);throw e}if(!t&&"none"!==r.algorithm)return c(new Error("secretOrPrivateKey must have a value"));if(void 0===e)return c(new Error("payload is required"));if(s){try{!function(e){m(g,!0,e,"payload")}(e)}catch(e){return c(e)}r.mutatePayload||(e=Object.assign({},e))}else{var u=v.filter((function(e){return void 0!==r[e]}));if(u.length>0)return c(new Error("invalid "+u.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==r.expiresIn)return c(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==r.notBefore)return c(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{!function(e){m(h,!1,e,"options")}(r)}catch(e){return c(e)}var l=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:s&&(e.iat=l),void 0!==r.notBefore){try{e.nbf=n(r.notBefore,l)}catch(e){return c(e)}if(void 0===e.nbf)return c(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==r.expiresIn&&"object"==typeof e){try{e.exp=n(r.expiresIn,l)}catch(e){return c(e)}if(void 0===e.exp)return c(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(y).forEach((function(t){var n=y[t];if(void 0!==r[t]){if(void 0!==e[n])return c(new Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=r[t]}}));var f=r.encoding||"utf8";if("function"!=typeof i)return o.sign({header:a,payload:e,secret:t,encoding:f});i=i&&p(i),o.createSign({header:a,privateKey:t,payload:e,encoding:f}).once("error",i).once("done",(function(e){i(null,e)}))}},function(e,t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=/^(?:0|[1-9]\d*)$/,a=parseInt;function c(e){return e!=e}var u,l,f=Object.prototype,p=f.hasOwnProperty,d=f.toString,h=f.propertyIsEnumerable,g=(u=Object.keys,l=Object,function(e){return u(l(e))}),m=Math.max;function y(e){if(r=(t=e)&&t.constructor,t!==("function"==typeof r&&r.prototype||f))return g(e);var t,r,n=[];for(var i in Object(e))p.call(e,i)&&"constructor"!=i&&n.push(i);return n}function v(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||s.test(e))&&e>-1&&e%1==0&&e<t}var b=Array.isArray;function E(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=w(e)?d.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){return!!e&&"object"==typeof e}e.exports=function(e,t,s,u){var l;e=E(e)?e:(l=e)?function(e,t){return function(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r]);return i}(t,(function(t){return e[t]}))}(l,function(e){return E(e)?function(e,t){var r=b(e)||function(e){return function(e){return _(e)&&E(e)}(e)&&p.call(e,"callee")&&(!h.call(e,"callee")||"[object Arguments]"==d.call(e))}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var o in e)!t&&!p.call(e,o)||i&&("length"==o||v(o,n))||r.push(o);return r}(e):y(e)}(l)):[],s=s&&!u?function(e){var t=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||_(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var s=i.test(e);return s||o.test(e)?a(e.slice(2),s?2:8):n.test(e)?NaN:+e}(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),s=t%1;return t==t?s?t-s:t:0}(s):0;var f=e.length;return s<0&&(s=m(f+s,0)),function(e){return"string"==typeof e||!b(e)&&_(e)&&"[object String]"==d.call(e)}(e)?s<=f&&e.indexOf(t,s)>-1:!!f&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var i=e.length,o=r+-1;++o<i;)if(t(e[o],o,e))return o;return-1}(e,c,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,s)>-1}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Boolean]"==r.call(e)}},function(e,t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,a=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return"number"==typeof e&&e==function(e){var t=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==a.call(e)}(e))return NaN;if(c(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=c(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var u=i.test(e);return u||o.test(e)?s(e.slice(2),u?2:8):n.test(e)?NaN:+e}(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),u=t%1;return t==t?u?t-u:t:0}(e)}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Number]"==r.call(e)}},function(e,t){var r,n,i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,c=s.call(Object),u=o.toString,l=(r=Object.getPrototypeOf,n=Object,function(e){return r(n(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=u.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=l(e);if(null===t)return!0;var r=a.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==c}},function(e,t){var r=Object.prototype.toString,n=Array.isArray;e.exports=function(e){return"string"==typeof e||!n(e)&&function(e){return!!e&&"object"==typeof e}(e)&&"[object String]"==r.call(e)}},function(e,t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,a=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return function(e,t){var u;if("function"!=typeof t)throw new TypeError("Expected a function");return e=function(e){var t=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==a.call(e)}(e))return NaN;if(c(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=c(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var u=i.test(e);return u||o.test(e)?s(e.slice(2),u?2:8):n.test(e)?NaN:+e}(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),u=t%1;return t==t?u?t-u:t:0}(e),function(){return--e>0&&(u=t.apply(this,arguments)),e<=1&&(t=void 0),u}}(2,e)}},function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")},e.exports=t.default},function(e,t,r){e.exports=r(9)},function(e,t){e.exports=r(4)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))};var n,i=(n=r(0))&&n.__esModule?n:{default:n};e.exports=t.default},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){var n=r(21),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},function(e,t,r){var n=r(5).Symbol;e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8);Object.defineProperty(t,"buildErrorUrl",{enumerable:!0,get:function(){return n.buildErrorUrl}}),Object.defineProperty(t,"errorHandler",{enumerable:!0,get:function(){return n.errorHandler}}),Object.defineProperty(t,"getStatus",{enumerable:!0,get:function(){return n.getStatus}}),Object.defineProperty(t,"handleRefresh",{enumerable:!0,get:function(){return n.handleRefresh}}),Object.defineProperty(t,"isAxiosError",{enumerable:!0,get:function(){return n.isAxiosError}}),Object.defineProperty(t,"propagateError",{enumerable:!0,get:function(){return n.propagateError}}),Object.defineProperty(t,"redirectToErrorPage",{enumerable:!0,get:function(){return n.redirectToErrorPage}}),Object.defineProperty(t,"refreshSession",{enumerable:!0,get:function(){return n.refreshSession}});var i=r(10);Object.defineProperty(t,"getDiffAgainstCurrentTime",{enumerable:!0,get:function(){return i.getDiffAgainstCurrentTime}});var o=r(15);Object.defineProperty(t,"isBrowserSupported",{enumerable:!0,get:function(){return o.isBrowserSupported}});var s=r(17);Object.defineProperty(t,"wait",{enumerable:!0,get:function(){return s.wait}}),Object.defineProperty(t,"fetchFile",{enumerable:!0,get:function(){return s.fetchFile}});var a=r(18);Object.defineProperty(t,"regulateQueryHandler",{enumerable:!0,get:function(){return a.regulateQueryHandler}})},function(e,t,r){"use strict";var n=r(1),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.handleRefresh=t.propagateError=t.redirectToErrorPage=t.refreshSession=t.buildErrorUrl=t.errorHandler=t.getStatus=t.isAxiosError=void 0;var s=o(r(2));function a(e){return void 0!==e.isAxiosError}function c(e){return e.response?e.response.status||e.response.data.status:null}t.isAxiosError=a,t.getStatus=c,t.errorHandler=function(e,t,r,n){var i,o,s={refresh:(null==n?void 0:n.refresh)||[403],propagate:(null==n?void 0:n.propagate)||[401]},u=a(e)?c(e):void 0;r?t.propagateError(e):a(e)&&(null===(i=s.refresh)||void 0===i?void 0:i.find((function(e){return e==u})))?t.refreshSession(e):a(e)&&(null===(o=s.propagate)||void 0===o?void 0:o.find((function(e){return e==u})))?t.propagateError(e):t.redirectToErrorPage(e)},t.buildErrorUrl=function(e,t){return"/error?status=".concat(e,"&msg=").concat(t)},t.refreshSession=function(e){return i(void 0,void 0,void 0,n.mark((function r(){var i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=c(e),console.error("client session expired"),r.next=4,s.default.get("/signout");case 4:window.location.href=t.buildErrorUrl(i,e.message);case 5:case"end":return r.stop()}}),r)})))},t.redirectToErrorPage=function(e){var r=a(e)?c(e):void 0;window.location.href=t.buildErrorUrl(r,e.message)},t.propagateError=function(e){throw e},t.handleRefresh=function(){return i(void 0,void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.default.get("/signout");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:window.location.href="/";case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))}},function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function a(e,t,r,n){var i=t&&t.prototype instanceof l?t:l,o=Object.create(i.prototype),s=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return{value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var a=b(s,r);if(a){if(a===u)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,s),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=a;var u={};function l(){}function f(){}function p(){}var d={};d[i]=function(){return this};var h=Object.getPrototypeOf,g=h&&h(h(A([])));g&&g!==t&&r.call(g,i)&&(d=g);var m=p.prototype=l.prototype=Object.create(d);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function v(e,t){var n;this._invoke=function(i,o){function s(){return new t((function(n,s){!function n(i,o,s,a){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(u.arg)}(i,o,n,s)}))}return n=n?n.then(s,s):s()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=m.constructor=p,p.constructor=f,p[s]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},y(v.prototype),v.prototype[o]=function(){return this},e.AsyncIterator=v,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var s=new v(a(t,r,n,i),o);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(m),m[s]="Generator",m[i]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=A,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;w(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getDiffAgainstCurrentTime=void 0;var i=n(r(11)),o=n(r(13));t.getDiffAgainstCurrentTime=function(e){return o.default(i.default(e),new Date)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,i.default)(e);return(0,n.default)(1e3*t)};var n=s(r(3)),i=s(r(12)),o=s(r(0));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var r=(0,n.default)(e,t)/1e3;return r>0?Math.floor(r):Math.ceil(r)};var n=o(r(14)),i=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var r=(0,n.default)(e),o=(0,n.default)(t);return r.getTime()-o.getTime()};var n=o(r(3)),i=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserSupported=void 0;var s=o(r(16));t.isBrowserSupported=function(e){if("undefined"==typeof window)throw new Error("Not a Browser Environment, check if window is defined");var t=s.getParser(window.navigator.userAgent).satisfies(e);return Boolean(t)}},function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(r),s=Math.max(i,o),a=0,c=e.map([t,r],(function(t){var r=s-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(n&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===a)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=e,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var a=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=o.length;t<r;t+=1)a();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},o=r(18),s=function(){function e(){}var t;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},(t=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e,t),e}();t.default=s,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=c(r(92)),i=c(r(93)),o=c(r(94)),s=c(r(95)),a=c(r(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},o=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(i[t]=s,o+=1):"object"==typeof s&&(r[t]=s,n+=1)})),n>0){var s=Object.keys(r),c=a.default.find(s,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(r[c]);if(void 0!==u)return u}var l=a.default.find(s,(function(e){return t.isPlatform(e)}));if(l){var f=this.satisfies(r[l]);if(void 0!==f)return f}}if(o>0){var p=Object.keys(i),d=a.default.find(p,(function(e){return t.isBrowser(e,!0)}));if(void 0!==d)return this.compareVersion(i[d])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(a.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(e){var t=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return{name:o.OS_MAP.iOS,version:t}}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=i.default.getMacOSVersionName(t),n={name:o.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:o.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:o.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=s,e.exports=t.default}})},function(e,t,r){"use strict";var n=r(1),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFile=t.wait=void 0;var s=o(r(2));t.wait=function(e){return new Promise((function(t){setTimeout(t,e)}))},t.fetchFile=function(e,t,r){return i(void 0,void 0,void 0,n.mark((function i(){var o,a,c,u,l;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=6;break}return n.next=3,s.default.post(e,t,{responseType:"blob",headers:{"Content-Type":"multipart/form-data"}});case 3:n.t0=n.sent,n.next=9;break;case 6:return n.next=8,s.default.get(e,{responseType:"blob"});case 8:n.t0=n.sent;case 9:a=n.t0,c=a.headers["content-disposition"],u=r||(null===(o=null==c?void 0:c.match(/filename="(.*)"/))||void 0===o?void 0:o[1])||"download",(l=document.createElement("a")).href=URL.createObjectURL(new Blob([a.data])),l.setAttribute("download",u),document.body.appendChild(l),l.click(),l.remove();case 18:case"end":return n.stop()}}),i)})))}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.regulateQueryHandler=void 0;var i=n(r(19)),o=function(e,t,r){var n,o=i.default((function(){n=e.apply(void 0,arguments)}),r);return{cancel:function(){o.cancel(),n&&t(n)},flush:o.flush,push:function(){n&&t(n),o.apply(void 0,arguments)}}};t.regulateQueryHandler=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.cancel,n=void 0===r?function(){}:r,i=t.minChars,s=void 0===i?3:i,a=t.wait,c=void 0===a?1e3:a,u=o(e,n,c);return Object.assign(Object.assign({},u),{push:function(e){e.length>=s?u.push(e):u.cancel()}})}},function(e,t,r){var n=r(4),i=r(20),o=r(23),s=Math.max,a=Math.min;e.exports=function(e,t,r){var c,u,l,f,p,d,h=0,g=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=c,n=u;return c=u=void 0,h=t,f=e.apply(n,r)}function b(e){return h=e,p=setTimeout(w,t),g?v(e):f}function E(e){var r=e-d;return void 0===d||r>=t||r<0||m&&e-h>=l}function w(){var e=i();if(E(e))return _(e);p=setTimeout(w,function(e){var r=t-(e-d);return m?a(r,l-(e-h)):r}(e))}function _(e){return p=void 0,y&&c?v(e):(c=u=void 0,f)}function A(){var e=i(),r=E(e);if(c=arguments,u=this,d=e,r){if(void 0===p)return b(d);if(m)return clearTimeout(p),p=setTimeout(w,t),v(d)}return void 0===p&&(p=setTimeout(w,t)),f}return t=o(t)||0,n(r)&&(g=!!r.leading,l=(m="maxWait"in r)?s(o(r.maxWait)||0,t):l,y="trailing"in r?!!r.trailing:y),A.cancel=function(){void 0!==p&&clearTimeout(p),h=0,c=d=u=p=void 0},A.flush=function(){return void 0===p?f:_(i())},A}},function(e,t,r){var n=r(5);e.exports=function(){return n.Date.now()}},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(22))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(4),i=r(24),o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=a.test(e);return r||c.test(e)?u(e.slice(2),r?2:8):s.test(e)?NaN:+e}},function(e,t,r){var n=r(25),i=r(28);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},function(e,t,r){var n=r(6),i=r(26),o=r(27),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},function(e,t,r){var n=r(6),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var i=s.call(e);return n&&(t?e[a]=r:delete e[a]),i}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}}])},function(e,t,r){"use strict";function n(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function a(e){n(s,i,o,a,c,"next",e)}function c(e){n(s,i,o,a,c,"throw",e)}a(void 0)}))}}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSigningKey=void 0;var s=o(r(73)),a=r(0);function c(e){return void 0!==e.MYID_PROTOCOL}function u(){return(u=i(regeneratorRuntime.mark((function e(t,r){var n,i,o,u,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c(t)?t.MYID_PROTOCOL:t.HTTPS?"https":"http",i=c(t)?t.MYID_BASE:t.URL_BASE,o=(null==t?void 0:t.JWKS_PATH)||"".concat(n,"://").concat(i,"/token/JWKS"),u=s.default({cache:!0,cacheMaxEntries:5,cacheMaxAge:432e5,rateLimit:!0,jwksRequestsPerMinute:10,jwksUri:o}),l=a.promisify(u.getSigningKey),e.next=7,l(r.kid);case 7:return f=e.sent,e.abrupt("return",f.getPublicKey());case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.getSigningKey=function(e,t){return u.apply(this,arguments)}},function(e,t,r){"use strict";var n=r(6),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7)),o=r(117),s=r(118),a=r(119),c=r(120);e.exports=function(e){return new n.JwksClient(e)},e.exports.JwksClient=n.JwksClient,e.exports.ArgumentError=i.ArgumentError,e.exports.JwksError=i.JwksError,e.exports.JwksRateLimitError=i.JwksRateLimitError,e.exports.SigningKeyNotFoundError=i.SigningKeyNotFoundError,e.exports.expressJwtSecret=s.expressJwtSecret,e.exports.hapiJwt2Key=o.hapiJwt2Key,e.exports.hapiJwt2KeyAsync=o.hapiJwt2KeyAsync,e.exports.koaJwtSecret=a.koaJwtSecret,e.exports.passportJwtSecret=c.passportJwtSecret},function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(30)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var r=1e3,n=6e4,i=60*n,o=24*i;function s(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=o?s(e,t,o,"day"):t>=i?s(e,t,i,"hour"):t>=n?s(e,t,n,"minute"):t>=r?s(e,t,r,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=i?Math.round(e/i)+"h":t>=n?Math.round(e/n)+"m":t>=r?Math.round(e/r)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){const n=r(13),i=r(0);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${n} [0m`;r[0]=o+r[0].split("\n").join("\n"+o),r.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(14);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(30)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},function(e,t){e.exports=r(10)},function(e,t,r){"use strict";e.exports=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return-1!==n&&(-1===i||n<i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e,t){var r={url:e.uri,headers:e.headers,timeout:e.timeout},l=e.proxy||(0,u.getProxyForUrl)(e.uri);if(l||e.agentOptions||null!=e.strictSSL){var p=n({},null!=e.strictSSL&&{rejectUnauthorized:e.strictSSL},e.headers&&{headers:e.headers},e.agentOptions);if(l){var d=s.default.parse(l);r.proxy=!1;var h=n({},p,d);r.httpAgent=new a.default(h),r.httpsAgent=new c.default(h)}else r.httpAgent=new i.default.Agent(p),r.httpsAgent=new o.default.Agent(p)}f.request(r).then((function(e){return t(null,e)})).catch((function(e){return t(e)}))};var i=l(r(80)),o=l(r(29)),s=l(r(15)),a=l(r(81)),c=l(r(93)),u=r(100);function l(e){return e&&e.__esModule?e:{default:e}}var f=r(4).default},function(e,t){e.exports=r(35)},function(e,t,r){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(r(82));function i(e){return new n.default(e)}!function(e){e.HttpProxyAgent=n.default,e.prototype=n.default.prototype}(i||(i={})),e.exports=i},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(31)),s=i(r(32)),a=i(r(15)),c=i(r(83)),u=i(r(87)),l=r(34),f=c.default("http-proxy-agent");class p extends l.Agent{constructor(e){let t;if(t="string"==typeof e?a.default.parse(e):e,!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");f("Creating new HttpProxyAgent instance: %o",t),super(t);const r=Object.assign({},t);var n;this.secureProxy=t.secureProxy||"string"==typeof(n=r.protocol)&&/^https:?$/i.test(n),r.host=r.hostname||r.host,"string"==typeof r.port&&(r.port=parseInt(r.port,10)),!r.port&&r.host&&(r.port=this.secureProxy?443:80),r.host&&r.path&&(delete r.path,delete r.pathname),this.proxy=r}callback(e,t){return n(this,void 0,void 0,(function*(){const{proxy:r,secureProxy:n}=this,i=a.default.parse(e.path);let c;if(i.protocol||(i.protocol="http:"),i.hostname||(i.hostname=t.hostname||t.host||null),null==i.port&&(t.port,1)&&(i.port=String(t.port)),"80"===i.port&&delete i.port,e.path=a.default.format(i),r.auth&&e.setHeader("Proxy-Authorization","Basic "+Buffer.from(r.auth).toString("base64")),n?(f("Creating `tls.Socket`: %o",r),c=s.default.connect(r)):(f("Creating `net.Socket`: %o",r),c=o.default.connect(r)),e._header){let t,r;f("Regenerating stored HTTP header string for request"),e._header=null,e._implicitHeader(),e.output&&e.output.length>0?(f("Patching connection write() output buffer with updated header"),t=e.output[0],r=t.indexOf("\r\n\r\n")+4,e.output[0]=e._header+t.substring(r),f("Output buffer: %o",e.output)):e.outputData&&e.outputData.length>0&&(f("Patching connection write() output buffer with updated header"),t=e.outputData[0].data,r=t.indexOf("\r\n\r\n")+4,e.outputData[0].data=e._header+t.substring(r),f("Output buffer: %o",e.outputData[0].data))}return yield u.default(c,"connect"),c}))}}t.default=p},function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(84):e.exports=r(86)},function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(33)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var r=1e3,n=6e4,i=60*n,o=24*i;function s(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=o?s(e,t,o,"day"):t>=i?s(e,t,i,"hour"):t>=n?s(e,t,n,"minute"):t>=r?s(e,t,r,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=i?Math.round(e/i)+"h":t>=n?Math.round(e/n)+"m":t>=r?Math.round(e/r)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){const n=r(13),i=r(0);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${n} [0m`;r[0]=o+r[0].split("\n").join("\n"+o),r.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(14);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(33)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},function(e,t,r){"use strict";function n(){}function i(e,t){const r=i.spread(e,t),n=r.then(e=>e[0]);return n.cancel=r.cancel,n}!function(e){e.spread=function(e,t){let r=null;const i=new Promise((o,s)=>{function a(){e.removeListener(t,c),e.removeListener("error",u),i.cancel=n}function c(...e){a(),o(e)}function u(e){a(),s(e)}r=a,e.on(t,c),e.on("error",u)});if(!r)throw new TypeError("Could not get `cancel()` function");return i.cancel=r,i}}(i||(i={})),e.exports=i},function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(89):e.exports=r(91)},function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(35)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var r=1e3,n=6e4,i=60*n,o=24*i;function s(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=o?s(e,t,o,"day"):t>=i?s(e,t,i,"hour"):t>=n?s(e,t,n,"minute"):t>=r?s(e,t,r,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=i?Math.round(e/i)+"h":t>=n?Math.round(e/n)+"m":t>=r?Math.round(e/r)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){const n=r(13),i=r(0);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${n} [0m`;r[0]=o+r[0].split("\n").join("\n"+o),r.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(14);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(35)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r){return new Promise((n,i)=>{e.call(this,t,r,(e,t)=>{e?i(e):n(t)})})}}},function(e,t,r){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(r(94));function i(e){return new n.default(e)}!function(e){e.HttpsProxyAgent=n.default,e.prototype=n.default.prototype}(i||(i={})),e.exports=i},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(31)),s=i(r(32)),a=i(r(15)),c=i(r(95)),u=i(r(36)),l=r(34),f=i(r(99)),p=u.default("https-proxy-agent:agent");class d extends l.Agent{constructor(e){let t;if(t="string"==typeof e?a.default.parse(e):e,!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");p("creating new HttpsProxyAgent instance: %o",t),super(t);const r=Object.assign({},t);var n;this.secureProxy=t.secureProxy||"string"==typeof(n=r.protocol)&&/^https:?$/i.test(n),r.host=r.hostname||r.host,"string"==typeof r.port&&(r.port=parseInt(r.port,10)),!r.port&&r.host&&(r.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in r)&&(r.ALPNProtocols=["http 1.1"]),r.host&&r.path&&(delete r.path,delete r.pathname),this.proxy=r}callback(e,t){return n(this,void 0,void 0,(function*(){const{proxy:r,secureProxy:n}=this;let i;n?(p("Creating `tls.Socket`: %o",r),i=s.default.connect(r)):(p("Creating `net.Socket`: %o",r),i=o.default.connect(r));const a=Object.assign({},r.headers);let u=`CONNECT ${t.host}:${t.port} HTTP/1.1\r\n`;r.auth&&(a["Proxy-Authorization"]="Basic "+Buffer.from(r.auth).toString("base64"));let{host:l,port:d,secureEndpoint:g}=t;(function(e,t){return Boolean(!t&&80===e||t&&443===e)})(d,g)||(l+=":"+d),a.Host=l,a.Connection="close";for(const e of Object.keys(a))u+=`${e}: ${a[e]}\r\n`;const m=f.default(i);i.write(u+"\r\n");const{statusCode:y,buffered:v}=yield m;if(200===y){if(e.once("socket",h),t.secureEndpoint){const e=t.servername||t.host;if(!e)throw new Error('Could not determine "servername"');return p("Upgrading socket connection to TLS"),s.default.connect(Object.assign(Object.assign({},function(e,...t){const r={};let n;for(n in e)t.includes(n)||(r[n]=e[n]);return r}(t,"host","hostname","path","port")),{socket:i,servername:e}))}return i}i.destroy();const b=new o.default.Socket;return b.readable=!0,e.once("socket",e=>{p("replaying proxy buffer for failed request"),c.default(e.listenerCount("data")>0),e.push(v),e.push(null)}),b}))}}function h(e){e.resume()}t.default=d},function(e,t){e.exports=r(56)},function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(37)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var r=1e3,n=6e4,i=60*n,o=24*i;function s(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=o?s(e,t,o,"day"):t>=i?s(e,t,i,"hour"):t>=n?s(e,t,n,"minute"):t>=r?s(e,t,r,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=i?Math.round(e/i)+"h":t>=n?Math.round(e/n)+"m":t>=r?Math.round(e/r)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){const n=r(13),i=r(0);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${n} [0m`;r[0]=o+r[0].split("\n").join("\n"+o),r.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(14);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(37)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(36)).default("https-proxy-agent:parse-proxy-response");t.default=function(e){return new Promise((t,r)=>{let n=0;const o=[];function s(){const r=e.read();r?function(e){o.push(e),n+=e.length;const r=Buffer.concat(o,n);if(-1===r.indexOf("\r\n\r\n"))return i("have not received end of HTTP headers yet..."),void s();const a=r.toString("ascii",0,r.indexOf("\r\n")),c=+a.split(" ")[1];i("got proxy server response: %o",a),t({statusCode:c,buffered:r})}(r):e.once("readable",s)}function a(e){i("onclose had error %o",e)}function c(){i("onend")}e.on("error",(function t(n){e.removeListener("end",c),e.removeListener("error",t),e.removeListener("close",a),e.removeListener("readable",s),i("onerror %o",n),r(n)})),e.on("close",a),e.on("end",c),s()})}},function(e,t,r){"use strict";var n=r(15).parse,i={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},o=String.prototype.endsWith||function(e){return e.length<=this.length&&-1!==this.indexOf(e,this.length-e.length)};function s(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}t.getProxyForUrl=function(e){var t="string"==typeof e?n(e):e||{},r=t.protocol,a=t.host,c=t.port;if("string"!=typeof a||!a||"string"!=typeof r)return"";if(r=r.split(":",1)[0],!function(e,t){var r=(s("npm_config_no_proxy")||s("no_proxy")).toLowerCase();return!r||"*"!==r&&r.split(/[,\s]/).every((function(r){if(!r)return!0;var n=r.match(/^(.+):(\d+)$/),i=n?n[1]:r,s=n?parseInt(n[2]):0;return!(!s||s===t)||(/^[.*]/.test(i)?("*"===i.charAt(0)&&(i=i.slice(1)),!o.call(e,i)):e!==i)}))}(a=a.replace(/:\d*$/,""),c=parseInt(c)||i[r]||0))return"";var u=s("npm_config_"+r+"_proxy")||s(r+"_proxy")||s("npm_config_proxy")||s("all_proxy");return u&&-1===u.indexOf("://")&&(u=r+"://"+u),u}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKeysInterceptor=t.rateLimitSigningKey=t.cacheSigningKey=void 0;var n=s(r(102)),i=s(r(111)),o=s(r(115));function s(e){return e&&e.__esModule?e:{default:e}}t.cacheSigningKey=n.default,t.rateLimitSigningKey=i.default,t.getKeysInterceptor=o.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:options,r=t.cacheMaxEntries,s=void 0===r?5:r,a=t.cacheMaxAge,c=void 0===a?(0,n.default)("10m"):a,u=(0,i.default)("jwks"),l=e.getSigningKey;return u("Configured caching of signing keys. Max: "+s+" / Age: "+c),(0,o.default)({load:function(e,t){l(e,(function(r,n){return r?t(r):(u("Caching signing key for '"+e+"':",n),t(null,n))}))},hash:function(e){return e},maxAge:c,max:s})};var n=s(r(103)),i=s(r(19)),o=s(r(104));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t){var r=1e3,n=6e4,i=60*n,o=24*i;function s(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=o?s(e,t,o,"day"):t>=i?s(e,t,i,"hour"):t>=n?s(e,t,n,"minute"):t>=r?s(e,t,r,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=i?Math.round(e/i)+"h":t>=n?Math.round(e/n)+"m":t>=r?Math.round(e/r)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){"use strict";var n=r(105);e.exports=n.asyncMemoizer},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(41)),c=r(20),u=s(r(42)),l=r(43),f=r(110);function p(e){var t=new a.default(e),r=e.load,n=e.hash,s=e.bypass,f=e.itemMaxAge,p=e.freeze,d=e.clone,h=e.queueMaxAge||1e3,g=new Map,m=new c.EventEmitter,y=Object.assign({del:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=n.apply(void 0,i(e));t.del(o)},reset:function(){return t.reset()},keys:t.keys.bind(t),on:m.on.bind(m),once:m.once.bind(m)},e);if(e.disable)return Object.assign(r,y);function v(e,r,n){p&&n.forEach(l.deepFreeze),f?t.set(e,n,f.apply(void 0,i(r.concat(n)))):t.set(e,n)}function b(e,t){var r,n;try{for(var s=o(e),a=s.next();!a.done;a=s.next()){var c=a.value;d?setImmediate.apply(void 0,i([c],t.map(u.default))):setImmediate.apply(void 0,i([c],t))}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}}function E(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];m.emit.apply(m,i([e],t))}return Object.assign((function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var a,c=e.slice(0,-1),u=e.slice(-1).pop();if(s&&s.apply(void 0,i(c)))return E.apply(void 0,i(["miss"],c)),r.apply(void 0,i(e));a=0!==c.length||n?n.apply(void 0,i(c)):"_";var l=t.get(a);if(l)return E.apply(void 0,i(["hit"],c)),b([u],[null].concat(l));var f=g.get(a);if(f&&f.expiresAt>Date.now())return f.queue.push(u),void E.apply(void 0,i(["queue"],c));E.apply(void 0,i(["miss"],c));var p=Date.now(),d=[u];g.set(a,{queue:d,expiresAt:p+h});var m=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0];r||v(a,c,e.slice(1)),g.delete(a),E.apply(void 0,i(["loaded",Date.now()-p],c)),b(d,e)};r.apply(void 0,i(c,[m]))}),y)}t.asyncMemoizer=p,p.sync=f.syncMemoizer},function(e,t,r){"pseudomap"===process.env.npm_package_name&&"test"===process.env.npm_lifecycle_script&&(process.env.TEST_PSEUDOMAP="true"),"function"!=typeof Map||process.env.TEST_PSEUDOMAP?e.exports=r(107):e.exports=Map},function(e,t){var r=Object.prototype.hasOwnProperty;function n(e){if(!(this instanceof n))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),e)if(e instanceof n||"function"==typeof Map&&e instanceof Map)e.forEach((function(e,t){this.set(t,e)}),this);else{if(!Array.isArray(e))throw new TypeError("invalid argument");e.forEach((function(e){this.set(e[0],e[1])}),this)}}function i(e,t){return e===t||e!=e&&t!=t}function o(e,t,r){this.key=e,this.value=t,this._index=r}function s(e,t){for(var n=0,o="_"+t,s=o;r.call(e,s);s=o+n++)if(i(e[s].key,t))return e[s]}e.exports=n,n.prototype.forEach=function(e,t){t=t||this,Object.keys(this._data).forEach((function(r){"size"!==r&&e.call(t,this._data[r].value,this._data[r].key)}),this)},n.prototype.has=function(e){return!!s(this._data,e)},n.prototype.get=function(e){var t=s(this._data,e);return t&&t.value},n.prototype.set=function(e,t){!function(e,t,n){for(var s=0,a="_"+t,c=a;r.call(e,c);c=a+s++)if(i(e[c].key,t))return void(e[c].value=n);e.size++,e[c]=new o(t,n,c)}(this._data,e,t)},n.prototype.delete=function(e){var t=s(this._data,e);t&&(delete this._data[t._index],this._data.size--)},n.prototype.clear=function(){var e=Object.create(null);e.size=0,Object.defineProperty(this,"_data",{value:e,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(n.prototype,"size",{get:function(){return this._data.size},set:function(e){},enumerable:!0,configurable:!0}),n.prototype.values=n.prototype.keys=n.prototype.entries=function(){throw new Error("iterators are not implemented in this version")}},function(e,t){function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function n(e,t){e.tail=new o(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function i(e,t){e.head=new o(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function o(e,t,r,n){if(!(this instanceof o))return new o(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=r,r.Node=o,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)n(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},r.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},r.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},r.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)n.push(o.value);return n},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(r(41)),a=r(20),c=o(r(42)),u=r(43);t.syncMemoizer=function(e){var t=new s.default(e),r=e.load,n=e.hash,o=e.bypass,l=e.itemMaxAge,f=e.freeze,p=e.clone,d=new a.EventEmitter,h=Object.assign({del:function(){var e=n.apply(void 0,i(arguments));t.del(e)},reset:function(){return t.reset()},keys:t.keys.bind(t),on:d.on.bind(d),once:d.once.bind(d)},e);if(e.disable)return Object.assign(r,h);function g(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];d.emit.apply(d,i([e],t))}function m(e){return e&&e.then&&"function"==typeof e.then}function y(e){var t=e;return p&&(t=m(t)?t.then(c.default):c.default(t)),f&&(m(t)?t=t.then(u.deepFreeze):u.deepFreeze(t)),t}return Object.assign((function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];if(o&&o.apply(void 0,i(e)))return g.apply(void 0,i(["miss"],e)),r.apply(void 0,i(e));var a=n.apply(void 0,i(e)),c=t.get(a);if(c)return g.apply(void 0,i(["hit"],e)),y(c);g.apply(void 0,i(["miss"],e));var u=r.apply(void 0,i(e));return l?t.set(a,u,l.apply(void 0,i(e.concat([u])))):t.set(a,u),y(u)}),h)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:options,r=t.jwksRequestsPerMinute,s=void 0===r?10:r,a=(0,n.default)("jwks"),c=e.getSigningKey,u=new i.RateLimiter(s,"minute",!0);return a("Configured rate limiting to JWKS endpoint at "+s+"/minute"),function(e,t){u.removeTokens(1,(function(r,n){return r?t(r):(a("Requests to the JWKS endpoint available for the next minute:",n),n<0?(a("Too many requests to the JWKS endpoint"),t(new o.default("Too many requests to the JWKS endpoint"))):c(e,t))}))}};var n=s(r(19)),i=r(112),o=s(r(45));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){t.RateLimiter=r(113),t.TokenBucket=r(44)},function(e,t,r){var n=r(44),i=r(114),o=function(e,t,r){this.tokenBucket=new n(e,e,t,null),this.tokenBucket.content=e,this.curIntervalStart=i(),this.tokensThisInterval=0,this.fireImmediately=r};o.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(e,t){if(e>this.tokenBucket.bucketSize)return process.nextTick(t.bind(null,"Requested tokens "+e+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var r=this,n=i();if((n<this.curIntervalStart||n-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=n,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)process.nextTick(t.bind(null,null,-1));else{var o=Math.ceil(this.curIntervalStart+this.tokenBucket.interval-n);setTimeout((function(){r.tokenBucket.removeTokens(e,s)}),o)}return!1}return this.tokenBucket.removeTokens(e,s);function s(n,i){if(n)return t(n,null);r.tokensThisInterval+=e,t(null,i)}},tryRemoveTokens:function(e){if(e>this.tokenBucket.bucketSize)return!1;var t=i();if((t<this.curIntervalStart||t-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=t,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var r=this.tokenBucket.tryRemoveTokens(e);return r&&(this.tokensThisInterval+=e),r},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},e.exports=o},function(e,t){e.exports=function(){if("undefined"!=typeof process&&process.hrtime){var e=process.hrtime(),t=e[0],r=e[1];return 1e3*t+Math.floor(r/1e6)}return(new Date).getTime()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:options,r=t.getKeysInterceptor,i=e.getSigningKey;return function(e,t){r((function(r,o){if(r)return t(r);var s=void 0;if(o&&o.length&&(s=(0,n.retrieveSigningKeys)(o)),s&&s.length){var a=s.find((function(t){return!e||t.kid===e}));if(a)return t(null,a)}return i(e,t)}))}};var n=r(40)},function(e,t,r){"use strict";function n(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="ArgumentError",this.message=e}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,r){"use strict";var n=r(7),i=r(6),o=function(e,t){return e&&"SigningKeyNotFoundError"===e.name||e?t(e,null,null):void 0};e.exports.hapiJwt2KeyAsync=function(t){var r=e.exports.hapiJwt2Key(t);return function(e){return new Promise((function(t,n){r(e,(function(e,r){!r||e?n(e):t({key:r})}))}))}},e.exports.hapiJwt2Key=function(e){if(null==e)throw new n.ArgumentError("An options object must be provided when initializing hapiJwt2Key");var t=new i.JwksClient(e),r=e.handleSigningKeyError||o;return function(e,n){return e&&e.header?"RS256"!==e.header.alg?n(new Error("Unsupported algorithm "+e.header.alg+" supplied. node-jwks-rsa supports only RS256"),null,null):void t.getSigningKey(e.header.kid,(function(e,t){return e?r(e,(function(e){return n(e,null,null)})):n(null,t.publicKey||t.rsaPublicKey,t)})):n(new Error("Cannot find a signing certificate if there is no header"),null,null)}}},function(e,t,r){"use strict";var n=r(7),i=r(6),o=function(e,t){return e&&"SigningKeyNotFoundError"===e.name?t(null):e?t(e):void 0};e.exports.expressJwtSecret=function(e){if(null==e)throw new n.ArgumentError("An options object must be provided when initializing expressJwtSecret");var t=new i.JwksClient(e),r=e.handleSigningKeyError||o;return function(e,n,i,o){if(!n||"RS256"!==n.alg)return o(null,null);t.getSigningKey(n.kid,(function(e,t){return e?r(e,(function(e){return o(e,null)})):o(null,t.publicKey||t.rsaPublicKey)}))}}},function(e,t,r){"use strict";var n=r(7),i=r(6);e.exports.koaJwtSecret=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.jwksUri&&!e.jwksObject)throw new n.ArgumentError("No JWKS provided. Please provide a jwksUri or jwksObject");var t=new i.JwksClient(e);return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.alg,i=r.kid;return new Promise((function(r,o){if("RS256"!==n)return o(new Error("Missing / invalid token algorithm"));t.getSigningKey(i,(function(t,n){if(t)return e.handleSigningKeyError?e.handleSigningKeyError(t).then(o):o(t);r(n.publicKey||n.rsaPublicKey)}))}))}}},function(e,t,r){"use strict";var n,i=(n=r(10))&&n.__esModule?n:{default:n},o=r(7),s=r(6),a=function(e,t){return e&&"SigningKeyNotFoundError"===e.name?t(null):e?t(e):void 0};e.exports.passportJwtSecret=function(e){if(null==e)throw new o.ArgumentError("An options object must be provided when initializing passportJwtSecret");if(!e.jwksUri&&!e.jwksObject)throw new o.ArgumentError("No JWKS provided. Please provide a jwksUri or jwksObject");var t=new s.JwksClient(e),r=e.handleSigningKeyError||a;return function(e,n,o){var s=i.default.decode(n,{complete:!0});if(!s||!s.header||"RS256"!==s.header.alg)return o(null,null);t.getSigningKey(s.header.kid,(function(e,t){return e?r(e,(function(e){return o(e,null)})):o(null,t.publicKey||t.rsaPublicKey)}))}}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t,r=(t=regeneratorRuntime.mark((function t(r,n,o){var s,a,c,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,"form_post"===e.RELAY_RESPONSE_MODE?(a=r.body.id_token,s={access_token:void 0,id_token:a?String(a):void 0}):(c=r.query,u=c.id_token,l=c.access_token,s={access_token:l?String(l):void 0,id_token:u?String(u):void 0}),n.locals.tokens=i(i({},n.locals.tokens),s),o(),t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),console.trace(t.t0),t.abrupt("return",Promise.reject(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)}))});return function(e,t,n){return r.apply(this,arguments)}}()}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=r(8),u=a(r(16)),l=a(r(123)),f=a(r(9)),p=r(1),d=a(r(3));t.default=function(e){return function(){var t,r=(t=regeneratorRuntime.mark((function t(r,n,o){var s,a,h,g,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i({fromTokenExpiryInMinutes:3,validateToken:!0,validateTokenExpiration:!0},e),a=s.routes.find((function(e){return"*"!==e.path&&c.matchPath(r.path,e)})),!f.default(s.whitelistedUrls,r.url)){t.next=6;break}o(),t.next=30;break;case 6:if(!r.cookies.id_token){t.next=28;break}if(h=r.cookies.id_token,!s.validateToken){t.next=21;break}return t.next=11,p.isTokenValid(s.envConfig,h);case 11:if(t.sent){t.next=16;break}return g={status:401,message:"Invalid token"},console.trace(g),t.abrupt("return",o(g));case 16:if(p.getDecodedToken(h).payload.aud===s.envConfig.RELAY_CLIENT_ID){t.next=21;break}return m={status:401,message:"Invalid token"},console.trace(m),t.abrupt("return",o(m));case 21:if(!s.validateTokenExpiration){t.next=25;break}if(p.validateTokenExp(h)){t.next=25;break}return d.default(n),t.abrupt("return",n.redirect(r.url));case 25:o(),t.next=30;break;case 28:n.cookie("from",a?r.url:"/",{expires:u.default(new Date,s.fromTokenExpiryInMinutes)}),l.default(s.envConfig)(r,n);case 30:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)}))});return function(e,t,n){return r.apply(this,arguments)}}()}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(2));t.default=function(e){return function(t,r){var n=i.default.stringify({client_id:e.RELAY_CLIENT_ID,redirect_uri:e.RELAY_CALLBACK_URL,scope:e.RELAY_SCOPE,response_type:e.RELAY_RESPONSE_TYPE,response_mode:e.RELAY_RESPONSE_MODE,nonce:e.NONCE});r.redirect("".concat(e.HTTPS?"https":"http","://").concat(e.URL_BASE,"/").concat(e.URL_PATH,"?").concat(n))}}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=a(r(4)),u=a(r(2));t.default=function(e){return function(){var t,r=(t=regeneratorRuntime.mark((function t(r,n,o){var s,a,l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=r.query.code,a={grant_type:"authorization_code",redirect_uri:e.COGNITO_CALLBACK_URL,code:s},l=void 0!==e.COGNITO_CLIENT_SECRET&&Buffer.from("".concat(e.COGNITO_CLIENT_ID,":").concat(e.COGNITO_CLIENT_SECRET)).toString("base64"),t.next=6,c.default.post("https://".concat(e.URL_BASE,"/").concat(e.TOKEN_PATH),u.default.stringify(a),{headers:i({"Content-Type":"application/x-www-form-urlencoded"},l&&{Authorization:"Basic ".concat(l)})});case 6:f=t.sent,n.locals.tokens=i(i({},n.locals.tokens),{},{access_token:f.data.access_token?f.data.access_token:void 0,id_token:f.data.id_token?f.data.id_token:void 0,refresh_token:f.data.refresh_token?f.data.refresh_token:void 0}),o(),t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(0),console.trace(t.t0),t.abrupt("return",Promise.reject(t.t0));case 15:case"end":return t.stop()}}),t,null,[[0,11]])})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)}))});return function(e,t,n){return r.apply(this,arguments)}}()}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=r(8),u=a(r(16)),l=a(r(126)),f=a(r(9)),p=a(r(3)),d=r(1);t.default=function(e){return function(){var t,r=(t=regeneratorRuntime.mark((function t(r,n,o){var s,a,h,g,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i({fromTokenExpiryInMinutes:3,validateToken:!0,validateTokenExpiration:!0},e),a=s.routes.find((function(e){return"*"!==e.path&&c.matchPath(r.path,e)})),!f.default(s.whitelistedUrls,r.url)){t.next=6;break}o(),t.next=30;break;case 6:if(!r.cookies.id_token){t.next=28;break}if(h=r.cookies.id_token,!s.validateToken){t.next=21;break}return t.next=11,d.isTokenValid(s.envConfig,h);case 11:if(t.sent){t.next=16;break}return g={status:401,message:"Invalid token"},console.trace(g),t.abrupt("return",o(g));case 16:if(d.getDecodedToken(h).payload.aud===s.envConfig.COGNITO_CLIENT_ID){t.next=21;break}return m={status:401,message:"Invalid token"},console.trace(m),t.abrupt("return",o(m));case 21:if(!s.validateTokenExpiration){t.next=25;break}if(d.validateTokenExp(h)){t.next=25;break}return p.default(n),t.abrupt("return",n.redirect(r.url));case 25:o(),t.next=30;break;case 28:n.cookie("from",a?r.url:"/",{expires:u.default(new Date,s.fromTokenExpiryInMinutes)}),l.default(s.envConfig)(r,n);case 30:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)}))});return function(e,t,n){return r.apply(this,arguments)}}()}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(2));t.default=function(e){return function(t,r){var n=i.default.stringify({response_type:"code",client_id:e.COGNITO_CLIENT_ID,redirect_uri:e.COGNITO_CALLBACK_URL,state:e.NONCE,scope:e.COGNITO_SCOPE});r.redirect("https://".concat(e.URL_BASE,"/").concat(e.URL_PATH,"?").concat(n))}}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(10));t.default=function(e,t){if(e){var r=a.default.decode(e);if(null===r)throw new Error("Unable to parse token: ".concat(e,"."));var n=(null==r?void 0:r["custom:roles"])?JSON.parse(r["custom:roles"]):[],o=i(i({},r),{},{roles:n});return t&&t.ROSTR_CLIENT_ID&&t.ROSTR_AVATAR_URL&&((null==r?void 0:r["custom:pernr"])?(o.pernr=r["custom:pernr"],o.avatarThumbnailUrl=t.ROSTR_AVATAR_URL.replace("{PERNR}",r["custom:pernr"]).replace("{TOKEN}",t.ROSTR_CLIENT_ID)):(o.pernr="",o.avatarThumbnailUrl="")),o}throw new Error("Access Token was not provided.")}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=a(r(4)),u=a(r(2));t.default=function(e){return function(){var t,r=(t=regeneratorRuntime.mark((function t(r,n,o){var s,a,l,f,p,d,h,g,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"code"!==e.CP_RESPONSE_TYPE){t.next=11;break}return a="form_post"===e.CP_RESPONSE_MODE?r.body:r.query,l=a.code,f=void 0!==e.CP_CLIENT_SECRET&&Buffer.from("".concat(e.CP_CLIENT_ID,":").concat(e.CP_CLIENT_SECRET)).toString("base64"),p={grant_type:e.CP_GRANT_TYPE,redirect_uri:e.CP_CALLBACK_URL,response_type:e.CP_RESPONSE_TYPE,code:l},t.next=7,c.default.post("".concat(e.HTTPS?"https":"http","://").concat(e.URL_BASE,"/").concat(e.TOKEN_PATH),u.default.stringify(p),{headers:i({"Content-Type":"application/x-www-form-urlencoded"},f&&{Authorization:"Basic ".concat(f)})});case 7:d=t.sent,s={access_token:d.data.access_token?d.data.access_token:void 0,id_token:d.data.id_token?d.data.id_token:void 0},t.next=13;break;case 11:h="form_post"===e.CP_RESPONSE_MODE?r.body:r.query,g=h.id_token,m=h.access_token,s={access_token:m?String(m):void 0,id_token:g?String(g):void 0};case 13:n.locals.tokens=i(i({},n.locals.tokens),s),o(),t.next=21;break;case 17:return t.prev=17,t.t0=t.catch(0),console.trace(t.t0),t.abrupt("return",Promise.reject(t.t0));case 21:case"end":return t.stop()}}),t,null,[[0,17]])})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)}))});return function(e,t,n){return r.apply(this,arguments)}}()}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=r(8),u=a(r(16)),l=a(r(130)),f=a(r(9)),p=r(1);t.default=function(e){return function(){var t,r=(t=regeneratorRuntime.mark((function t(r,n,o){var s,a,d,h,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i({fromTokenExpiryInMinutes:3,validateToken:!0},e),a=s.routes.find((function(e){return"*"!==e.path&&c.matchPath(r.path,e)})),!f.default(s.whitelistedUrls,r.url)){t.next=6;break}o(),t.next=26;break;case 6:if(!r.cookies.id_token){t.next=24;break}if(d=r.cookies.id_token,!s.validateToken){t.next=21;break}return t.next=11,p.isTokenValid(s.envConfig,d);case 11:if(t.sent){t.next=16;break}return h={status:401,message:"Invalid token"},console.trace(h),t.abrupt("return",o(h));case 16:if(p.getDecodedToken(d).payload.aud===s.envConfig.CP_CLIENT_ID){t.next=21;break}return g={status:401,message:"Invalid token"},console.trace(g),t.abrupt("return",o(g));case 21:o(),t.next=26;break;case 24:n.cookie("from",a?r.url:"/",{expires:u.default(new Date,s.fromTokenExpiryInMinutes)}),l.default(s.envConfig)(r,n);case 26:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)}))});return function(e,t,n){return r.apply(this,arguments)}}()}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(2));t.default=function(e){return function(t,r){var n=i.default.stringify({client_id:e.CP_CLIENT_ID,redirect_uri:e.CP_CALLBACK_URL,scope:e.CP_SCOPE,response_type:e.CP_RESPONSE_TYPE,response_mode:e.CP_RESPONSE_MODE,nonce:e.NONCE});r.redirect("".concat(e.HTTPS?"https":"http","://").concat(e.URL_BASE,"/").concat(e.URL_PATH,"?").concat(n))}}},function(e,t,r){"use strict";function n(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1);t.default=function(e){return function(){var t,r=(t=regeneratorRuntime.mark((function t(r,n,o){var s,a,c,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((s=r.get("authorization"))&&s.startsWith("Bearer ")){t.next=5;break}return a={status:401,message:"Invalid authentication"},console.trace(a),t.abrupt("return",o(a));case 5:return c=s.replace("Bearer ",""),t.next=8,i.isTokenValid(e,c);case 8:if(t.sent){t.next=13;break}return u={status:401,message:"Invalid token"},console.trace(u),t.abrupt("return",o(u));case 13:if(i.validateTokenExp(c)){t.next=18;break}return l={status:401,message:"Expired token"},console.trace(l),t.abrupt("return",o(l));case 18:o();case 19:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(i,o){var s=t.apply(e,r);function a(e){n(s,i,o,a,c,"next",e)}function c(e){n(s,i,o,a,c,"throw",e)}a(void 0)}))});return function(e,t,n){return r.apply(this,arguments)}}()}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1);t.default=function(e){return function(){var t,r=(t=regeneratorRuntime.mark((function t(r,n,o){var s,c,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s=i({cookieName:"csrf",validateCsrf:!0,validateToken:!0,validateExpiration:!0},e)).validateCsrf){t.next=5;break}if(r.cookies[s.cookieName]===r.headers["x-csrf-token"]){t.next=5;break}return n.status(403).send(),t.abrupt("return",n.end());case 5:if(c=r.cookies.id_token||r.cookies.access_token,!s.validateToken){t.next=14;break}return t.next=9,a.isTokenValid(s.envConfig,c);case 9:if(t.sent){t.next=14;break}return u={status:401,message:"Invalid token"},console.trace(u),t.abrupt("return",o(u));case 14:if(!s.validateExpiration){t.next=19;break}if(a.validateTokenExp(c)){t.next=19;break}return l={status:401,message:"Invalid token"},console.trace(l),t.abrupt("return",o(l));case 19:o();case 20:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)}))});return function(e,t,n){return r.apply(this,arguments)}}()}},function(e,t,r){"use strict";function n(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(3));t.default=function(e,t){var r=t?"function"==typeof t?t:function(e){return t.includes(e)}:function(e){return!0};return function(){var t,i=(t=regeneratorRuntime.mark((function t(n,i,s){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{(a=i.locals.tokens)&&Object.keys(a).filter((function(e){if(r(e)){var t=a[e];if(t){var n=Buffer.from(t,"utf-8").byteLength;if(n>4096)throw{status:406,message:"Auth token ".concat(e," is ").concat(n," bytes, which exceeds the maximum size for a cookie (4096)")};return!0}}return!1})).forEach((function(t){var r=a[t];i.cookie(t,r,e)})),s()}catch(e){console.trace(e),o.default(i),s(e)}case 1:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(i,o){var s=t.apply(e,r);function a(e){n(s,i,o,a,c,"next",e)}function c(e){n(s,i,o,a,c,"throw",e)}a(void 0)}))});return function(e,t,r){return i.apply(this,arguments)}}()}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createTokenExpSessionValidatorMiddleware=t.createTokenExpValidatorMiddleware=t.createTokenExpValidatorHandler=void 0;var s=o(r(3)),a=r(1);t.createTokenExpValidatorHandler=function(e){return function(t,r){var n=t.cookies.id_token||t.cookies.access_token;if(n&&!a.validateTokenExp(n,e))return s.default(r),r.redirect(t.url)}},t.createTokenExpValidatorMiddleware=function(e){return function(t,r,n){var i=t.cookies.id_token||t.cookies.access_token;if(i&&!a.validateTokenExp(i,e)){var o={status:401,error:"Session Expired"};throw console.trace(o),o}n()}},t.createTokenExpSessionValidatorMiddleware=function(e){return function(t,r,o){var c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({cookieName:"id_token",minSecondsOfSession:3300},e),u=t.cookies[c.cookieName];if(u&&!a.validateTokenExp(u,c))return s.default(r),r.redirect(t.url);o()}}},function(e,t,r){"use strict";function n(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1);t.default=function(e){return function(){var t,r=(t=regeneratorRuntime.mark((function t(r,n,o){var s,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r.cookies.id_token||r.cookies.access_token,t.t0=!s,t.t0){t.next=6;break}return t.next=5,i.isTokenValid(e,s);case 5:t.t0=!t.sent;case 6:if(!t.t0){t.next=10;break}return a={status:401,error:"Invalid token"},console.trace(a),t.abrupt("return",Promise.reject(a));case 10:o();case 11:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(i,o){var s=t.apply(e,r);function a(e){n(s,i,o,a,c,"next",e)}function c(e){n(s,i,o,a,c,"throw",e)}a(void 0)}))});return function(e,t,n){return r.apply(this,arguments)}}()}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.recommendedFontSources=t.recommendedImageSources=t.recommendedStyleSources=t.recommendedIframeSources=t.recommendedScriptSources=void 0,t.recommendedScriptSources=["'self'","assets.adobedtm.com","*.112.2o7.net","js-agent-newrelic.com","js-agent.newrelic.com","bam.nr-data.net","fonts.googleapis.com","fonts.gstatic.com","dtci-spellbook.s3-us-west-2.amazonaws.com","*.fastcast.semfs.engsvc.go.com:*","wss://*.fastcast.semfs.engsvc.go.com:*","rostr.disney.com"],t.recommendedIframeSources=["'none'"],t.recommendedStyleSources=["'self'","'unsafe-inline'","dtci-spellbook.s3-us-west-2.amazonaws.com","fonts.googleapis.com"],t.recommendedImageSources=["'self'","*"],t.recommendedFontSources=["'self'","dtci-spellbook.s3-us-west-2.amazonaws.com","fonts.googleapis.com"],t.default=function(e){return function(t,r,o){var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({SCRIPT_SOURCES:[],IFRAME_SOURCES:[],STYLE_SOURCES:[],IMAGE_SOURCES:[],FONT_SOURCES:[]},e);if(t.app.locals.nonce=e.NONCE,s.SCRIPT_SOURCES.length||s.IFRAME_SOURCES.length||s.STYLE_SOURCES.length||s.IMAGE_SOURCES.length||s.FONT_SOURCES.length){var a=(s.SCRIPT_SOURCES.length?"default-src ".concat(s.SCRIPT_SOURCES.join(" "),";"):"")+(s.IFRAME_SOURCES.length?"frame-ancestors ".concat(s.IFRAME_SOURCES.join(" "),";"):"")+(s.STYLE_SOURCES.length?"style-src ".concat(s.STYLE_SOURCES.join(" "),";"):"")+(s.IMAGE_SOURCES.length?"img-src ".concat(s.IMAGE_SOURCES.join(" "),";"):"")+(s.FONT_SOURCES.length?"font-src ".concat(s.FONT_SOURCES.join(" "),";"):"");r.setHeader("Content-Security-Policy",a),o()}else o()}}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,o){var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({CACHE:"private",MAX_AGE:600},e);r.setHeader("Cache-Control","".concat(s.CACHE,", max-age=").concat(s.MAX_AGE).concat("public"===s.CACHE?', no-cache="Set-Cookie"':"")),o()}}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,o){var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({SKIP:!1,MAX_AGE:63072e3,INCLUDE_SUBDOMAINS:!0,PRELOAD:!1},e);s.SKIP||r.setHeader("Strict-Transport-Security","max-age=".concat(s.MAX_AGE).concat(s.INCLUDE_SUBDOMAINS?"; includeSubDomains":"").concat(s.PRELOAD?"; preload":"")),o()}}},function(e,t,r){"use strict";function n(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t,r=(t=regeneratorRuntime.mark((function t(r,n,i,o){var s,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=(null==r?void 0:r.status)||e.DEFAULT_ERROR_STATUS||401,a=r?r.message||r.toString():"Unknown",!e.DEFAULT_ERROR_REDIRECT_PATH){t.next=6;break}return t.abrupt("return",i.redirect("".concat(e.DEFAULT_ERROR_REDIRECT_PATH,"?status=").concat(s,"&message=").concat(encodeURIComponent(a))));case 6:return i.status(s).send(r),t.abrupt("return",i.end());case 8:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(i,o){var s=t.apply(e,r);function a(e){n(s,i,o,a,c,"next",e)}function c(e){n(s,i,o,a,c,"throw",e)}a(void 0)}))});return function(e,t,n,i){return r.apply(this,arguments)}}()}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(3));t.default=function(e,t){return i.default(t),t.sendStatus(200)}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(r(10));t.default=function(e,t){if(e){var r=s.default.decode(e);if(null===r)throw new Error("Unable to parse token: ".concat(e,"."));var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r);if(t&&t.ROSTR_CLIENT_ID&&t.ROSTR_AVATAR_URL)try{if(r["relationship.employeeId"])o.pernr=r["relationship.employeeId"],o.avatarThumbnailUrl=t.ROSTR_AVATAR_URL.replace("{PERNR}",r["relationship.employeeId"]).replace("{TOKEN}",t.ROSTR_CLIENT_ID);else if(r.profile){var a=r.profile.split("/").pop();a&&(o.pernr=a,o.avatarThumbnailUrl=t.ROSTR_AVATAR_URL.replace("{PERNR}",a).replace("{TOKEN}",t.ROSTR_CLIENT_ID))}}catch(e){console.error("ERROR: Failed to get a profile pic"),console.trace(e)}return o}throw new Error("Access Token was not provided.")}}])},function(e,t,r){e.exports=r(304)},function(e,t,r){"use strict";var n=r(7),i=r(122),o=r(305),s=r(130);function a(e){var t=new o(e),r=i(o.prototype.request,t);return n.extend(r,o.prototype,t),n.extend(r,t),r}var c=a(r(124));c.Axios=o,c.create=function(e){return a(s(c.defaults,e))},c.Cancel=r(131),c.CancelToken=r(321),c.isCancel=r(123),c.all=function(e){return Promise.all(e)},c.spread=r(322),e.exports=c,e.exports.default=c},function(e,t,r){"use strict";var n=r(7),i=r(65),o=r(306),s=r(307),a=r(130);function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},c.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,r){return this.request(n.merge(r||{},{method:e,url:t}))}})),n.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,r,i){return this.request(n.merge(i||{},{method:e,url:t,data:r}))}})),e.exports=c},function(e,t,r){"use strict";var n=r(7);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,r){"use strict";var n=r(7),i=r(308),o=r(123),s=r(124);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(7);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},function(e,t,r){"use strict";var n=r(7);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(7),i=r(125),o=r(65),s=r(127),a=r(313),c=r(314),u=r(66);e.exports=function(e){return new Promise((function(t,l){var f=e.data,p=e.headers;n.isFormData(f)&&delete p["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",g=e.auth.password||"";p.Authorization="Basic "+btoa(h+":"+g)}var m=s(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),o(m,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};i(t,l,n),d=null}},d.onabort=function(){d&&(l(u("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){l(u("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(u(t,e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var y=r(315),v=(e.withCredentials||c(m))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;v&&(p[e.xsrfHeaderName]=v)}if("setRequestHeader"in d&&n.forEach(p,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),l(e),d=null)})),void 0===f&&(f=null),d.send(f)}))}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(7),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,s={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},function(e,t,r){"use strict";var n=r(7);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(7);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(7),i=r(125),o=r(127),s=r(65),a=r(35),c=r(27),u=r(128).http,l=r(128).https,f=r(11),p=r(32),d=r(320),h=r(66),g=r(126),m=/https:?/;e.exports=function(e){return new Promise((function(t,r){var y=function(e){t(e)},v=function(e){r(e)},b=e.data,E=e.headers;if(E["User-Agent"]||E["user-agent"]||(E["User-Agent"]="axios/"+d.version),b&&!n.isStream(b)){if(Buffer.isBuffer(b));else if(n.isArrayBuffer(b))b=Buffer.from(new Uint8Array(b));else{if(!n.isString(b))return v(h("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));b=Buffer.from(b,"utf-8")}E["Content-Length"]=b.length}var w=void 0;e.auth&&(w=(e.auth.username||"")+":"+(e.auth.password||""));var _=o(e.baseURL,e.url),A=f.parse(_),C=A.protocol||"http:";if(!w&&A.auth){var T=A.auth.split(":");w=(T[0]||"")+":"+(T[1]||"")}w&&delete E.Authorization;var S=m.test(C),I=S?e.httpsAgent:e.httpAgent,N={path:s(A.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:E,agent:I,agents:{http:e.httpAgent,https:e.httpsAgent},auth:w};e.socketPath?N.socketPath=e.socketPath:(N.hostname=A.hostname,N.port=A.port);var O,R=e.proxy;if(!R&&!1!==R){var M=C.slice(0,-1)+"_proxy",x=process.env[M]||process.env[M.toUpperCase()];if(x){var D=f.parse(x),k=process.env.no_proxy||process.env.NO_PROXY,B=!0;if(k)B=!k.split(",").map((function(e){return e.trim()})).some((function(e){return!!e&&("*"===e||("."===e[0]&&A.hostname.substr(A.hostname.length-e.length)===e||A.hostname===e))}));if(B&&(R={host:D.hostname,port:D.port},D.auth)){var j=D.auth.split(":");R.auth={username:j[0],password:j[1]}}}}if(R&&(N.hostname=R.host,N.host=R.host,N.headers.host=A.hostname+(A.port?":"+A.port:""),N.port=R.port,N.path=C+"//"+A.hostname+(A.port?":"+A.port:"")+N.path,R.auth)){var P=Buffer.from(R.auth.username+":"+R.auth.password,"utf8").toString("base64");N.headers["Proxy-Authorization"]="Basic "+P}var F=S&&(!R||m.test(R.protocol));e.transport?O=e.transport:0===e.maxRedirects?O=F?c:a:(e.maxRedirects&&(N.maxRedirects=e.maxRedirects),O=F?l:u),e.maxContentLength&&e.maxContentLength>-1&&(N.maxBodyLength=e.maxContentLength);var L=O.request(N,(function(t){if(!L.aborted){var r=t;switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":r=204===t.statusCode?r:r.pipe(p.createUnzip()),delete t.headers["content-encoding"]}var n=t.req||L,o={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:n};if("stream"===e.responseType)o.data=r,i(y,v,o);else{var s=[];r.on("data",(function(t){s.push(t),e.maxContentLength>-1&&Buffer.concat(s).length>e.maxContentLength&&(r.destroy(),v(h("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,n)))})),r.on("error",(function(t){L.aborted||v(g(t,e,null,n))})),r.on("end",(function(){var t=Buffer.concat(s);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding)),o.data=t,i(y,v,o)}))}}}));L.on("error",(function(t){L.aborted||v(g(t,e,null,L))})),e.timeout&&L.setTimeout(e.timeout,(function(){L.abort(),v(h("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",L))})),e.cancelToken&&e.cancelToken.promise.then((function(e){L.aborted||(L.abort(),v(e))})),n.isStream(b)?b.on("error",(function(t){v(g(t,e,null,L))})).pipe(L):L.end(b)}))}},function(e,t,r){"undefined"==typeof process||"renderer"===process.type?e.exports=r(318):e.exports=r(319)},function(e,t,r){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=r(129)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())},function(e,t,r){var n=r(42),i=r(3);(t=e.exports=r(129)).init=function(e){e.inspectOpts={};for(var r=Object.keys(t.inspectOpts),n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(){return process.stderr.write(i.format.apply(i,arguments)+"\n")},t.formatArgs=function(e){var r=this.namespace;if(this.useColors){var n=this.color,i="[3"+(n<8?n:"8;5;"+n),o="  "+i+";1m"+r+" [0m";e[0]=o+e[0].split("\n").join("\n"+o),e.push(i+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+r+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=s,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{var o=r(101);o&&o.level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}function s(){return process.env.DEBUG}t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)},t.enable(s())},function(e){e.exports=JSON.parse('{"_args":[["axios@0.19.2","/builds/dtci-bp-software-solutions/ui/dash"]],"_development":true,"_from":"axios@0.19.2","_id":"axios@0.19.2","_inBundle":false,"_integrity":"sha512-fjgm5MvRHLhx+osE2xoekY70AhARk3a6hkN+3Io1jc00jtquGvxYlKlsFUhmUET0V5te6CcZI7lcv2Ym61mjHA==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"axios@0.19.2","name":"axios","escapedName":"axios","rawSpec":"0.19.2","saveSpec":null,"fetchSpec":"0.19.2"},"_requiredBy":["/@dtci/triton"],"_resolved":"https://nexus.dtci.co/repository/npm-proxy-all/axios/-/axios-0.19.2.tgz","_spec":"0.19.2","_where":"/builds/dtci-bp-software-solutions/ui/dash","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"1.5.10"},"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"homepage":"https://github.com/axios/axios","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test && bundlesize","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","version":"0.19.2"}')},function(e,t,r){"use strict";var n=r(131);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";var n=r(324);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,s){if(s!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,r){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,E=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case p:case s:case c:case a:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case y:case m:case u:return e;default:return t}}case o:return t}}}function A(e){return _(e)===p}t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=l,t.ContextProvider=u,t.Element=i,t.ForwardRef=d,t.Fragment=s,t.Lazy=y,t.Memo=m,t.Portal=o,t.Profiler=c,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return A(e)||_(e)===f},t.isConcurrentMode=A,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===s},t.isLazy=function(e){return _(e)===y},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===o},t.isProfiler=function(e){return _(e)===c},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===p||e===c||e===a||e===h||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===u||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===E||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}r.r(t),r.d(t,"MemoryRouter",(function(){return H})),r.d(t,"Prompt",(function(){return J})),r.d(t,"Redirect",(function(){return $})),r.d(t,"Route",(function(){return ne})),r.d(t,"Router",(function(){return z})),r.d(t,"StaticRouter",(function(){return ue})),r.d(t,"Switch",(function(){return le})),r.d(t,"generatePath",(function(){return K})),r.d(t,"matchPath",(function(){return re})),r.d(t,"useHistory",(function(){return de})),r.d(t,"useLocation",(function(){return he})),r.d(t,"useParams",(function(){return ge})),r.d(t,"useRouteMatch",(function(){return me})),r.d(t,"withRouter",(function(){return fe})),r.d(t,"BrowserRouter",(function(){return ye})),r.d(t,"HashRouter",(function(){return ve})),r.d(t,"Link",(function(){return Ce})),r.d(t,"NavLink",(function(){return Ie}));var o=r(1),s=r.n(o);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e){return"/"===e.charAt(0)}function u(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}var l=function(e,t){void 0===t&&(t="");var r,n=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&c(e),s=t&&c(t),a=o||s;if(e&&c(e)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";if(i.length){var l=i[i.length-1];r="."===l||".."===l||""===l}else r=!1;for(var f=0,p=i.length;p>=0;p--){var d=i[p];"."===d?u(i,p):".."===d?(u(i,p),f++):f&&(u(i,p),f--)}if(!a)for(;f--;f)i.unshift("..");!a||""===i[0]||i[0]&&c(i[0])||i.unshift("");var h=i.join("/");return r&&"/"!==h.substr(-1)&&(h+="/"),h};function f(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var p=function e(t,r){if(t===r)return!0;if(null==t||null==r)return!1;if(Array.isArray(t))return Array.isArray(r)&&t.length===r.length&&t.every((function(t,n){return e(t,r[n])}));if("object"==typeof t||"object"==typeof r){var n=f(t),i=f(r);return n!==t||i!==r?e(n,i):Object.keys(Object.assign({},t,r)).every((function(n){return e(t[n],r[n])}))}return!1},d="Invariant failed";function h(e,t){if(!e)throw new Error(d)}function g(e){return"/"===e.charAt(0)?e:"/"+e}function m(e){return"/"===e.charAt(0)?e.substr(1):e}function y(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function v(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function b(e){var t=e.pathname,r=e.search,n=e.hash,i=t||"/";return r&&"?"!==r&&(i+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(i+="#"===n.charAt(0)?n:"#"+n),i}function E(e,t,r,n){var i;"string"==typeof e?(i=function(e){var t=e||"/",r="",n="",i=t.indexOf("#");-1!==i&&(n=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(r=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===r?"":r,hash:"#"===n?"":n}}(e)).state=t:(void 0===(i=a({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return r&&(i.key=r),n?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=l(i.pathname,n.pathname)):i.pathname=n.pathname:i.pathname||(i.pathname="/"),i}function w(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,r,n,i){if(null!=e){var o="function"==typeof e?e(t,r):e;"string"==typeof o?"function"==typeof n?n(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var r=!0;function n(){r&&e.apply(void 0,arguments)}return t.push(n),function(){r=!1,t=t.filter((function(e){return e!==n}))}},notifyListeners:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.forEach((function(e){return e.apply(void 0,r)}))}}}var _=!("undefined"==typeof window||!window.document||!window.document.createElement);function A(e,t){t(window.confirm(e))}function C(){try{return window.history.state||{}}catch(e){return{}}}function T(e){void 0===e&&(e={}),_||h(!1);var t,r=window.history,n=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,s=o.forceRefresh,c=void 0!==s&&s,u=o.getUserConfirmation,l=void 0===u?A:u,f=o.keyLength,p=void 0===f?6:f,d=e.basename?v(g(e.basename)):"";function m(e){var t=e||{},r=t.key,n=t.state,i=window.location,o=i.pathname+i.search+i.hash;return d&&(o=y(o,d)),E(o,n,r)}function T(){return Math.random().toString(36).substr(2,p)}var S=w();function I(e){a(L,e),L.length=r.length,S.notifyListeners(L.location,L.action)}function N(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||M(m(e.state))}function O(){M(m(C()))}var R=!1;function M(e){if(R)R=!1,I();else{S.confirmTransitionTo(e,"POP",l,(function(t){t?I({action:"POP",location:e}):function(e){var t=L.location,r=D.indexOf(t.key);-1===r&&(r=0);var n=D.indexOf(e.key);-1===n&&(n=0);var i=r-n;i&&(R=!0,B(i))}(e)}))}}var x=m(C()),D=[x.key];function k(e){return d+b(e)}function B(e){r.go(e)}var j=0;function P(e){1===(j+=e)&&1===e?(window.addEventListener("popstate",N),i&&window.addEventListener("hashchange",O)):0===j&&(window.removeEventListener("popstate",N),i&&window.removeEventListener("hashchange",O))}var F=!1;var L={length:r.length,action:"POP",location:x,createHref:k,push:function(e,t){var i=E(e,t,T(),L.location);S.confirmTransitionTo(i,"PUSH",l,(function(e){if(e){var t=k(i),o=i.key,s=i.state;if(n)if(r.pushState({key:o,state:s},null,t),c)window.location.href=t;else{var a=D.indexOf(L.location.key),u=D.slice(0,a+1);u.push(i.key),D=u,I({action:"PUSH",location:i})}else window.location.href=t}}))},replace:function(e,t){var i=E(e,t,T(),L.location);S.confirmTransitionTo(i,"REPLACE",l,(function(e){if(e){var t=k(i),o=i.key,s=i.state;if(n)if(r.replaceState({key:o,state:s},null,t),c)window.location.replace(t);else{var a=D.indexOf(L.location.key);-1!==a&&(D[a]=i.key),I({action:"REPLACE",location:i})}else window.location.replace(t)}}))},go:B,goBack:function(){B(-1)},goForward:function(){B(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return F||(P(1),F=!0),function(){return F&&(F=!1,P(-1)),t()}},listen:function(e){var t=S.appendListener(e);return P(1),function(){P(-1),t()}}};return L}var S={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+m(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:m,decodePath:g},slash:{encodePath:g,decodePath:g}};function I(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function N(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function O(e){window.location.replace(I(window.location.href)+"#"+e)}function R(e){void 0===e&&(e={}),_||h(!1);var t=window.history,r=(window.navigator.userAgent.indexOf("Firefox"),e),n=r.getUserConfirmation,i=void 0===n?A:n,o=r.hashType,s=void 0===o?"slash":o,c=e.basename?v(g(e.basename)):"",u=S[s],l=u.encodePath,f=u.decodePath;function p(){var e=f(N());return c&&(e=y(e,c)),E(e)}var d=w();function m(e){a(L,e),L.length=t.length,d.notifyListeners(L.location,L.action)}var C=!1,T=null;function R(){var e,t,r=N(),n=l(r);if(r!==n)O(n);else{var o=p(),s=L.location;if(!C&&(t=o,(e=s).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(T===b(o))return;T=null,function(e){if(C)C=!1,m();else{d.confirmTransitionTo(e,"POP",i,(function(t){t?m({action:"POP",location:e}):function(e){var t=L.location,r=k.lastIndexOf(b(t));-1===r&&(r=0);var n=k.lastIndexOf(b(e));-1===n&&(n=0);var i=r-n;i&&(C=!0,B(i))}(e)}))}}(o)}}var M=N(),x=l(M);M!==x&&O(x);var D=p(),k=[b(D)];function B(e){t.go(e)}var j=0;function P(e){1===(j+=e)&&1===e?window.addEventListener("hashchange",R):0===j&&window.removeEventListener("hashchange",R)}var F=!1;var L={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),r="";return t&&t.getAttribute("href")&&(r=I(window.location.href)),r+"#"+l(c+b(e))},push:function(e,t){var r=E(e,void 0,void 0,L.location);d.confirmTransitionTo(r,"PUSH",i,(function(e){if(e){var t=b(r),n=l(c+t);if(N()!==n){T=t,function(e){window.location.hash=e}(n);var i=k.lastIndexOf(b(L.location)),o=k.slice(0,i+1);o.push(t),k=o,m({action:"PUSH",location:r})}else m()}}))},replace:function(e,t){var r=E(e,void 0,void 0,L.location);d.confirmTransitionTo(r,"REPLACE",i,(function(e){if(e){var t=b(r),n=l(c+t);N()!==n&&(T=t,O(n));var i=k.indexOf(b(L.location));-1!==i&&(k[i]=t),m({action:"REPLACE",location:r})}}))},go:B,goBack:function(){B(-1)},goForward:function(){B(1)},block:function(e){void 0===e&&(e=!1);var t=d.setPrompt(e);return F||(P(1),F=!0),function(){return F&&(F=!1,P(-1)),t()}},listen:function(e){var t=d.appendListener(e);return P(1),function(){P(-1),t()}}};return L}function M(e,t,r){return Math.min(Math.max(e,t),r)}function x(e){void 0===e&&(e={});var t=e,r=t.getUserConfirmation,n=t.initialEntries,i=void 0===n?["/"]:n,o=t.initialIndex,s=void 0===o?0:o,c=t.keyLength,u=void 0===c?6:c,l=w();function f(e){a(y,e),y.length=y.entries.length,l.notifyListeners(y.location,y.action)}function p(){return Math.random().toString(36).substr(2,u)}var d=M(s,0,i.length-1),h=i.map((function(e){return E(e,void 0,"string"==typeof e?p():e.key||p())})),g=b;function m(e){var t=M(y.index+e,0,y.entries.length-1),n=y.entries[t];l.confirmTransitionTo(n,"POP",r,(function(e){e?f({action:"POP",location:n,index:t}):f()}))}var y={length:h.length,action:"POP",location:h[d],index:d,entries:h,createHref:g,push:function(e,t){var n=E(e,t,p(),y.location);l.confirmTransitionTo(n,"PUSH",r,(function(e){if(e){var t=y.index+1,r=y.entries.slice(0);r.length>t?r.splice(t,r.length-t,n):r.push(n),f({action:"PUSH",location:n,index:t,entries:r})}}))},replace:function(e,t){var n=E(e,t,p(),y.location);l.confirmTransitionTo(n,"REPLACE",r,(function(e){e&&(y.entries[y.index]=n,f({action:"REPLACE",location:n}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return y}var D=r(39),k=r.n(D),B="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function j(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(r,n){e=r,t.forEach((function(t){return t(e,n)}))}}}var P=s.a.createContext||function(e,t){var r,n,s,a="__create-react-context-"+((B[s="__global_unique_id__"]=(B[s]||0)+1)+"__"),c=function(e){function r(){var t;return(t=e.apply(this,arguments)||this).emitter=j(t.props.value),t}i(r,e);var n=r.prototype;return n.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},n.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var r,n=this.props.value,i=e.value;((o=n)===(s=i)?0!==o||1/o==1/s:o!=o&&s!=s)?r=0:(r="function"==typeof t?t(n,i):1073741823,0!==(r|=0)&&this.emitter.set(e.value,r))}var o,s},n.render=function(){return this.props.children},r}(o.Component);c.childContextTypes=((r={})[a]=k.a.object.isRequired,r);var u=function(t){function r(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,r){0!=((0|e.observedBits)&r)&&e.setState({value:e.getValue()})},e}i(r,t);var n=r.prototype;return n.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},n.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},n.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},n.getValue=function(){return this.context[a]?this.context[a].get():e},n.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},r}(o.Component);return u.contextTypes=((n={})[a]=k.a.object,n),{Provider:c,Consumer:u}},F=r(67),L=r.n(F);r(132);function U(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var V=r(133),Q=r.n(V),G=function(e){var t=P();return t.displayName=e,t},W=G("Router-History"),Y=G("Router"),z=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={location:t.history.location},r._isMounted=!1,r._pendingLocation=null,t.staticContext||(r.unlisten=t.history.listen((function(e){r._isMounted?r.setState({location:e}):r._pendingLocation=e}))),r}i(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=t.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return s.a.createElement(Y.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},s.a.createElement(W.Provider,{children:this.props.children||null,value:this.props.history}))},t}(s.a.Component);var H=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).history=x(t.props),t}return i(t,e),t.prototype.render=function(){return s.a.createElement(z,{history:this.history,children:this.props.children})},t}(s.a.Component);var q=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var r=t.prototype;return r.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},r.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},r.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},r.render=function(){return null},t}(s.a.Component);function J(e){var t=e.message,r=e.when,n=void 0===r||r;return s.a.createElement(Y.Consumer,null,(function(e){if(e||h(!1),!n||e.staticContext)return null;var r=e.history.block;return s.a.createElement(q,{onMount:function(e){e.release=r(t)},onUpdate:function(e,n){n.message!==t&&(e.release(),e.release=r(t))},onUnmount:function(e){e.release()},message:t})}))}var X={},Z=0;function K(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(X[e])return X[e];var t=L.a.compile(e);return Z<1e4&&(X[e]=t,Z++),t}(e)(t,{pretty:!0})}function $(e){var t=e.computedMatch,r=e.to,n=e.push,i=void 0!==n&&n;return s.a.createElement(Y.Consumer,null,(function(e){e||h(!1);var n=e.history,o=e.staticContext,c=i?n.push:n.replace,u=E(t?"string"==typeof r?K(r,t.params):a({},r,{pathname:K(r.pathname,t.params)}):r);return o?(c(u),null):s.a.createElement(q,{onMount:function(){c(u)},onUpdate:function(e,t){var r,n,i=E(t.to);r=i,n=a({},u,{key:i.key}),r.pathname===n.pathname&&r.search===n.search&&r.hash===n.hash&&r.key===n.key&&p(r.state,n.state)||c(u)},to:r})}))}var ee={},te=0;function re(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var r=t,n=r.path,i=r.exact,o=void 0!==i&&i,s=r.strict,a=void 0!==s&&s,c=r.sensitive,u=void 0!==c&&c;return[].concat(n).reduce((function(t,r){if(!r&&""!==r)return null;if(t)return t;var n=function(e,t){var r=""+t.end+t.strict+t.sensitive,n=ee[r]||(ee[r]={});if(n[e])return n[e];var i=[],o={regexp:L()(e,i,t),keys:i};return te<1e4&&(n[e]=o,te++),o}(r,{end:o,strict:a,sensitive:u}),i=n.regexp,s=n.keys,c=i.exec(e);if(!c)return null;var l=c[0],f=c.slice(1),p=e===l;return o&&!p?null:{path:r,url:"/"===r&&""===l?"/":l,isExact:p,params:s.reduce((function(e,t,r){return e[t.name]=f[r],e}),{})}}),null)}var ne=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this;return s.a.createElement(Y.Consumer,null,(function(t){t||h(!1);var r=e.props.location||t.location,n=a({},t,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?re(r.pathname,e.props):t.match}),i=e.props,o=i.children,c=i.component,u=i.render;return Array.isArray(o)&&function(e){return 0===s.a.Children.count(e)}(o)&&(o=null),s.a.createElement(Y.Provider,{value:n},n.match?o?"function"==typeof o?o(n):o:c?s.a.createElement(c,n):u?u(n):null:"function"==typeof o?o(n):null)}))},t}(s.a.Component);function ie(e){return"/"===e.charAt(0)?e:"/"+e}function oe(e,t){if(!e)return t;var r=ie(e);return 0!==t.pathname.indexOf(r)?t:a({},t,{pathname:t.pathname.substr(r.length)})}function se(e){return"string"==typeof e?e:b(e)}function ae(e){return function(){h(!1)}}function ce(){}var ue=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return ce},t.handleBlock=function(){return ce},t}i(t,e);var r=t.prototype;return r.navigateTo=function(e,t){var r=this.props,n=r.basename,i=void 0===n?"":n,o=r.context,s=void 0===o?{}:o;s.action=t,s.location=function(e,t){return e?a({},t,{pathname:ie(e)+t.pathname}):t}(i,E(e)),s.url=se(s.location)},r.render=function(){var e=this.props,t=e.basename,r=void 0===t?"":t,n=e.context,i=void 0===n?{}:n,o=e.location,c=void 0===o?"/":o,u=U(e,["basename","context","location"]),l={createHref:function(e){return ie(r+se(e))},action:"POP",location:oe(r,E(c)),push:this.handlePush,replace:this.handleReplace,go:ae(),goBack:ae(),goForward:ae(),listen:this.handleListen,block:this.handleBlock};return s.a.createElement(z,a({},u,{history:l,staticContext:i}))},t}(s.a.Component);var le=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this;return s.a.createElement(Y.Consumer,null,(function(t){t||h(!1);var r,n,i=e.props.location||t.location;return s.a.Children.forEach(e.props.children,(function(e){if(null==n&&s.a.isValidElement(e)){r=e;var o=e.props.path||e.props.from;n=o?re(i.pathname,a({},e.props,{path:o})):t.match}})),n?s.a.cloneElement(r,{location:i,computedMatch:n}):null}))},t}(s.a.Component);function fe(e){var t="withRouter("+(e.displayName||e.name)+")",r=function(t){var r=t.wrappedComponentRef,n=U(t,["wrappedComponentRef"]);return s.a.createElement(Y.Consumer,null,(function(t){return t||h(!1),s.a.createElement(e,a({},n,t,{ref:r}))}))};return r.displayName=t,r.WrappedComponent=e,Q()(r,e)}var pe=s.a.useContext;function de(){return pe(W)}function he(){return pe(Y).location}function ge(){var e=pe(Y).match;return e?e.params:{}}function me(e){var t=he(),r=pe(Y).match;return e?re(t.pathname,e):r}var ye=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).history=T(t.props),t}return i(t,e),t.prototype.render=function(){return s.a.createElement(z,{history:this.history,children:this.props.children})},t}(s.a.Component);var ve=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).history=R(t.props),t}return i(t,e),t.prototype.render=function(){return s.a.createElement(z,{history:this.history,children:this.props.children})},t}(s.a.Component);var be=function(e,t){return"function"==typeof e?e(t):e},Ee=function(e,t){return"string"==typeof e?E(e,null,null,t):e},we=function(e){return e},_e=s.a.forwardRef;void 0===_e&&(_e=we);var Ae=_e((function(e,t){var r=e.innerRef,n=e.navigate,i=e.onClick,o=U(e,["innerRef","navigate","onClick"]),c=o.target,u=a({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),n())}});return u.ref=we!==_e&&t||r,s.a.createElement("a",u)}));var Ce=_e((function(e,t){var r=e.component,n=void 0===r?Ae:r,i=e.replace,o=e.to,c=e.innerRef,u=U(e,["component","replace","to","innerRef"]);return s.a.createElement(Y.Consumer,null,(function(e){e||h(!1);var r=e.history,l=Ee(be(o,e.location),e.location),f=l?r.createHref(l):"",p=a({},u,{href:f,navigate:function(){var t=be(o,e.location),n=b(e.location)===b(Ee(t));(i||n?r.replace:r.push)(t)}});return we!==_e?p.ref=t||c:p.innerRef=c,s.a.createElement(n,p)}))})),Te=function(e){return e},Se=s.a.forwardRef;void 0===Se&&(Se=Te);var Ie=Se((function(e,t){var r=e["aria-current"],n=void 0===r?"page":r,i=e.activeClassName,o=void 0===i?"active":i,c=e.activeStyle,u=e.className,l=e.exact,f=e.isActive,p=e.location,d=e.sensitive,g=e.strict,m=e.style,y=e.to,v=e.innerRef,b=U(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return s.a.createElement(Y.Consumer,null,(function(e){e||h(!1);var r=p||e.location,i=Ee(be(y,r),r),E=i.pathname,w=E&&E.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_=w?re(r.pathname,{path:w,exact:l,sensitive:d,strict:g}):null,A=!!(f?f(_,r):_),C="function"==typeof u?u(A):u,T="function"==typeof m?m(A):m;A&&(C=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(" ")}(C,o),T=a({},T,c));var S=a({"aria-current":A&&n||null,className:C,style:T,to:i},b);return Te!==Se?S.ref=t||v:S.innerRef=v,s.a.createElement(Ce,S)}))}))}]);